/*! For license information please see main.70aaf804.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},410:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=n(61),o=new Map([[a.ElementType.Tag,1],[a.ElementType.Script,1],[a.ElementType.Style,1],[a.ElementType.Directive,1],[a.ElementType.Text,3],[a.ElementType.CDATA,4],[a.ElementType.Comment,8],[a.ElementType.Root,9]]),s=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=o.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=s;var u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=u;var c=function(e){function t(t){return e.call(this,a.ElementType.Text,t)||this}return r(t,e),t}(u);t.Text=c;var l=function(e){function t(t){return e.call(this,a.ElementType.Comment,t)||this}return r(t,e),t}(u);t.Comment=l;var f=function(e){function t(t,n){var r=e.call(this,a.ElementType.Directive,n)||this;return r.name=t,r}return r(t,e),t}(u);t.ProcessingInstruction=f;var h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=h;var d=function(e){function t(t){return e.call(this,a.ElementType.Root,t)||this}return r(t,e),t}(h);t.Document=d;var p=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var o=e.call(this,i,r)||this;return o.name=t,o.attribs=n,o}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(h);function v(e){return(0,a.isTag)(e)}function m(e){return e.type===a.ElementType.CDATA}function y(e){return e.type===a.ElementType.Text}function g(e){return e.type===a.ElementType.Comment}function k(e){return e.type===a.ElementType.Directive}function b(e){return e.type===a.ElementType.Root}function w(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(g(e))n=new l(e.data);else if(v(e)){var r=t?x(e.children):[],o=new p(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(m(e)){r=t?x(e.children):[];var s=new h(a.ElementType.CDATA,r);r.forEach((function(e){return e.parent=s})),n=s}else if(b(e)){r=t?x(e.children):[];var u=new d(r);r.forEach((function(e){return e.parent=u})),e["x-mode"]&&(u["x-mode"]=e["x-mode"]),n=u}else{if(!k(e))throw new Error("Not implemented yet: ".concat(e.type));var w=new f(e.name,e.data);null!=e["x-name"]&&(w["x-name"]=e["x-name"],w["x-publicId"]=e["x-publicId"],w["x-systemId"]=e["x-systemId"]),n=w}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function x(e){for(var t=e.map((function(e){return w(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=p,t.isTag=v,t.isCDATA=m,t.isText=y,t.isComment=g,t.isDirective=k,t.isDocument=b,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},61:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},127:function(e){e.exports={CASE_SENSITIVE_TAG_NAMES:["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]}},409:function(e,t,n){var r="html",i="head",a="body",o=/<([a-zA-Z]+[0-9]?)/,s=/<head.*>/i,u=/<body.*>/i,c=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"===typeof window.DOMParser){var f=new window.DOMParser;c=l=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),f.parseFromString(e,"text/html")}}if(document.implementation){var h=n(716).isIE,d=document.implementation.createHTMLDocument(h()?"html-dom-parser":void 0);c=function(e,t){return t?(d.documentElement.getElementsByTagName(t)[0].innerHTML=e,d):(d.documentElement.innerHTML=e,d)}}var p,v=document.createElement("template");v.content&&(p=function(e){return v.innerHTML=e,v.content.childNodes}),e.exports=function(e){var t,n,f,h,d=e.match(o);switch(d&&d[1]&&(t=d[1].toLowerCase()),t){case r:return n=l(e),s.test(e)||(f=n.getElementsByTagName(i)[0])&&f.parentNode.removeChild(f),u.test(e)||(f=n.getElementsByTagName(a)[0])&&f.parentNode.removeChild(f),n.getElementsByTagName(r);case i:case a:return h=c(e).getElementsByTagName(t),u.test(e)&&s.test(e)?h[0].parentNode.childNodes:h;default:return p?p(e):c(e,a).getElementsByTagName(a)[0].childNodes}}},159:function(e,t,n){var r=n(409),i=n(716).formatDOM,a=/<(![a-zA-Z\s]+)>/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(""===e)return[];var t,n=e.match(a);return n&&n[1]&&(t=n[1]),i(r(e),null,t)}},716:function(e,t,n){for(var r,i=n(127),a=n(410),o=i.CASE_SENSITIVE_TAG_NAMES,s=a.Comment,u=a.Element,c=a.ProcessingInstruction,l=a.Text,f={},h=0,d=o.length;h<d;h++)r=o[h],f[r.toLowerCase()]=r;function p(e){for(var t,n={},r=0,i=e.length;r<i;r++)n[(t=e[r]).name]=t.value;return n}function v(e){var t=function(e){return f[e]}(e=e.toLowerCase());return t||e}e.exports={formatAttributes:p,formatDOM:function e(t,n,r){n=n||null;for(var i=[],a=0,o=t.length;a<o;a++){var f,h=t[a];switch(h.nodeType){case 1:(f=new u(v(h.nodeName),p(h.attributes))).children=e(h.childNodes,f);break;case 3:f=new l(h.nodeValue);break;case 8:f=new s(h.nodeValue);break;default:continue}var d=i[a-1]||null;d&&(d.next=f),f.parent=n,f.prev=d,f.next=null,i.push(f)}return r&&((f=new c(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=i[0]||null,f.parent=n,i.unshift(f),i[1]&&(i[1].prev=i[0])),i},isIE:function(){return/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}}},854:function(e,t,n){var r=n(595),i=n(131),a=n(159),o={lowerCaseAttributeNames:!1};function s(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return""===e?[]:r(a(e,(t=t||{}).htmlparser2||o),t)}s.domToReact=r,s.htmlToDOM=a,s.attributesToProps=i,s.Element=n(410).Element,e.exports=s,e.exports.default=s},131:function(e,t,n){var r=n(195),i=n(141);function a(e){return r.possibleStandardNames[e]}e.exports=function(e){var t,n,o,s,u;e=e||{};var c={};for(t in e)if(o=e[t],r.isCustomAttribute(t))c[t]=o;else if(s=a(n=t.toLowerCase()))switch(u=r.getPropertyInfo(s),"checked"!==s&&"value"!==s||(s=a("default"+n)),c[s]=o,u&&u.type){case r.BOOLEAN:c[s]=!0;break;case r.OVERLOADED_BOOLEAN:""===o&&(c[s]=!0)}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(c[t]=o);return i.setStyleProp(e.style,c),c}},595:function(e,t,n){var r=n(791),i=n(131),a=n(141),o=a.setStyleProp,s=a.canTextBeChildOfNode;function u(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&a.isCustomComponent(e.name,e.attribs)}e.exports=function e(t,n){for(var a,c,l,f,h,d=(n=n||{}).library||r,p=d.cloneElement,v=d.createElement,m=d.isValidElement,y=[],g="function"===typeof n.replace,k=n.trim,b=0,w=t.length;b<w;b++)if(a=t[b],g&&m(l=n.replace(a)))w>1&&(l=p(l,{key:l.key||b})),y.push(l);else if("text"!==a.type){switch(f=a.attribs,u(a)?o(f.style,f):f&&(f=i(f)),h=null,a.type){case"script":case"style":a.children[0]&&(f.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":"textarea"===a.name&&a.children[0]?f.defaultValue=a.children[0].data:a.children&&a.children.length&&(h=e(a.children,n));break;default:continue}w>1&&(f.key=b),y.push(v(a.name,f,h))}else{if((c=!a.data.trim().length)&&a.parent&&!s(a.parent))continue;if(k&&c)continue;y.push(a.data)}return 1===y.length?y[0]:y}},141:function(e,t,n){var r=n(791),i=n(792).default;var a={reactCompat:!0};var o=r.version.split(".")[0]>=16,s=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);e.exports={PRESERVE_CUSTOM_ATTRIBUTES:o,invertObject:function(e,t){if(!e||"object"!==typeof e)throw new TypeError("First argument must be an object");var n,r,i="function"===typeof t,a={},o={};for(n in e)r=e[n],i&&(a=t(n,r))&&2===a.length?o[a[0]]=a[1]:"string"===typeof r&&(o[r]=n);return o},isCustomComponent:function(e,t){if(-1===e.indexOf("-"))return t&&"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(e,t){if(null!==e&&void 0!==e)try{t.style=i(e,a)}catch(n){t.style={}}},canTextBeChildOfNode:function(e){return!s.has(e.name)},elementsWithNoTextChildren:s}},65:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,c="";function l(e){return e?e.replace(u,c):c}e.exports=function(e,u){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];u=u||{};var f=1,h=1;function d(e){var t=e.match(n);t&&(f+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:f,column:h};return function(t){return t.position=new v(e),k(),t}}function v(e){this.start=e,this.end={line:f,column:h},this.source=u.source}v.prototype.content=e;var m=[];function y(t){var n=new Error(u.source+":"+f+":"+h+": "+t);if(n.reason=t,n.filename=u.source,n.line=f,n.column=h,n.source=e,!u.silent)throw n;m.push(n)}function g(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function k(){g(r)}function b(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,d(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function x(){var e=p(),n=g(i);if(n){if(w(),!g(a))return y("property missing ':'");var r=g(o),u=e({type:"declaration",property:l(n[0].replace(t,c)),value:r?l(r[0].replace(t,c)):c});return g(s),u}}return k(),function(){var e,t=[];for(b(t);e=x();)!1!==e&&(t.push(e),b(t));return t}()}},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,T=60114,S=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),E=j("react.portal"),_=j("react.fragment"),I=j("react.strict_mode"),T=j("react.profiler"),S=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),R=j("react.suspense_list"),P=j("react.memo"),O=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,ze.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Rt=St("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Le();var i=Zt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),En=un(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function Zn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Ot.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Nt:u=bn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Bi=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Hi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Pi,Qi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function qa(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);qa(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,$a.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,$a,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}$a.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:_o,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}_e(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&Bs)&&0===(134217727&qs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):_s(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,Ms=0,Fs=ci(0),Us=0,js=null,Vs=0,Bs=0,qs=0,zs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=zi()+500}var Qs,Ys=null,Xs=!1,Js=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(qs|=t,4===Us&&gu(e,Ls));var r=Hi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ku.bind(null,e),null===ji?(ji=[n],Vi=Ti(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Os===e&&Ls===r||(Gs(),_u(e,r));;)try{Au();break}catch(u){Iu(e,u)}if(na(),Ns.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Us),0!==(Vs&qs))_u(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Su(e,n))),1===r)throw t=js,_u(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(Vs&qs)&&(n=Su(e,t=Ut(e,t)))}else n=Su(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Su(e,t))),1===n)throw n=js,_u(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,zi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Fs,Ms),Ms|=t,Vs|=t}function Eu(){Ms=Fs.current,li(Fs)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Eu()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Us=0,js=null,zs=qs=Bs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),Xa.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Rs.current=null,null===n||null===n.return){Us=1,js=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zs||!Zs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Su(e,t){var n=Ps;Ps|=16;var r=Tu();for(Os===e&&Ls===t||_u(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Ps=n,Ns.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Us}function Cu(){for(;null!==Ds;)Nu(Ds)}function Au(){for(;null!==Ds&&!Ci();)Nu(Ds)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Hi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Br=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var E=Ys.flags;if(36&E&&ys(k,Ys.alternate,Ys),128&E){b=void 0;var _=Ys.ref;if(null!==_){var I=Ys.stateNode;Ys.tag,b=I,"function"===typeof _?_(b):_.current=b}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ui(),Ps=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,zi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||$s||($s=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function ju(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>zi()-Ws?_u(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Hu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Hu(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Yu(n,i,a,t);case U:return(e=Hu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=F,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Zo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},195:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var o={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){o[e]=new a(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=r(e,2),n=t[0],i=t[1];o[n]=new a(n,1,!1,i,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){o[e]=new a(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){o[e]=new a(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){o[e]=new a(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){o[e]=new a(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){o[e]=new a(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){o[e]=new a(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){o[e]=new a(e,5,!1,e.toLowerCase(),null,!1,!1)}));var s=/[\-\:]([a-z])/g,u=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(s,u);o[t]=new a(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(s,u);o[t]=new a(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(s,u);o[t]=new a(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){o[e]=new a(e,1,!1,e.toLowerCase(),null,!1,!1)}));o.xlinkHref=new a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){o[e]=new a(e,1,!1,e.toLowerCase(),null,!0,!0)}));var c=n(590),l=c.CAMELCASE,f=c.SAME,h=c.possibleStandardNames,d=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),p=Object.keys(h).reduce((function(e,t){var n=h[t];return n===f?e[t]=t:n===l?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return o.hasOwnProperty(e)?o[e]:null},t.isCustomAttribute=d,t.possibleStandardNames=p},590:function(e,t){t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)_(S);else{if(!(t.startTime<=e))break;_(S),t.sortIndex=t.expirationTime,x(T,t)}t=E(S)}}function L(e){if(O=!1,D(e),!P)if(null!==E(T))P=!0,n(M);else{var t=E(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=E(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===E(T)&&_(T),D(n)}else _(T);A=E(T)}if(null!==A)var u=!0;else{var c=E(S);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===E(T)&&e===E(S)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},792:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=r(n(426)),a=n(483);t.default=function(e,t){var n={};return e&&"string"===typeof e?(i.default(e,(function(e,r){e&&r&&(n[a.camelCase(e,t)]=r)})),n):n}},483:function(e,t){"use strict";t.__esModule=!0,t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=function(e,t){return t.toUpperCase()},s=function(e,t){return t+"-"};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),t.reactCompat||(e=e.replace(a,s)),e.replace(r,o))}},426:function(e,t,n){var r=n(65);e.exports=function(e,t){var n,i=null;if(!e||"string"!==typeof e)return i;for(var a,o,s=r(e),u="function"===typeof t,c=0,l=s.length;c<l;c++)a=(n=s[c]).property,o=n.value,u?t(a,o,n):o&&(i||(i={}),i[a]=o);return i}},837:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAOl0lEQVR42u3da2xb533H8efCc3h4scjQEiXSRMmljCN0ZitknpdhQ5ZhzpABrRE7NbblsgzIIHjAvNlJhiEYmiEv8yIY0MXAhgIbsg7zjHVdCzfFsA5DWyxD0gJDYPuFYa8G7MzyZbJimZJF8fDw7EWtzBfZIsXLcx7p+wF+gEDSwp+P+POhHpGHUkTcjh07Hp6Zmfl8o9GYDMPwkXa7/ZkwDCfCMBxVSo0GQRBrtVqmx4SFYrGY0Fq32u32rJRyVkp5WSl1QUp51vO808Vi8cSpU6fOmZ7TGtPT06pcLk+l0+nXPM877jjONSFESIipOI5zzfO899Lp9GvlcnlqenpaDb4JFjl8+LAaHx9/IpFIHHFd96KIwA+NkPvFdd2LiUTiyPj4+JOHDx/evGWuVqulVCr1huM45ztZOEKiFsdxzqdSqTer1WppEB2JpGKxOOV53lGllD+MRSZk0FFK+Z7nHS0Wi1P97ktk3CrucSml8QUnZBCRUoae5327UChsnCJXKpViMpl8V0oZmF5gQoYRKWWQTCbfrVQqxX71aOj27dsXGxkZOaS1rpteUEJMRGtdHxkZObR3795YPzo1NIVCYTIej39oegEJiULi8fiHhUJhstdeDUU2mz2glFoyvWiERClKqaVsNnugt3YNUK1WSyeTyWOmF4qQKCeZTB6r1Wrp9TdtAEqlUsVxnJOmF4cQG+I4zslSqVRZZ936K5/P79RaXzG9KITYFK31lXw+v2t9reuTsbGx3UopdpkJWUeUUvWxsbHd6+lez3K53NNsVhHSc4mXcrnc0903sAe3jryUl5A+lXhoR+J8Pr+Tp82E9L3E9fHx8Z3dtbFLpVKpwoYVIYOJ1vrKwHana7Va2nVd/lREyADjuu7Jbv5OrDu94cLCwtcbjcavdnp7AN0LgiC/sLBQ9X3/G53cvqMCZ7PZA/V6/U9M3zlgM/B9/2ez2ez/NhqNH/f8zQqFwiQ7zoQMN0qppUKh8Lm1+vnAc/rs3bs3Njc392673fbW+kYA+qfdbntzc3N/s9ZbER/4FHpmZuYPb968+bLpOwNsRkEQbJuZmflkeXn5g67/cblcLvJmfELMRmtdL5fL9z2zx32PwL7vv9NsNn9eADAmDEPX9/0x3/e/1fE/KhaLU5zDipBoREoZ3u+Ml6segX3f/6tWq2XHKUCATcD3/VKr1Tp69+X37EIXi8Wp5eXlPaYHBvD/lpeXv7jaUfieI7Dv+3/earV2mB4YwJ1838+2Wq1/uv2yO47A1Wq11Gw2v2x6UAD3ajabX777Y1zuOAIvLy8fajabv2Z6UAD3CsNQLS8vL/i+//2Vyz49Ar/66quq2Wzyog0gwprN5u+u+qmIExMTT4gIbJkTQh6c8fHxJ1d6+2mT5+fnf1MAiLwbN27sX/laCSHE/v37VRAEz5geDMDagiB4Zv/+/UqIW5tYi4uLX5ibm/tj04MBWFsQBFsWFxe/NT8/f1kJIcS1a9fMnJsWwLqsdFYJIUSr1foV0wMB6NxKZ6UQQjiOc833/ZzpoQB0xnGcOd/3t8parfbwyZMnf2J6IAye4zgLUspTWuszSqmfaK3/x3Xdy1rrq4lE4nq5XL756KOPNjOZzEK73W6+/fbb7SGMFZpeF1vVarXPilwu94yIwN+2SP/juu55z/O+lslkfmf79u3bV30BgHnG18nW5HK5Z2KNRmO76Z8g+sdxnAuu6/5dLpc79vHHH58QQohGoyHm5+fFmTNnTI+HPmo0GpMqDMNHTQ+C3sXj8e+Pjo5+6aWXXvqZxcXFP10pLzauMAwfEfF4/HsiAk8HyLqfJv84n88/YfrB1APja2hr4vH491QYhhOmf4LontZ6IZPJ/P709PQvXL169Yem58HwhWE4IWOx2KVWq0WJLeK67kdjY2P7L168+N+mZ+mD0PQAtorFYpeV1nrU9CDoXCKR+Obk5OQvbZDyogda61ERi8WMP5cnnSWVSn19z549DzxTv4WMr6utudVd84OQtZNIJP55A5ZXmF5X2yNvfYEIc133xOTk5C+eOHHipulZBoDHXw8ocMQppW5OTEz83MzMzGnTswwIj78eRPGldbhNOp3+ygYuL3pEgSPMcZzTjz/++FdNz4Ho4il0hOVyuf1zc3PfMD3HgPH46wFH4IhyXffMiy+++E3TcyDaOAJH1JYtWw7W6/V3TM8xBDz+esAROIKUUq1KpfL3pudA9HEEjiDP8/6l0Wj8huk5hoTHXw84AkeQ4zjHTc8AO1DgCJqYmPh30zPADjyFjpiVsw2anmOIePz1gCNwxGit/8v0DLAHBY6eU6YHgD0ocMS4rss5utExChwxsVjsgukZYA8KHDGe582YngH2oMARE4/HZ03PAHtQ4Ih57LHHGqZngD0ocMSUSqWNeNocDAgFjhgpZSQKPD09rQqFwi8nEom3XNf9geM4l1zXHcSJ2dADXokVPdL0AKOjo79er9ffXl5e3mF6FjwYBY4eowXOZDJvzs/Pv2F6EdAZChw9xgqczWb/4Pr1639hegHQOQocPUYKXK1Wi+fOnTvbbreTphcAnWMTC0IIIS5duvR7lNc+FBhCCCFardZmOQPIhkKBIYQQIgxDdpwtxO/A0WPkd2ApZRiGPBRsQ4Gjx9QuNI8DC/EUGrAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoF7J/ucjXI/1syzzz47ZvD+bggUGMZ89NFHOdMz2I4Cw5gbN26Mmp7BdhQYxjSbTQrcIwoMk/KmB7AdBYYxQRBwBO4RBYYxQRCwC90jCgxj2u02u9A9osAwJgxDfgfuEQWGMVJKCtwjCgxjwjBkE6tHFBjGhGHI78A9osAw4uDBg24QBCOm57AdBYYR77///mi73TY9hvUoMIz45JNP2MDqAwoMIxYXF9nA6gMKDCMajQYF7gMKDCOCIGAHug8oMIwIw3Dc9AwbAQWGKWxi9QEFhhG8kaE/KDCMaLfbbGL1AQWGEbwOuj8oMIyQUlLgPqDAMIVNrD6gwBi6F154IdtsNmOm59gIKDCG7oMPPmAHuk8oMIaOE7r3DwXG0LVaLX7/7RMKjKHjZHb9I4UQoekhcAdTn1DI48BCHIEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwFJSSqFisZjpOQCsg9ZaKK11y/QgALqntW6pIAhmTQ8CoHtBEMwqpRQFBiyklJpVUsrLpgcB0D0p5WWllLpgehAA3VNKXVBSyrOmBwHQPSnlWeV53mnTgwDonud5p9W2bdtOmB4EQPe2bdt2QgohhOM413zfz5keCEBnHMeZ831/qxJCCK31f5oeCEDnVjqrhBAiFov9wPRAADq30lklhBBbt279N9MDAejcSmeVEELs2rXrhOu6M6aHArA213Vndu3adefmcyKROCKECAkh0c6trgohbns/cCaTOSYARN7IyMg/rnz9aYGff/75/3Ach5dVAhHmOM6F55577oerXplKpd4QEXiKQAhZPalU6s3bO3vHKXUKhcJfK6V4gz8QQUqpVqFQ+Nrtl8m7b+R53tFGo/FbpocFcKdEIvEPS0tLv337Zfec1C6Xy70lpez8uwIYOCmleOihh9665/LVbux53rcbjcYe00MD+CnP877TaDS+dPflq55WNpfL/ZmUsm16aAA/PfrmcrmvrHadXu3Cer1+OZlMftb3/S+YHh7Y7JLJ5N/Ozc395WrX3ffE7vl8/nWt9YLp4YHNTGu9MDY29vp9r7/fFdevX6+n0+mlZrP5tOk7AWxWW7Zsef3q1av/er/rH/jRKk899dQ78Xj8R6bvBLAZxePxH+3evfurPX2TQqEwqZRaEhF4FQohmyVKqaVCofC5tfqp17rBwsLCbCaTudZoNL641m0B9Ecmk/mj2dnZ7/btGyaTyWMiAv8zEbLRc6trHen440Wr1erLjuOc6vT2ALrnOM6parX68kC++bZt2ypa6ysiAv9LEbLRorW+UiqVKl1Usnv5fH6nUqpu+s4SspGilKrn8/md3bVxncbGxnazM01I38q7NDY2trvbHvYkl8s9TYkJ6b28uVzOzIulbh2JeTpNyPrKWx/6kfdu+Xx+JxtbhHQXrfWVof3Ou5ZSqVRxHOek6UUhxIY4jnNy4LvN3arVamle7EHIg5NMJo/VarX0+ps2YNls9gCbW4TcGaXUUjabPdBbu4akUChMxuPxD00vGiFRSDwe/7BQKEz22quh2rdvX2xkZOSQ1ppdarIpo7Wuj4yMHNq7d2+sH50yolKpFJPJ5LtSysD0ghIyjEgpw2Qy+W6lUin2q0fGFYvFKc/zjkspjS8wIYOIlDL0PO94oVCY6md3IqVYLE4lEomjSinf9IIT0o8opXzP844Wi8WNW9y7VavVUiqVesNxnPPDWGRC+h3Hcc6nUqk3q9VqaRAdscLhw4fV+Pj4E4lE4ojruhc7WThCTMV13YuJROLI+Pj4k6+88krH76ffFKanp1W5XJ5Kp9OveZ73nuM410QEfmhk88ZxnGue572XTqdfK5fLUwcPHoxUaSP/IUg7dux4eGZm5vONRmMyDMNH2u32Z8IwnAjDcFQpNRoEQazV4gMV0R0ppdBaC611q91uz0opZ6WUl5VSF6SUZz3PO10sFk+cOnXqnOlZH+T/AMkQvnDAhKYkAAAAAElFTkSuQmCC"},323:function(e,t,n){"use strict";e.exports=n.p+"static/media/google.6bc7d49355c4e25579a0.png"},281:function(e,t,n){"use strict";e.exports=n.p+"static/media/eu.917b9aa02c6a29dc7dd5.png"},219:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAOl0lEQVR42u3da2xb533H8efCc3h4scjQEiXSRMmljCN0ZitknpdhQ5ZhzpABrRE7NbblsgzIIHjAvNlJhiEYmiEv8yIY0MXAhgIbsg7zjHVdCzfFsA5DWyxD0gJDYPuFYa8G7MzyZbJimZJF8fDw7EWtzBfZIsXLcx7p+wF+gEDSwp+P+POhHpGHUkTcjh07Hp6Zmfl8o9GYDMPwkXa7/ZkwDCfCMBxVSo0GQRBrtVqmx4SFYrGY0Fq32u32rJRyVkp5WSl1QUp51vO808Vi8cSpU6fOmZ7TGtPT06pcLk+l0+nXPM877jjONSFESIipOI5zzfO899Lp9GvlcnlqenpaDb4JFjl8+LAaHx9/IpFIHHFd96KIwA+NkPvFdd2LiUTiyPj4+JOHDx/evGWuVqulVCr1huM45ztZOEKiFsdxzqdSqTer1WppEB2JpGKxOOV53lGllD+MRSZk0FFK+Z7nHS0Wi1P97ktk3CrucSml8QUnZBCRUoae5327UChsnCJXKpViMpl8V0oZmF5gQoYRKWWQTCbfrVQqxX71aOj27dsXGxkZOaS1rpteUEJMRGtdHxkZObR3795YPzo1NIVCYTIej39oegEJiULi8fiHhUJhstdeDUU2mz2glFoyvWiERClKqaVsNnugt3YNUK1WSyeTyWOmF4qQKCeZTB6r1Wrp9TdtAEqlUsVxnJOmF4cQG+I4zslSqVRZZ936K5/P79RaXzG9KITYFK31lXw+v2t9reuTsbGx3UopdpkJWUeUUvWxsbHd6+lez3K53NNsVhHSc4mXcrnc0903sAe3jryUl5A+lXhoR+J8Pr+Tp82E9L3E9fHx8Z3dtbFLpVKpwoYVIYOJ1vrKwHana7Va2nVd/lREyADjuu7Jbv5OrDu94cLCwtcbjcavdnp7AN0LgiC/sLBQ9X3/G53cvqMCZ7PZA/V6/U9M3zlgM/B9/2ez2ez/NhqNH/f8zQqFwiQ7zoQMN0qppUKh8Lm1+vnAc/rs3bs3Njc392673fbW+kYA+qfdbntzc3N/s9ZbER/4FHpmZuYPb968+bLpOwNsRkEQbJuZmflkeXn5g67/cblcLvJmfELMRmtdL5fL9z2zx32PwL7vv9NsNn9eADAmDEPX9/0x3/e/1fE/KhaLU5zDipBoREoZ3u+Ml6segX3f/6tWq2XHKUCATcD3/VKr1Tp69+X37EIXi8Wp5eXlPaYHBvD/lpeXv7jaUfieI7Dv+3/earV2mB4YwJ1838+2Wq1/uv2yO47A1Wq11Gw2v2x6UAD3ajabX777Y1zuOAIvLy8fajabv2Z6UAD3CsNQLS8vL/i+//2Vyz49Ar/66quq2Wzyog0gwprN5u+u+qmIExMTT4gIbJkTQh6c8fHxJ1d6+2mT5+fnf1MAiLwbN27sX/laCSHE/v37VRAEz5geDMDagiB4Zv/+/UqIW5tYi4uLX5ibm/tj04MBWFsQBFsWFxe/NT8/f1kJIcS1a9fMnJsWwLqsdFYJIUSr1foV0wMB6NxKZ6UQQjiOc833/ZzpoQB0xnGcOd/3t8parfbwyZMnf2J6IAye4zgLUspTWuszSqmfaK3/x3Xdy1rrq4lE4nq5XL756KOPNjOZzEK73W6+/fbb7SGMFZpeF1vVarXPilwu94yIwN+2SP/juu55z/O+lslkfmf79u3bV30BgHnG18nW5HK5Z2KNRmO76Z8g+sdxnAuu6/5dLpc79vHHH58QQohGoyHm5+fFmTNnTI+HPmo0GpMqDMNHTQ+C3sXj8e+Pjo5+6aWXXvqZxcXFP10pLzauMAwfEfF4/HsiAk8HyLqfJv84n88/YfrB1APja2hr4vH491QYhhOmf4LontZ6IZPJ/P709PQvXL169Yem58HwhWE4IWOx2KVWq0WJLeK67kdjY2P7L168+N+mZ+mD0PQAtorFYpeV1nrU9CDoXCKR+Obk5OQvbZDyogda61ERi8WMP5cnnSWVSn19z549DzxTv4WMr6utudVd84OQtZNIJP55A5ZXmF5X2yNvfYEIc133xOTk5C+eOHHipulZBoDHXw8ocMQppW5OTEz83MzMzGnTswwIj78eRPGldbhNOp3+ygYuL3pEgSPMcZzTjz/++FdNz4Ho4il0hOVyuf1zc3PfMD3HgPH46wFH4IhyXffMiy+++E3TcyDaOAJH1JYtWw7W6/V3TM8xBDz+esAROIKUUq1KpfL3pudA9HEEjiDP8/6l0Wj8huk5hoTHXw84AkeQ4zjHTc8AO1DgCJqYmPh30zPADjyFjpiVsw2anmOIePz1gCNwxGit/8v0DLAHBY6eU6YHgD0ocMS4rss5utExChwxsVjsgukZYA8KHDGe582YngH2oMARE4/HZ03PAHtQ4Ih57LHHGqZngD0ocMSUSqWNeNocDAgFjhgpZSQKPD09rQqFwi8nEom3XNf9geM4l1zXHcSJ2dADXokVPdL0AKOjo79er9ffXl5e3mF6FjwYBY4eowXOZDJvzs/Pv2F6EdAZChw9xgqczWb/4Pr1639hegHQOQocPUYKXK1Wi+fOnTvbbreTphcAnWMTC0IIIS5duvR7lNc+FBhCCCFardZmOQPIhkKBIYQQIgxDdpwtxO/A0WPkd2ApZRiGPBRsQ4Gjx9QuNI8DC/EUGrAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoF7J/ucjXI/1syzzz47ZvD+bggUGMZ89NFHOdMz2I4Cw5gbN26Mmp7BdhQYxjSbTQrcIwoMk/KmB7AdBYYxQRBwBO4RBYYxQRCwC90jCgxj2u02u9A9osAwJgxDfgfuEQWGMVJKCtwjCgxjwjBkE6tHFBjGhGHI78A9osAw4uDBg24QBCOm57AdBYYR77///mi73TY9hvUoMIz45JNP2MDqAwoMIxYXF9nA6gMKDCMajQYF7gMKDCOCIGAHug8oMIwIw3Dc9AwbAQWGKWxi9QEFhhG8kaE/KDCMaLfbbGL1AQWGEbwOuj8oMIyQUlLgPqDAMIVNrD6gwBi6F154IdtsNmOm59gIKDCG7oMPPmAHuk8oMIaOE7r3DwXG0LVaLX7/7RMKjKHjZHb9I4UQoekhcAdTn1DI48BCHIEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwGIUGLAYBQYsRoEBi1FgwFJSSqFisZjpOQCsg9ZaKK11y/QgALqntW6pIAhmTQ8CoHtBEMwqpRQFBiyklJpVUsrLpgcB0D0p5WWllLpgehAA3VNKXVBSyrOmBwHQPSnlWeV53mnTgwDonud5p9W2bdtOmB4EQPe2bdt2QgohhOM413zfz5keCEBnHMeZ831/qxJCCK31f5oeCEDnVjqrhBAiFov9wPRAADq30lklhBBbt279N9MDAejcSmeVEELs2rXrhOu6M6aHArA213Vndu3adefmcyKROCKECAkh0c6trgohbns/cCaTOSYARN7IyMg/rnz9aYGff/75/3Ach5dVAhHmOM6F55577oerXplKpd4QEXiKQAhZPalU6s3bO3vHKXUKhcJfK6V4gz8QQUqpVqFQ+Nrtl8m7b+R53tFGo/FbpocFcKdEIvEPS0tLv337Zfec1C6Xy70lpez8uwIYOCmleOihh9665/LVbux53rcbjcYe00MD+CnP877TaDS+dPflq55WNpfL/ZmUsm16aAA/PfrmcrmvrHadXu3Cer1+OZlMftb3/S+YHh7Y7JLJ5N/Ozc395WrX3ffE7vl8/nWt9YLp4YHNTGu9MDY29vp9r7/fFdevX6+n0+mlZrP5tOk7AWxWW7Zsef3q1av/er/rH/jRKk899dQ78Xj8R6bvBLAZxePxH+3evfurPX2TQqEwqZRaEhF4FQohmyVKqaVCofC5tfqp17rBwsLCbCaTudZoNL641m0B9Ecmk/mj2dnZ7/btGyaTyWMiAv8zEbLRc6trHen440Wr1erLjuOc6vT2ALrnOM6parX68kC++bZt2ypa6ysiAv9LEbLRorW+UiqVKl1Usnv5fH6nUqpu+s4SspGilKrn8/md3bVxncbGxnazM01I38q7NDY2trvbHvYkl8s9TYkJ6b28uVzOzIulbh2JeTpNyPrKWx/6kfdu+Xx+JxtbhHQXrfWVof3Ou5ZSqVRxHOek6UUhxIY4jnNy4LvN3arVamle7EHIg5NMJo/VarX0+ps2YNls9gCbW4TcGaXUUjabPdBbu4akUChMxuPxD00vGiFRSDwe/7BQKEz22quh2rdvX2xkZOSQ1ppdarIpo7Wuj4yMHNq7d2+sH50yolKpFJPJ5LtSysD0ghIyjEgpw2Qy+W6lUin2q0fGFYvFKc/zjkspjS8wIYOIlDL0PO94oVCY6md3IqVYLE4lEomjSinf9IIT0o8opXzP844Wi8WNW9y7VavVUiqVesNxnPPDWGRC+h3Hcc6nUqk3q9VqaRAdscLhw4fV+Pj4E4lE4ojruhc7WThCTMV13YuJROLI+Pj4k6+88krH76ffFKanp1W5XJ5Kp9OveZ73nuM410QEfmhk88ZxnGue572XTqdfK5fLUwcPHoxUaSP/IUg7dux4eGZm5vONRmMyDMNH2u32Z8IwnAjDcFQpNRoEQazV4gMV0R0ppdBaC611q91uz0opZ6WUl5VSF6SUZz3PO10sFk+cOnXqnOlZH+T/AMkQvnDAhKYkAAAAAElFTkSuQmCC"},904:function(e,t,n){"use strict";e.exports=n.p+"static/media/google.6bc7d49355c4e25579a0.png"},360:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABFoSURBVHhe7d0JkBxlFQfwBRQ17E7PbLJsAiFBzhA5wiURsIhgoBTEMqWlIFZxiwJyiAjhSDBqMAUoAqIckcsCE0rOKIoEErJn7oRAyEXug80ds9kjM+3/db+Z6e75ZqZndrM7yf5/Va92t79jvp5530yfs2VEREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREQ9m23bFmJIIpH4GuJcxPH4+0AtLhr6OQT9nI34On4/EzEQv++vxUSlSZIUyToc8RfEYkQCy3ywqBnxOmIE/jxAm+aF+kcixiGWuT35Yfl2xL8RNyKqtBlR90N+HoCkvBKx2E3XcFB/IeI72o0RyuXT4hn83O22yg91WxBP4dcB2g1R92htbT0JyTjTTc3ioP1riGrtMgXLrkZs02oFQ9udiNvxKze/qOsh+W5AtLjpmF3L6tX2tro6e8t//mNvnTrVbl2zRkvS0M86xDnSL/4sx+8vuSUdh74mI/o5gyba05Bzsq/xZzf9DOJxe8vbb9uLr73WnnH00XZdNJoRs08/3V794IN2++bN2shJ5DbELxBzdFFKAn3uXLDA/vSll+xV48bZy0eOtD+580571f33200TJti7li/XmmbocxVisK4C0Z6DRMs6OTb/61/2nDPOME4KUzQOGGCvefRRO9Herj34/W/ePHvZrbdmnWjemHv22fb6p5+24y3mD7V4PL4eYz9SV4Oo8yHBbtJ889m9Y4e96OqrjYkbJuafd56965NPtDfbbl60yP7oBz8w1s0Xs4YMsbe+95725IfxL8CPcl0dos6D5JId8lY31dLaNmxw3r1NyVpINB5+uL3lnXfstY89ZtdXVxvrhI7KSnv1Qw/pCP2wDk/qKhF1DuTVfkisWjfF0nZv327PPfNMc5IWE7GYeXmRsXLsWB1pGtZDnKWrRtRxSKjvaH75LLzsMmNillI0vfyyjjYN6/O+rhpRxyGhMj495OiRKSFLLeRAQJZDy1/R1SMqHhJpsOZUSnzXLnvmcccZE7IUY/E11+jI07BeT+kqEhUPiXSX5lTK+vHjjYlYsoGd9l1Ll+roXVivJvzgWXbqGCTSO25Kpc0791xzIpZwrBg1SkfvM0RXk6g4mCBbNJkcsj3f2UebuiJmn3qqrkEa1u0qXU2iwiGBqjSXUuSokCkB94ZoXbdO18KF9Rurq0pUOCRQxg76yjFjjMm3N8SWyZN1LVzxePxpXVWiwmGCnKK5lLLk+uuNyZct5KLFlb/9rT39qKOM5V0Zn/7tb7oWLqzfC7qqRIVDAsltsj6LrrzSmHymWHpT+tKt7fX1xjrBmHHssfbGV16xN735pj37tNOMdYoNuZjRC+s3XleVqHDIob5uKqUtvu46Y/IFY8agQXb71q3ayrXwkkuMdb2x+a23tLZtt336qT33rLOM9YqJDZmfION0VYkKhxySa7B2uOnkksOlpuQLxqbXX9cWaTs/+MA5J2GqL7Hw0ku1Zlr7pk32vGHDjPULDbkY0gvr9mNdVaLiIImmaj45ZDvelHzekGu0sll01VXGNg2HHGK3rFyptfzkk2j++ecb2xUSLYFLTrBup+tqEhUHSfQrzSfHriVLjMmXDOfap7VrtbZtt6xa5XwKJDWjfX2fPhnt5A5Dr13L/F9gIvecLLjooox2YUPuEwmQ7b/P6GoSFQcTJONI1orRo+1lt91mDNm59pIbn5bfe6/+5Vpy442+5JVbcOOt6VtNZFOsoW9fu2niRF3iijc3F3THojeW3+W/YgbrxSNY1DmQTLM1rwqy8dVXneRs6Ncv41PFe1OU7w7ARMKef8EFbhn2VzY8/7wWuJbeckuqXeiIxezmjz/WHlxYp/N09Yg6BsmUfaciC9lvkCNZySSVe8u9PrnjDme57JN4bXjuuXRiSyC51z7+uDNxWlasKOoq4o8vv1x7d2F9ZuHHfrp6RB2DZJIvh5vrZFcSEjaxe7cx2pqa7IU//KEvSeurqnz3ncshXJlA3ss/2jZutKcfcYSvXTJkuWnfJV80HHqoM7G8sC4X6KoRdQ4klXwPbuobDhNtbQXvNMtZda9g4hZ6lj5MGM59/F1XiahzIb9Gu2nmkqNTBZ3txj7Fzg8/1NZ+22prO/0q4eDBAUyO5YhKXR2izoUc2x8xwck2JZe/y1EoU4KaQja9guTTaE5nfvkDYvndd8uM0EdwbMXkOFFXhWjPQKIdiER7zc05l3z1T+gEx6fEjhkztKVrzcMPm+sWGSt//WvtOUUmB+9Bp66BhJNJ8g8391xtBVwSsuDii7WVe8hXdqRN9YqJ1Q88oD27MM4tiC/r0Im6BnLvswjf5pZzScjw4cbEDYYcel33xBP2nKFDjeUFBz6Z5GtMvTAxNiNO0yETdS3k4GeQgC+66ehyLgm58EJzEu+pwORY95T8S5A0jGsj4mQdKlH3QC7KOZIX3LR0ySUhH44YYU7mzg7D2XaMpwlxkg6RqHshJ2WSPOump0u+ZT3M/R8dCTlxKF9g54VxbECcoEMjKg3ITfm/IePdNHXJ4VvZ1zAld0dDzsxvfM13ME0mh/wjni/pkIhKC3JUJskTbrq65NKTsHchho2G6mrfnYcCjytXQw7SoRCVJiSp3IX4uJO1Sv5D1NKbbzYme6EhVwYHv50Ej7cacYwOgai0IWdlkjzipq9KJFJX8BYbjf3729umTdMOXXiclYij9KGJ9g7IXZkkf3DTOG3FffcZkz9fNA4caG9vbNReXOhfrnY8Qh+SaO8Tj8f999KC/CNO0yTIFnKp+47Z/nu2MDnk2vnD9WGI9l5I5t+5aZ225pFHQl29K//AU27B9UJ/S5ubmwdq90R7PyT1bzS/U9Y9+WTOSTJz0CDTrbKLEYdpt0T7DiT2fZrnKXIW3PRdWTOPPz7jm03Q/mPEodod0b4HCe6/iwmaJk703U476+STM74jC+0+QvTTboj2XUj0kZr3KZsmTbJnnXSScxuv9xtQBOrLTkhfbU6070PS3+6mf26oNw9xsDYj6jmQ+D/XeWCE8jn40UerE/U8mAQ3IXw3j4t4PD4Li3trNaKeCxPhBu8kwa/TEfz2EaIkTIgRiJcRcubd0sVEREREREREe4+a3r0H1cZi19VHozfUVVScoYtDs8vK9quLRIbXRaM/q41EftxoWb77K6Ss3rJuQ/8jQ8adtRhLQ69eqTPfMsY6y/o5lo/C49xTg8DPu6R+TSRyB8quaYjFvvJuWVne//g0tby8SupjXL+sicUuQZvPa1FWsy0rivrfx2OOQ9sXai3refz8TV0s9s0w7b3k+ZoWjX4b7W+tr6wcrIupFDXGYoch6Vrk+qVkSHJqcSho8ztfe8va9i4SSsqmuUmVKiskMI4Z0geSKCJ9muoEA22aJHEloaWtifQbaPe0FmWYHokcif6eQZ1dgTbe2IzxjXm3qqpcm+WE+k8m2zrPfRFvStRF5B0w+WJ5XrTWsC8akmcE6ieCfSCph0o5EucPwbICIo532wMaLGuIoSxfrK2xrIz/ACXv3sHxyoTR4pRRZWX7Y/lIlPvePHKGZa3AJ1rO79KahnXJeL4s6z0tplLTEI1e5HuxNJDYKxoqKnKehcYkOjrbOzs22c6SOij/k6k8ZLQjoffH5tmphrIw0Y5kvNQZrJqACReshzHO0WKHbKYh0V8M1gsZ/9BujFA+IVDfCWxyfVWrUCnJNkEkkDiT5J1Uq/rU9u//BbzzzTG1k+ikCfKW9NGBCSLRjnEOk35EmAmCSfVgsE4BMU67yVBXWXkc+o4b2kg460olJtcEkZDNDK3qg+XjTfWTkXOCWNboeuwcZwvZcZZNvxn9+vWSPkwTBP1OSbWJRn+Ev8dg+ZJgPSfwaZjsK98E0ccyJXEC9d7QHfUTsW91GjbhrsWy+ck6eE6WvG9ZMe0qA+o+l6xrippIhP9zvdSEmCC7ve/AAolxhamuN3JOkFjsbKejkIwTJBr9qxanYEfisyjzHTDwxE1SJ98EQb8TM8qj0S31kcj5WsXng7KyA/H83Ip6T02JxbLexouJcwTqtHv7DQbG8apWp1KRb4JIIEHWJQ+54vcT8ELuNNXzRndMkCQk7KPB+oiZUpZrgshRKPydsVNeg+dIyjsC4/1LsN9goE5iKj6dtAmVAtMEkRfKsOxdOXSL5PvIUJZZP/c+iByKXRMM9LMQP69wBuZR6ATRw8I7Am3i03r3rsg1QfDYwwxldU6nHYDx9EdfGRMP67DMsOwlbUalwDRBsAn1DBJja3A5EmhlcBnqrcCLmrlZUvxO+iZnYB6FThCBx51kaHNCnglyebAMz8V9TocdgPGbDnU3YF/rTMPy3dMqKo7VptTdsnyC3Ks7o77lhmhvxIuMTZA/B8s6MEFs2a53BqeKmiCGgwi1kciXc06QaPQnwTLET50Oi1Rz0EEHo/+MTVI5ky7l+P2/wbL6POtGXSjbBJEyU5J5I1mvMycI+two7byKmSD4NHgj2EYuV8kzQS4LliHucTosEsZ5f7BPrM9cOWGp5ecEy7GsbYplfdHpgLpXrgkyp7r6IPydsc8hgaR6X85yS71CJwiWycnFTYZYgrKrpJ1XoRNE9jX0Mbz1WxeVlX0u1wSRs//BMsRkp9MiyCHf4DgksGwNoi4ZWLY7WAcT/HHthrpTrgki5NIJvFjNgTqbMSlSX9tZ8CfInj+K9YihvpPouSbIPzGB0Na3c492CSzzHeYOC23lwkrfY4UNtG2prazkF9x1t3wTRGAC/AjL3WP4mCyYNBdqkaNUJojsu2C58Sy4rIPUyTVBBNZPLkz0l0ej62UMWsVHLoVBncvQ/0MzystT354in2JYLp+Kvr4KjN9rd9RdwkwQgR3co5Ak3zW9qxU6QTDBRiIRR+SMSGS4vKNLH8YJ4jmTLsmPv8dg3BmHTZ2wrPnJy+DzTZD3Y7EvoZ+MTR4sa0M8gTinoaqqLx5zoDwf6HuKp16jnKyUftDn7Z7lRQX62Ck7+c7AqHuEnSC5FDpBwgbG0fFrsfCJhzGcIv2IfBNEYAKPDdYJG2h7g1ynhrGvzyi3rNGIYTki49o2jG2sDou6QylPEESHrubFerTi58XOIFWYCSJ10LbYq3nlat2fBpbJY6xKfiJmgzrfM7TbJic+tQp1NbkoMPiiIO7W4lDwzpexU9yoF96h7I/BsgIiLptGSNYTDGW5wz0zf44zQA85vIrlwYsRnctQvHRi/gp1M48wZY/N8saANq8YypxrwXJx9mdMVypY1te1CnU1bHMPwAsq77TpFwWTRotDQSJd62sfjW5J3l2HFzzj7HTYwLimSx+v9+vXC0mSeWbfEGjj3FGYvKPRBHVC31GIxz0F9d9CnYzLaTzRjnrPT+/Tx/nmeDx/38AYUicHUbY2eTVxPqjvOxcjz8G/q6sP0mLqDnghTsSLeAsS/Ta8sAUf0pR35ZpI5AK0/wX6uVlOyGmRkHfsb+Ex7sbPUaFDxlNZ2V/7cG7OQh8/Q1nGPexybznqX11fUTE0uTOey6zy8ipsFl6PtvdizFfK+R4tyqqhouIYeX7wOC8ipuB5eq/Gsp6VxzXtSKP8cIz3IbSZlNzcDEM+RbCOD6Dt24ifBK8qICIiIiIqJYlEohoh33J+D6NHh+RAtaYFCTwhhyE2uF/+Tz2d5sIATQ/CE3KX+9QQuZATHbpUf5+CJ+N6fV6IHMiJGzU9CM9HLzwh77hPDfV0yIXJ+BHq5GSPgidmMGIoo0fHYEwO545FIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiItrLlJX9H2yQMyBTH5PiAAAAAElFTkSuQmCC"},954:function(e,t,n){"use strict";e.exports=n.p+"static/media/noprof.c3f945216dc12c9498dc.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/MEDICA/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ae},SDK_VERSION:function(){return wt},_DEFAULT_ENTRY_NAME:function(){return st},_addComponent:function(){return ft},_addOrOverwriteComponent:function(){return ht},_apps:function(){return ct},_clearComponents:function(){return mt},_components:function(){return lt},_getProvider:function(){return pt},_registerComponent:function(){return dt},_removeServiceInstance:function(){return vt},deleteApp:function(){return It},getApp:function(){return Et},getApps:function(){return _t},initializeApp:function(){return xt},onLog:function(){return Ct},registerVersion:function(){return St},setLogLevel:function(){return At}});var t=n(791),r=n(164);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function p(e){var t=l();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function v(e){if(Array.isArray(e))return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return v(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||y(e,t)||g()}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}var w,x=w||(w={});x.Pop="POP",x.Push="PUSH",x.Replace="REPLACE";var E=function(e){return e};function _(e){e.preventDefault(),e.returnValue=""}function I(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function T(){return Math.random().toString(36).substr(2,8)}function S(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function C(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function A(e,t){if(!e)throw new Error(t)}var N=(0,t.createContext)(null);var R=(0,t.createContext)(null);var P=(0,t.createContext)({outlet:null,matches:[]});function O(e){var n=e.to,r=e.replace,i=e.state;U()||A(!1);var a=V();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function D(e){return function(e){var n=(0,t.useContext)(P).outlet;if(n)return(0,t.createElement)(B.Provider,{value:e},n);return n}(e.context)}function L(e){A(!1)}function M(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?w.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;U()&&A(!1);var h=$(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=C(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,x=p.state,E=void 0===x?null:x,_=p.key,I=void 0===_?"default":_,T=(0,t.useMemo)((function(){var e=J(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:E,key:I}}),[h,m,g,b,E,I]);return null==T?null:(0,t.createElement)(N.Provider,{value:d},(0,t.createElement)(R.Provider,{children:a,value:{location:T,navigationType:u}}))}function F(e){var n=e.children,r=e.location;return function(e,n){U()||A(!1);var r=(0,t.useContext)(P).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=j();if(n){var c,l="string"===typeof n?C(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||A(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],r);return a}(e,{pathname:h});0;return Q(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:Z([o,e.pathnameBase])})})),r)}(q(n),r)}function U(){return null!=(0,t.useContext)(R)}function j(){return U()||A(!1),(0,t.useContext)(R).location}function V(){U()||A(!1);var e=(0,t.useContext)(N),n=e.basename,r=e.navigator,i=(0,t.useContext)(P).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=X(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var B=(0,t.createContext)(null);function q(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==L&&A(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=q(e.props.children)),n.push(r)}else n.push.apply(n,q(e.props.children))})),n}function z(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||A(!1),a.relativePath=a.relativePath.slice(r.length));var o=Z([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&A(!1),z(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:K(o,e.index),routesMeta:s})})),t}var H=/^:\w+$/,W=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(H.test(t)?3:""===t?1:10)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:Z([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function Q(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(P.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(D,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=k(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e,t,n){var r,i="string"===typeof e?C(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?C(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ee(a),hash:te(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},$=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function ne(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=C(s.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=u.state||{};return[r.idx,E({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(c)p.call(c),c=null;else{var e=w.Pop,n=t(),r=n[0];if(n=n[1],p.length){if(null!=r){var i=f-r;i&&(c={action:e,location:n,retry:function(){o(-1*i)}},o(i))}}else a(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=s.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:S(e))}function i(e,t){return void 0===t&&(t=null),E(b({pathname:h.pathname,hash:"",search:""},"string"===typeof e?C(e):e,{state:t,key:T()}))}function a(e){l=e,e=t(),f=e[0],h=e[1],d.call({action:l,location:h})}function o(e){u.go(e)}void 0===e&&(e={});var s=void 0===(e=e.window)?document.defaultView:e,u=s.history,c=null;s.addEventListener("popstate",n),s.addEventListener("hashchange",(function(){S(t()[1])!==S(h)&&n()}));var l=w.Pop,f=(e=t())[0],h=e[1],d=I(),p=I();return null==f&&(f=0,u.replaceState(b({},u.state,{idx:f}),"")),{get action(){return l},get location(){return h},createHref:r,push:function e(t,n){var o=w.Push,c=i(t,n);if(!p.length||(p.call({action:o,location:c,retry:function(){e(t,n)}}),0)){var l=[{usr:c.state,key:c.key,idx:f+1},r(c)];c=l[0],l=l[1];try{u.pushState(c,"",l)}catch(jh){s.location.assign(l)}a(o)}},replace:function e(t,n){var o=w.Replace,s=i(t,n);p.length&&(p.call({action:o,location:s,retry:function(){e(t,n)}}),1)||(s=[{usr:s.state,key:s.key,idx:f},r(s)],u.replaceState(s[0],"",s[1]),a(o))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&s.addEventListener("beforeunload",_),function(){t(),p.length||s.removeEventListener("beforeunload",_)}}}}({window:i}));var o=a.current,s=k((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(M,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}function re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function ie(){return ie="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=re(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ie.apply(this,arguments)}function ae(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oe(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oe(a,r,i,o,s,"next",e)}function s(e){oe(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ue(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ce(e){return function(e){if(Array.isArray(e))return m(e)}(e)||ue(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=n(757),he=n.n(fe);function de(e,t,n){return de=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},de.apply(null,arguments)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return de(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)},pe(e)}var ve=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ve(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ye=function(e){return function(e){var t=ve(e);return me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ge=function(e){try{return me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ke(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ke(e[n],t[n]));return e}var be=function(){function e(){var t=this;i(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return o(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function we(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(a)),""].join(".")}function xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function _e(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ie(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Te(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Se(){var e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ce(){return"object"===typeof indexedDB}var Ae=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,r)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(h(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(h(o),Ne.prototype.create),o}return o(n)}(pe(Error)),Ne=function(){function e(t,n,r){i(this,e),this.service=t,this.serviceName=n,this.errors=r}return o(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Re(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ae(n,a,t);return o}}]),e}();function Re(e,t){return e.replace(Pe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pe=/\{\$([^}]+)}/g;function Oe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function De(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Le(s)&&Le(u)){if(!De(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Le(e){return null!==e&&"object"===typeof e}function Me(e){for(var t=[],n=function(){var e=k(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Fe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=k(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ue(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function je(e,t){var n=new Ve(e,t);return n.subscribe.bind(n)}var Ve=function(){function e(t,n){var r=this;i(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return o(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ae(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Be),void 0===r.error&&(r.error=Be),void 0===r.complete&&(r.complete=Be);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Be(){}function qe(e){return e&&e._delegate?e._delegate:e}var ze=function(){function e(t,n,r){i(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return o(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),He="[DEFAULT]",We=function(){function e(t,n){i(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return o(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new be;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch(u){}var t,n=ae(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=k(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=se(fe.mark((function e(){var t;return fe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ce(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ce(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ae(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=k(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(iE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===He?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(iE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return this.component?this.component.multipleInstances?e:He:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ke,Ge,Qe=function(){function e(t){i(this,e),this.name=t,this.providers=new Map}return o(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new We(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ye=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ge||(Ge={}));var Xe,Je,Ze={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},$e=Ge.INFO,et=(le(Ke={},Ge.DEBUG,"log"),le(Ke,Ge.VERBOSE,"log"),le(Ke,Ge.INFO,"info"),le(Ke,Ge.WARN,"warn"),le(Ke,Ge.ERROR,"error"),Ke),tt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=et[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},nt=function(){function e(t){i(this,e),this.name=t,this._logLevel=$e,this._logHandler=tt,this._userLogHandler=null,Ye.push(this)}return o(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ge))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ze[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ge.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ge.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.INFO].concat(t)),this._logHandler.apply(this,[this,Ge.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.WARN].concat(t)),this._logHandler.apply(this,[this,Ge.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ge.ERROR].concat(t)),this._logHandler.apply(this,[this,Ge.ERROR].concat(t))}}]),e}();var rt=function(){function e(t){i(this,e),this.container=t}return o(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var it="@firebase/app",at="0.7.11",ot=new nt("@firebase/app"),st="[DEFAULT]",ut=(le(Xe={},it,"fire-core"),le(Xe,"@firebase/app-compat","fire-core-compat"),le(Xe,"@firebase/analytics","fire-analytics"),le(Xe,"@firebase/analytics-compat","fire-analytics-compat"),le(Xe,"@firebase/app-check","fire-app-check"),le(Xe,"@firebase/app-check-compat","fire-app-check-compat"),le(Xe,"@firebase/auth","fire-auth"),le(Xe,"@firebase/auth-compat","fire-auth-compat"),le(Xe,"@firebase/database","fire-rtdb"),le(Xe,"@firebase/database-compat","fire-rtdb-compat"),le(Xe,"@firebase/functions","fire-fn"),le(Xe,"@firebase/functions-compat","fire-fn-compat"),le(Xe,"@firebase/installations","fire-iid"),le(Xe,"@firebase/installations-compat","fire-iid-compat"),le(Xe,"@firebase/messaging","fire-fcm"),le(Xe,"@firebase/messaging-compat","fire-fcm-compat"),le(Xe,"@firebase/performance","fire-perf"),le(Xe,"@firebase/performance-compat","fire-perf-compat"),le(Xe,"@firebase/remote-config","fire-rc"),le(Xe,"@firebase/remote-config-compat","fire-rc-compat"),le(Xe,"@firebase/storage","fire-gcs"),le(Xe,"@firebase/storage-compat","fire-gcs-compat"),le(Xe,"@firebase/firestore","fire-fst"),le(Xe,"@firebase/firestore-compat","fire-fst-compat"),le(Xe,"fire-js","fire-js"),le(Xe,"firebase","fire-js-all"),Xe),ct=new Map,lt=new Map;function ft(e,t){try{e.container.addComponent(t)}catch(n){ot.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ht(e,t){e.container.addOrOverwriteComponent(t)}function dt(e){var t=e.name;if(lt.has(t))return ot.debug("There were multiple attempts to register component ".concat(t,".")),!1;lt.set(t,e);var n,r=ae(ct.values());try{for(r.s();!(n=r.n()).done;){ft(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pt(e,t){return e.container.getProvider(t)}function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st;pt(e,t).clearInstance(n)}function mt(){lt.clear()}var yt,gt=(le(Je={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),le(Je,"bad-app-name","Illegal App name: '{$appName}"),le(Je,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),le(Je,"app-deleted","Firebase App named '{$appName}' already deleted"),le(Je,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),le(Je,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je),kt=new Ne("app","Firebase",gt),bt=function(){function e(t,n,r){var a=this;i(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ze("app",(function(){return a}),"PUBLIC"))}return o(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}]),e}(),wt="9.6.1";function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:st,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kt.create("bad-app-name",{appName:String(i)});var a=ct.get(i);if(a){if(De(e,a.options)&&De(r,a.config))return a;throw kt.create("duplicate-app",{appName:i})}var o,s=new Qe(i),u=ae(lt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new bt(e,r,s);return ct.set(i,l),l}function Et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=ct.get(e);if(!t)throw kt.create("no-app",{appName:e});return t}function _t(){return Array.from(ct.values())}function It(e){return Tt.apply(this,arguments)}function Tt(){return Tt=se(fe.mark((function e(t){var n;return fe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ct.has(n)){e.next=6;break}return ct.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}function St(e,t,n){var r,i=null!==(r=ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ot.warn(s.join(" "))}dt(new ze("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ct(e,t){if(null!==e&&"function"!==typeof e)throw kt.create("invalid-log-argument");!function(e,t){var n,r=ae(Ye);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ze[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ge[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function At(e){var t;t=e,Ye.forEach((function(e){e.setLogLevel(t)}))}yt="",dt(new ze("platform-logger",(function(e){return new rt(e)}),"PRIVATE")),St(it,at,yt),St(it,at,"esm2017"),St("fire-js","");function Nt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Rt;Object.create;var Pt="facebook.com",Ot="github.com",Dt="google.com",Lt="password",Mt="twitter.com",Ft="EMAIL_SIGNIN",Ut="PASSWORD_RESET",jt="RECOVER_EMAIL",Vt="REVERT_SECOND_FACTOR_ADDITION",Bt="VERIFY_AND_CHANGE_EMAIL",qt="VERIFY_EMAIL";function zt(){return le({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ht=function(){var e;return le(e={},"admin-restricted-operation","This operation is restricted to administrators only."),le(e,"argument-error",""),le(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),le(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),le(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),le(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),le(e,"cordova-not-ready","Cordova framework is not ready."),le(e,"cors-unsupported","This browser is not supported."),le(e,"credential-already-in-use","This credential is already associated with a different user account."),le(e,"custom-token-mismatch","The custom token corresponds to a different audience."),le(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),le(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),le(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),le(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),le(e,"email-already-in-use","The email address is already in use by another account."),le(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),le(e,"expired-action-code","The action code has expired."),le(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),le(e,"internal-error","An internal AuthError has occurred."),le(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),le(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),le(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),le(e,"invalid-auth-event","An internal AuthError has occurred."),le(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),le(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),le(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),le(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),le(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),le(e,"invalid-email","The email address is badly formatted."),le(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),le(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),le(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),le(e,"invalid-credential","The supplied auth credential is malformed or has expired."),le(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),le(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),le(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),le(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),le(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),le(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),le(e,"wrong-password","The password is invalid or the user does not have a password."),le(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),le(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),le(e,"invalid-provider-id","The specified provider ID is invalid."),le(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),le(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),le(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),le(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),le(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),le(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),le(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),le(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),le(e,"missing-continue-uri","A continue URL must be provided in the request."),le(e,"missing-iframe-start","An internal AuthError has occurred."),le(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),le(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),le(e,"missing-multi-factor-info","No second factor identifier is provided."),le(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),le(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),le(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),le(e,"app-deleted","This instance of FirebaseApp has been deleted."),le(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),le(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),le(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),le(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),le(e,"no-auth-event","An internal AuthError has occurred."),le(e,"no-such-provider","User was not linked to an account with the given provider."),le(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),le(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),le(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),le(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),le(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),le(e,"provider-already-linked","User can only be linked to one identity for the given provider."),le(e,"quota-exceeded","The project's quota for this operation has been exceeded."),le(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),le(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),le(e,"rejected-credential","The request contains malformed or mismatching credentials."),le(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),le(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),le(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),le(e,"timeout","The operation has timed out."),le(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),le(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),le(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),le(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),le(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),le(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),le(e,"unverified-email","The operation requires a verified email."),le(e,"user-cancelled","The user did not grant your application the permissions it requested."),le(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),le(e,"user-disabled","The user account has been disabled by an administrator."),le(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),le(e,"user-signed-out",""),le(e,"weak-password","The password must be 6 characters long or more."),le(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),le(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Wt=zt,Kt=new Ne("auth","Firebase",zt()),Gt=new nt("@firebase/auth");function Qt(e){if(Gt.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gt.error.apply(Gt,["Auth (".concat(wt,"): ").concat(e)].concat(n))}}function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t.apply(void 0,[e].concat(n))}function Xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t.apply(void 0,[e].concat(n))}function Jt(e,t,n){var r=Object.assign(Object.assign({},Wt()),le({},t,n));return new Ne("auth","Firebase",r).create(t,{appName:e.name})}function Zt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yt(e,"argument-error"),Jt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ce(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ce(o)))}return Kt.create.apply(Kt,[e].concat(n))}function en(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t.apply(void 0,[t].concat(r))}}function tn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Qt(t),new Error(t)}function nn(e,t){e||tn(t)}var rn=new Map;function an(e){nn(e instanceof Function,"Expected a class definition");var t=rn.get(e);return t?(nn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rn.set(e,t),t)}function on(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function sn(){return"http:"===un()||"https:"===un()}function un(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var cn=function(){function e(t,n){i(this,e),this.shortDelay=t,this.longDelay=n,nn(n>t,"Short delay should be less than long delay!"),this.isMobile=Ee()||Te()}return o(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(sn()||Ie()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ln(e,t){nn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fn=function(){function e(){i(this,e)}return o(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),hn=(le(Rt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),le(Rt,"MISSING_CUSTOM_TOKEN","internal-error"),le(Rt,"INVALID_IDENTIFIER","invalid-email"),le(Rt,"MISSING_CONTINUE_URI","internal-error"),le(Rt,"INVALID_PASSWORD","wrong-password"),le(Rt,"MISSING_PASSWORD","internal-error"),le(Rt,"EMAIL_EXISTS","email-already-in-use"),le(Rt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),le(Rt,"INVALID_IDP_RESPONSE","invalid-credential"),le(Rt,"INVALID_PENDING_TOKEN","invalid-credential"),le(Rt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),le(Rt,"MISSING_REQ_TYPE","internal-error"),le(Rt,"EMAIL_NOT_FOUND","user-not-found"),le(Rt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),le(Rt,"EXPIRED_OOB_CODE","expired-action-code"),le(Rt,"INVALID_OOB_CODE","invalid-action-code"),le(Rt,"MISSING_OOB_CODE","internal-error"),le(Rt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),le(Rt,"INVALID_ID_TOKEN","invalid-user-token"),le(Rt,"TOKEN_EXPIRED","user-token-expired"),le(Rt,"USER_NOT_FOUND","user-token-expired"),le(Rt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),le(Rt,"INVALID_CODE","invalid-verification-code"),le(Rt,"INVALID_SESSION_INFO","invalid-verification-id"),le(Rt,"INVALID_TEMPORARY_PROOF","invalid-credential"),le(Rt,"MISSING_SESSION_INFO","missing-verification-id"),le(Rt,"SESSION_EXPIRED","code-expired"),le(Rt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),le(Rt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),le(Rt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),le(Rt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),le(Rt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),le(Rt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),le(Rt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),le(Rt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),le(Rt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),le(Rt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),le(Rt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Rt),dn=new cn(3e4,6e4);function pn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vn(e,t,n,r){return mn.apply(this,arguments)}function mn(){return mn=se(he().mark((function e(t,n,r,i){var a,o=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",yn(t,a,se(he().mark((function e(){var a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Me(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fn.fetch()(wn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function yn(e,t,n){return gn.apply(this,arguments)}function gn(){return gn=se(he().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},hn),n),e.prev=2,a=new xn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw En(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=k(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw En(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw En(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Jt(t,d,h);case 30:Yt(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ae)){e.next=37;break}throw e.t0;case 37:Yt(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),gn.apply(this,arguments)}function kn(e,t,n,r){return bn.apply(this,arguments)}function bn(){return bn=se(he().mark((function e(t,n,r,i){var a,o,s=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Yt(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function wn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ln(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xn=function(){function e(t){var n=this;i(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xt(n.auth,"timeout"))}),dn.get())}))}return o(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function En(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xt(e,t,r);return i.customData._tokenResponse=n,i}function _n(e,t){return In.apply(this,arguments)}function In(){return In=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Tn(e,t){return Sn.apply(this,arguments)}function Sn(){return Sn=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return An=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Nn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Rn(){return Rn=se(he().mark((function e(t){var n,r,i,a,o,s,u=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=qe(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,en((a=On(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Nn(Pn(a.auth_time)),issuedAtTime:Nn(Pn(a.iat)),expirationTime:Nn(Pn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Pn(e){return 1e3*Number(e)}function On(e){var t=k(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Qt("JWT malformed, contained fewer than 3 sections"),null;try{var a=ge(r);return a?JSON.parse(a):(Qt("Failed to decode base64 JWT payload"),null)}catch(o){return Qt("Caught error parsing JWT payload as JSON",o),null}}function Dn(e,t){return Ln.apply(this,arguments)}function Ln(){return Ln=se(he().mark((function e(t,n){var r=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ae&&Mn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ln.apply(this,arguments)}function Mn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Fn=function(){function e(t){i(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return o(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Un=function(){function e(t,n){i(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return o(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jn(e){return Vn.apply(this,arguments)}function Vn(){return Vn=se(he().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Dn(t,Cn(r,{idToken:i}));case 6:en(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?zn(o.providerUserInfo):[],u=qn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Un(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Bn(){return(Bn=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qe(t),e.next=3,jn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ce(n),ce(t))}function zn(e){return e.map((function(e){var t=e.providerId,n=Nt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Hn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn(t,{},se(he().mark((function e(){var r,i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Me({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=wn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}var Kn=function(){function e(){i(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return o(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){en(e.idToken,"internal-error"),en("undefined"!==typeof e.idToken,"internal-error"),en("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=On(e);return en(t,"internal-error"),en("undefined"!==typeof t.exp,"internal-error"),en("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=se(he().mark((function e(t){var n,r=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],en(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return tn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(en("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(en("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(en("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gn(e,t){en("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qn=function(){function e(t){i(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,o=Nt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new Un(o.createdAt||void 0,o.lastLoginAt||void 0)}return o(e,[{key:"getIdToken",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(en(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Rn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Bn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=se(he().mark((function e(t){var n,r,i=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Dn(this,_n(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;en(k&&E,t,"internal-error");var _=Kn.fromJSON(this.name,E);en("string"===typeof k,t,"internal-error"),Gn(f,t.name),Gn(h,t.name),en("boolean"===typeof b,t,"internal-error"),en("boolean"===typeof w,t,"internal-error"),Gn(d,t.name),Gn(p,t.name),Gn(v,t.name),Gn(m,t.name),Gn(y,t.name),Gn(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=se(he().mark((function t(n,r){var i,a,o,s=arguments;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Kn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,jn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Yn=function(){function e(){i(this,e),this.type="NONE",this.storage={}}return o(e,[{key:"_isAvailable",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Yn.type="NONE";var Xn=Yn;function Jn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Zn=function(){function e(t,n,r){i(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,o=a.config,s=a.name;this.fullUserKey=Jn(this.userKey,o.apiKey,s),this.fullPersistenceKey=Jn("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return o(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=se(he().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(an(Xn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||an(Xn),s=Jn(i,n.config.apiKey,n.name),u=null,c=ae(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Qn._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $n(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(er(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ar(t))return"Blackberry";if(or(t))return"Webos";if(tr(t))return"Safari";if((t.includes("chrome/")||nr(t))&&!t.includes("edge/"))return"Chrome";if(ir(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/firefox\//i.test(e)}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/crios\//i.test(e)}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iemobile/i.test(e)}function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/android/i.test(e)}function ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/blackberry/i.test(e)}function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/webos/i.test(e)}function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iphone|ipad|ipod/i.test(e)}function ur(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return sr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function cr(){return Se()&&10===document.documentMode}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return sr(e)||ir(e)||or(e)||ar(e)||/windows phone/i.test(e)||rr(e)}function fr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$n(xe());break;case"Worker":t="".concat($n(xe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wt,"/").concat(r)}var hr=function(){function e(t,n){i(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pr(this),this.idTokenSubscription=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return o(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=an(t)),this._initializationPromise=this.queue(se(he().mark((function r(){var i,a;return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Zn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=se(he().mark((function e(t){var n,r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return en(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?qe(t):null)&&en(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=se(he().mark((function e(t){var n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&en(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(an(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ne("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return en(n=t&&an(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Zn.create(this,[an(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=se(he().mark((function e(t){var n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return en(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=le({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dr(e){return qe(e)}var pr=function(){function e(t){var n=this;i(this,e),this.auth=t,this.observer=null,this.addObserver=je((function(e){return n.observer=e}))}return o(e,[{key:"next",get:function(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vr(e,t,n){var r=dr(e);en(r._canInitEmulator,r,"emulator-config-failed"),en(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mr(t),o=function(e){var t=mr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:yr(r.substr(a.length+1))}}var o=k(r.split(":"),2);return{host:o[0],port:yr(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gr=function(){function e(t,n){i(this,e),this.providerId=t,this.signInMethod=n}return o(e,[{key:"toJSON",value:function(){return tn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return tn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return tn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return tn("not implemented")}}]),e}();function kr(e,t){return br.apply(this,arguments)}function br(){return br=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:resetPassword",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function wr(e,t){return xr.apply(this,arguments)}function xr(){return xr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Er(e,t){return _r.apply(this,arguments)}function _r(){return _r=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:update",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function Ir(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithPassword",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Sr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:sendOobCode",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cr.apply(this,arguments)}function Ar(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(t,n));case 1:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Rr(e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(t,n));case 1:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Or(e,t){return Dr.apply(this,arguments)}function Dr(){return Dr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(t,n));case 1:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sr(t,n));case 1:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithEmailLink",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function jr(e,t){return Vr.apply(this,arguments)}function Vr(){return Vr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithEmailLink",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}var Br=function(e){u(n,e);var t=p(n);function n(e,r,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return i(this,n),(o=t.call(this,"password",a))._email=e,o._password=r,o._tenantId=s,o}return o(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ir(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fr(t,{email:this._email,oobCode:this._password}));case 5:Yt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Yt(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gr);function qr(e,t){return zr.apply(this,arguments)}function zr(){return zr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithIdp",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}var Hr=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return o(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Me(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yt("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Nt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(gr);function Wr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:sendVerificationCode",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Gr(){return Gr=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Qr(){return Qr=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw En(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}var Yr=le({},"USER_NOT_FOUND","user-not-found");function Xr(){return Xr=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithPhoneNumber",pn(t,r),Yr));case 2:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}var Jr=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,"phone","phone")).params=e,r}return o(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Gr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Qr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Xr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(gr);var Zr=function(){function e(t){var n,r,a,o,s,u;i(this,e);var c=Fe(Ue(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);en(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return o(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Fe(Ue(e)).link,n=t?Fe(Ue(t)).deep_link_id:null,r=Fe(Ue(e)).deep_link_id;return(r?Fe(Ue(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(iE){return null}}}]),e}();var $r=function(){function e(){i(this,e),this.providerId=e.PROVIDER_ID}return o(e,null,[{key:"credential",value:function(e,t){return Br._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Zr.parseLink(t);return en(n,"argument-error"),Br._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$r.PROVIDER_ID="password",$r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ei=function(){function e(t){i(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return o(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ti=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).scopes=[],e}return o(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ce(this.scopes)}}]),n}(ei),ni=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return en(e.idToken||e.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return en("providerId"in t&&"signInMethod"in t,"argument-error"),Hr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ti),ri=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.call(this,"facebook.com")}return o(n,null,[{key:"credential",value:function(e){return Hr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(iE){return null}}}]),n}(ti);ri.FACEBOOK_SIGN_IN_METHOD="facebook.com",ri.PROVIDER_ID="facebook.com";var ii=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return o(n,null,[{key:"credential",value:function(e,t){return Hr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(iE){return null}}}]),n}(ti);ii.GOOGLE_SIGN_IN_METHOD="google.com",ii.PROVIDER_ID="google.com";var ai=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.call(this,"github.com")}return o(n,null,[{key:"credential",value:function(e){return Hr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(iE){return null}}}]),n}(ti);ai.GITHUB_SIGN_IN_METHOD="github.com",ai.PROVIDER_ID="github.com";var oi=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,e)).pendingToken=r,a}return o(n,[{key:"_getIdTokenResponse",value:function(e){return qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gr),si=function(e){u(n,e);var t=p(n);function n(e){return i(this,n),en(e.startsWith("saml."),"argument-error"),t.call(this,e)}return o(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=oi.fromJSON(e);return en(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return oi._create(r,n)}catch(i){return null}}}]),n}(ei),ui=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.call(this,"twitter.com")}return o(n,null,[{key:"credential",value:function(e,t){return Hr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(iE){return null}}}]),n}(ti);function ci(e,t){return li.apply(this,arguments)}function li(){return li=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signUp",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}ui.TWITTER_SIGN_IN_METHOD="twitter.com",ui.PROVIDER_ID="twitter.com";var fi=function(){function e(t){i(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return o(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=se(he().mark((function t(n,r,i){var a,o,s,u,c=arguments;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Qn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=hi(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=se(he().mark((function t(n,r,i){var a;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function di(){return di=se(he().mark((function e(t){var n,r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new fi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ci(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,fi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}var pi=function(e){u(n,e);var t=p(n);function n(e,r,a,o){var s,u;return i(this,n),(s=t.call(this,r.code,r.message)).operationType=a,s.user=o,Object.setPrototypeOf(h(s),n.prototype),s.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:a},s}return o(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ae);function vi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pi._fromErrorAndOperation(e,n,t,r);throw n}))}function mi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,wi(!0,r,n);case 3:return e.t0=Tn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=mi(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=se(he().mark((function e(t,n){var r,i,a=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Dn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function wi(e,t,n){return xi.apply(this,arguments)}function xi(){return(xi=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(n);case 2:i=mi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",en(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t){return _i.apply(this,arguments)}function _i(){return _i=se(he().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Dn(t,vi(i,a,n,t),r);case 6:return en((o=e.sent).idToken,i,"internal-error"),en(s=On(o.idToken),i,"internal-error"),u=s.sub,en(t.uid===u,i,"user-mismatch"),e.abrupt("return",fi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Yt(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),_i.apply(this,arguments)}function Ii(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=se(he().mark((function e(t,n){var r,i,a,o,s=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,vi(t,i,n);case 4:return a=e.sent,e.next=7,fi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Si(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ii(dr(t),n));case 1:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ai(e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,wi(!1,r,n.providerId);case 3:return e.abrupt("return",ki(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t){return Pi.apply(this,arguments)}function Pi(){return(Pi=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ei(qe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return Di=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn(t,"POST","/v1/accounts:signInWithCustomToken",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Li(){return Li=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dr(t),e.next=3,Oi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,fi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}var Mi=function(){function e(t,n){i(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return o(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fi._fromServerResponse(e,t):Yt(e,"internal-error")}}]),e}(),Fi=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return o(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Mi);function Ui(e,t,n){var r;en((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),en("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(en(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(en(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ji(){return ji=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ui(i,a,r),e.next=5,Rr(i,a);case 5:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Vi(){return Vi=se(he().mark((function e(t,n,r){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(qe(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(){return Bi=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(qe(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(e,t){return zi.apply(this,arguments)}function zi(){return zi=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,kr(r,{oobCode:n});case 3:i=e.sent,en(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return en(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:en(i.mfaInfo,r,"internal-error");case 13:en(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Mi._fromServerResponse(dr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Hi(){return Hi=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(qe(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Wi(e,t,n){return Ki.apply(this,arguments)}function Ki(){return Ki=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dr(t),e.next=3,ci(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(){return Gi=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),a={requestType:"EMAIL_SIGNIN",email:n},en(r.handleCodeInApp,i,"argument-error"),r&&Ui(i,a,r),e.next=6,Or(i,a);case 6:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(){return Qi=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),en((a=$r.credentialWithLink(n,r||on()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Si(i,a));case 4:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:createAuthUri",pn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(){return Ji=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sn()?on():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Yi(qe(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(){return(Zi=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ui(r.auth,a,n),e.next=8,Ar(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(){return($i=se(he().mark((function e(t,n,r){var i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ui(i.auth,o,r),e.next=8,Lr(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(){return(na=se(he().mark((function e(t,n){var r,i,a,o,s,u,c;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=qe(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Dn(a,ea(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t,n){return ia.apply(this,arguments)}function ia(){return ia=se(he().mark((function e(t,n,r){var i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Dn(t,wr(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}var aa=o((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),oa=function(e){u(n,e);var t=p(n);function n(e,r,a,o){var s;return i(this,n),(s=t.call(this,e,r,a)).username=o,s}return o(n)}(aa),sa=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"facebook.com",r)}return o(n)}(aa),ua=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return o(n)}(oa),ca=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"google.com",r)}return o(n)}(aa),la=function(e){u(n,e);var t=p(n);function n(e,r,a){return i(this,n),t.call(this,e,"twitter.com",r,a)}return o(n)}(oa);function fa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=On(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new aa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sa(a,i);case"github.com":return new ua(a,i);case"google.com":return new ca(a,i);case"twitter.com":return new la(a,i,e.screenName||null);case"custom":case"anonymous":return new aa(a,null);default:return new aa(a,r,i)}}(n)}function ha(e,t,n,r){return qe(e).onAuthStateChanged(t,n,r)}var da=function(){function e(t,n){i(this,e),this.type=t,this.credential=n}return o(e,[{key:"toJSON",value:function(){return{multiFactorSession:le({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),pa=function(){function e(t,n,r){i(this,e),this.session=t,this.hints=n,this.signInResolver=r}return o(e,[{key:"resolveSignIn",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=dr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Mi._fromServerResponse(r,e)}));en(i.mfaPendingCredential,r,"internal-error");var o=da._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=se(he().mark((function e(t){var a,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,fi._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return en(n.user,r,"internal-error"),e.abrupt("return",fi._forOperation(n.user,n.operationType,s));case 17:Yt(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function va(e,t){return vn(e,"POST","/v2/accounts/mfaEnrollment:start",pn(e,t))}function ma(e,t){return vn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",pn(e,t))}var ya=function(){function e(t){var n=this;i(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Mi._fromServerResponse(t.auth,e)})))}))}return o(e,[{key:"getSession",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=da,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Dn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=se(he().mark((function e(t){var n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Dn(this.user,ma(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ga=new WeakMap;var ka="__sak",ba=function(){function e(t,n){i(this,e),this.storageRetriever=t,this.type=n}return o(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch(iE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wa=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xe();return tr(e)||sr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lr(),e._shouldAllowMigration=!0,e}return o(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);cr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=se(he().mark((function e(t,r){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(c(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=se(he().mark((function e(t){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(c(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(c(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ba);wa.type="LOCAL";var xa=wa,Ea=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return o(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ba);Ea.type="SESSION";var _a=Ea;function Ia(e){return Promise.all(e.map(function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ta=function(){function e(t){i(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return o(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=se(he().mark((function e(t){var n,r,i,a,o,s,u,c;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ia(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ta.receivers=[];var Ca=function(){function e(t){i(this,e),this.target=t,this.handlers=new Set}return o(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=se(he().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Sa("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Aa(){return window}function Na(){return"undefined"!==typeof Aa().WorkerGlobalScope&&"function"===typeof Aa().importScripts}function Ra(){return Pa.apply(this,arguments)}function Pa(){return(Pa=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Oa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Da="firebaseLocalStorageDb",La="firebaseLocalStorage",Ma="fbase_key",Fa=function(){function e(t){i(this,e),this.request=t}return o(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ua(e,t){return e.transaction([La],t?"readwrite":"readonly").objectStore(La)}function ja(){var e=indexedDB.deleteDatabase(Da);return new Fa(e).toPromise()}function Va(){var e=indexedDB.open(Da,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(La,{keyPath:Ma})}catch(r){n(r)}})),e.addEventListener("success",se(he().mark((function n(){var r;return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(La)){n.next=12;break}return r.close(),n.next=5,ja();case 5:return n.t0=t,n.next=8,Va();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ba(e,t,n){return qa.apply(this,arguments)}function qa(){return qa=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ua(t,!0).put((le(i={},Ma,n),le(i,"value",r),i)),e.abrupt("return",new Fa(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function za(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ua(t,!1).get(n),e.next=3,new Fa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Wa(e,t){var n=Ua(e,!0).delete(t);return new Fa(n).toPromise()}var Ka=function(){function e(){i(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return o(e,[{key:"_openDb",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Va();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Na()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=se(he().mark((function e(){var t=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ta._getInstance(Na()?self:null),this.receiver._subscribe("keyChanged",function(){var e=se(he().mark((function e(n,r){var i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=se(he().mark((function e(){var t,n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ca(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Oa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Va();case 5:return t=e.sent,e.next=8,Ba(t,ka,"1");case 8:return e.next=10,Wa(t,ka);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=se(he().mark((function e(t,n){var r=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ba(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return za(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=se(he().mark((function e(t){var n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Wa(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=se(he().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ua(e,!1).getAll();return new Fa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ae(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ka.type="LOCAL";var Ga=Ka;function Qa(e,t){return vn(e,"POST","/v2/accounts/mfaSignIn:start",pn(e,t))}function Ya(e){return Xa.apply(this,arguments)}function Xa(){return Xa=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ja(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Za(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var $a=1e12,eo=function(){function e(t){i(this,e),this.auth=t,this.counter=$a,this._widgets=new Map}return o(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new to(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||$a;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||$a;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||$a,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),to=function(){function e(t,n,r){var a=this;i(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var o="string"===typeof t?document.getElementById(t):t;en(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return o(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var no=Za("rcb"),ro=new cn(3e4,6e4),io="https://www.google.com/recaptcha/api.js?",ao=function(){function e(){i(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Aa().grecaptcha}return o(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return en(oo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Aa().grecaptcha):new Promise((function(r,i){var a=Aa().setTimeout((function(){i(Xt(e,"network-request-failed"))}),ro.get());Aa()[no]=function(){Aa().clearTimeout(a),delete Aa()[no];var o=Aa().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Xt(e,"internal-error"))},Ja("".concat(io,"?").concat(Me({onload:no,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Xt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Aa().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function oo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var so=function(){function e(){i(this,e)}return o(e,[{key:"load",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new eo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),uo="recaptcha",co={theme:"light",type:"image"},lo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},co),r=arguments.length>2?arguments[2]:void 0;i(this,e),this.parameters=n,this.type=uo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(r),this.isInvisible="invisible"===this.parameters.size,en("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;en(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new so:new ao,this.validateStartingState()}return o(e,[{key:"verify",value:function(){var e=se(he().mark((function e(){var t,n,r,i=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){en(!this.parameters.sitekey,this.auth,"argument-error"),en(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),en("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Aa()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){en(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return en(sn()&&!Na(),this.auth,"internal-error"),e.next=3,fo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ya(this.auth);case 8:en(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return en(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function fo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ho=function(){function e(t,n){i(this,e),this.verificationId=t,this.onConfirmation=n}return o(e,[{key:"confirm",value:function(e){var t=Jr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function po(){return po=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dr(t),e.next=3,go(i,n,qe(r));case 3:return a=e.sent,e.abrupt("return",new ho(a,(function(e){return Si(i,e)})));case 5:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t,n){return mo.apply(this,arguments)}function mo(){return(mo=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,wi(!1,i,"phone");case 3:return e.next=5,go(i.auth,n,qe(r));case 5:return a=e.sent,e.abrupt("return",new ho(a,(function(e){return Ai(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(){return(yo=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,go(i.auth,n,qe(r));case 3:return a=e.sent,e.abrupt("return",new ho(a,(function(e){return Ri(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t,n){return ko.apply(this,arguments)}function ko(){return ko=se(he().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,en("string"===typeof a,t,"argument-error"),en(r.type===uo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return en("enroll"===s.type,t,"internal-error"),e.next=13,va(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return en("signin"===s.type,t,"internal-error"),en(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qa(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ko.apply(this,arguments)}function bo(){return(bo=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ki(qe(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wo=function(){function e(t){i(this,e),this.providerId=e.PROVIDER_ID,this.auth=dr(t)}return o(e,[{key:"verifyPhoneNumber",value:function(e,t){return go(this.auth,e,qe(t))}}],[{key:"credential",value:function(e,t){return Jr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Jr._fromTokenResponse(n,r):null}}]),e}();function xo(e,t){return t?an(t):(en(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wo.PROVIDER_ID="phone",wo.PHONE_SIGN_IN_METHOD="phone";var Eo=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,"custom","custom")).params=e,r}return o(n,[{key:"_getIdTokenResponse",value:function(e){return qr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return qr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return qr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gr);function _o(e){return Ii(e.auth,new Eo(e),e.bypassAuthState)}function Io(e){var t=e.auth,n=e.user;return en(n,t,"internal-error"),Ei(n,new Eo(e),e.bypassAuthState)}function To(e){return So.apply(this,arguments)}function So(){return So=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,en(r=t.user,n,"internal-error"),e.abrupt("return",ki(r,new Eo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}var Co=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return o(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=se(he().mark((function t(n,r){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=se(he().mark((function e(t){var n,r,i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _o;case"linkViaPopup":case"linkViaRedirect":return To;case"reauthViaPopup":case"reauthViaRedirect":return Io;default:Yt(this.auth,"internal-error")}}},{key:"resolve",value:function(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ao=new cn(2e3,1e4);function No(e,t,n){return Ro.apply(this,arguments)}function Ro(){return Ro=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dr(t),Zt(t,n,ei),a=xo(i,r),o=new Lo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(){return(Po=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt((i=qe(t)).auth,n,ei),a=xo(i.auth,r),o=new Lo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t,n){return Do.apply(this,arguments)}function Do(){return(Do=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt((i=qe(t)).auth,n,ei),a=xo(i.auth,r),o=new Lo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lo=function(e){u(n,e);var t=p(n);function n(e,r,a,o,s){var u;return i(this,n),(u=t.call(this,e,r,o,s)).provider=a,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=h(u),u}return o(n,[{key:"executeNotNull",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return en(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=se(he().mark((function e(){var t,n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nn(1===this.filter.length,"Popup operations only handle one event"),t=Sa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ao.get())}()}}]),n}(Co);Lo.currentPopupAction=null;var Mo=new Map,Fo=function(e){u(n,e);var t=p(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,a}return o(n,[{key:"execute",value:function(){var e=se(he().mark((function e(){var t,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Mo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Uo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ie(c(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Mo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Mo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=se(he().mark((function e(t){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ie(c(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ie(c(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Co);function Uo(e,t){return jo.apply(this,arguments)}function jo(){return jo=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zo(n),i=qo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t)._set(zo(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e){return an(e._redirectPersistence)}function zo(e){return Jn("pendingRedirect",e.config.apiKey,e.name)}function Ho(e,t,n){return function(e,t,n){return Wo.apply(this,arguments)}(e,t,n)}function Wo(){return Wo=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dr(t),Zt(t,n,ei),a=xo(i,r),e.next=5,Vo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e,t,n){return function(e,t,n){return Go.apply(this,arguments)}(e,t,n)}function Go(){return(Go=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt((i=qe(t)).auth,n,ei),a=xo(i.auth,r),e.next=5,Vo(a,i.auth);case 5:return e.next=7,es(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t,n){return function(e,t,n){return Yo.apply(this,arguments)}(e,t,n)}function Yo(){return(Yo=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt((i=qe(t)).auth,n,ei),a=xo(i.auth,r),e.next=5,wi(!1,i,n.providerId);case 5:return e.next=7,Vo(a,i.auth);case 7:return e.next=9,es(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(t)._initializationPromise;case 2:return e.abrupt("return",Zo(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t){return $o.apply(this,arguments)}function $o(){return $o=se(he().mark((function e(t,n){var r,i,a,o,s,u=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=dr(t),a=xo(i,n),o=new Fo(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function es(e){return ts.apply(this,arguments)}function ts(){return(ts=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sa("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=function(){function e(t){i(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return o(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!is(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(rs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function rs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function is(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function as(e){return os.apply(this,arguments)}function os(){return os=se(he().mark((function e(t){var n,r=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",vn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}var ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,us=/^https?/;function cs(){return cs=se(he().mark((function e(t){var n,r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,as(t);case 4:n=e.sent,r=n.authorizedDomains,i=ae(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ls(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Yt(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),cs.apply(this,arguments)}function ls(e){var t=on(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!us.test(r))return!1;if(ss.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fs=new cn(3e4,6e4);function hs(){var e=Aa().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ce(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ds=null;function ps(e){return ds=ds||function(e){return new Promise((function(t,n){var r,i,a;function o(){hs(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){hs(),n(Xt(e,"network-request-failed"))},timeout:fs.get()})}if(null===(i=null===(r=Aa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Aa().gapi)||void 0===a?void 0:a.load)){var s=Za("iframefcb");return Aa()[s]=function(){gapi.load?o():n(Xt(e,"network-request-failed"))},Ja("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ds=null,e}))}(e),ds}var vs=new cn(5e3,15e3),ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ys=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gs(e){var t=e.config;en(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ln(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wt},i=ys.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Me(r).slice(1))}function ks(e){return bs.apply(this,arguments)}function bs(){return bs=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(t);case 2:return n=e.sent,en(r=Aa().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:gs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ms,dontclear:!0},(function(e){return new Promise(function(){var n=se(he().mark((function n(r,i){var a,o,s;return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Aa().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xt(t,"network-request-failed"),o=Aa().setTimeout((function(){i(a)}),vs.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xs="_blank",Es="http://localhost",_s=function(){function e(t){i(this,e),this.window=t,this.associatedEvent=null}return o(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Is(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ws),{width:r.toString(),height:i.toString(),top:a,left:o}),c=xe().toLowerCase();n&&(s=nr(c)?xs:n),er(c)&&(t=t||Es,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=k(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ur(c)&&"_self"!==s)return Ts(t||"",s),new _s(null);var f=window.open(t||"",s,l);en(f,e,"popup-blocked");try{f.focus()}catch(h){}return new _s(f)}function Ts(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ss="__/auth/handler",Cs="emulator/auth/handler";function As(e,t,n,r,i,a){en(e.config.authDomain,e,"auth-domain-config-required"),en(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wt,eventId:i};if(t instanceof ei){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=k(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof ti){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ss);return ln(t,Cs)}(e),"?").concat(Me(d).slice(1))}var Ns="webStorageSupport",Rs=function(){function e(){i(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=Zo}return o(e,[{key:"_openPopup",value:function(){var e=se(he().mark((function e(t,n,r,i){var a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=As(t,n,r,on(),i),e.abrupt("return",Is(t,o,Sa()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=se(he().mark((function e(t,n,r,i){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=As(t,n,r,on(),i),Aa().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(nn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(t);case 2:return n=e.sent,r=new ns(t),n.register("authEvent",(function(e){return en(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ns,{type:Ns},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Yt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cs.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lr()||tr()||sr()}}]),e}(),Ps=Rs,Os=function(){function e(t){i(this,e),this.factorId=t}return o(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return tn("unexpected MultiFactorSessionType")}}}]),e}(),Ds=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,"phone")).credential=e,r}return o(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vn(e,"POST","/v2/accounts/mfaEnrollment:finalize",pn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vn(e,"POST","/v2/accounts/mfaSignIn:finalize",pn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Os),Ls=function(){function e(){i(this,e)}return o(e,null,[{key:"assertion",value:function(e){return Ds._fromCredential(e)}}]),e}();Ls.FACTOR_ID="phone";var Ms,Fs="@firebase/auth",Us="0.19.4",js=function(){function e(t){i(this,e),this.auth=t,this.internalListeners=new Map}return o(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Ms="Browser",dt(new ze("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){en(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),en(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Ms,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fr(Ms)},r=new hr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(an);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),dt(new ze("auth-internal",(function(e){return function(e){return new js(e)}(dr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),St(Fs,Us,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ms)),St(Fs,Us,"esm2017");var Vs=function(){return Vs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vs.apply(this,arguments)};var Bs,qs=function(e){return{loading:void 0===e||null===e,value:e}},zs=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return Vs({},e,{error:t.error,loading:!1,value:void 0});case"reset":return qs(t.defaultValue);case"value":return Vs({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),qs(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},Hs=function(e){var n=zs((function(){return e.currentUser})),r=n.error,i=n.loading,a=n.setError,o=n.setValue,s=n.value;(0,t.useEffect)((function(){return ha(e,o,a)}),[e]);var u=[s,i,r];return(0,t.useMemo)((function(){return u}),u)},Ws=function(){function e(t,n){var r=this;i(this,e),this._delegate=t,this.firebase=n,ft(t,new ze("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return o(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),It(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ft(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ht(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ks=(le(Bs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),le(Bs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Bs),Gs=new Ne("app-compat","Firebase",Ks);var Qs=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Oe(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:St,setLogLevel:At,onLog:Ct,apps:null,SDK_VERSION:wt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(dt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gs.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ke(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Oe(n,e=e||st))throw Gs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ws);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ke(n,e)},createSubscribe:je,ErrorFactory:Ne,deepExtend:ke}),n}(),Ys=new nt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ys.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xs=self.firebase.SDK_VERSION;Xs&&Xs.indexOf("LITE")>=0&&Ys.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Js=Qs;!function(e){St("@firebase/app-compat","0.1.12",e)}();Js.registerVersion("firebase","9.6.1","app-compat");var Zs="firebasestorage.googleapis.com",$s=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,eu(e),"Firebase Storage: ".concat(r," (").concat(eu(e),")"))).customData={serverResponse:null},a._baseMessage=a.message,Object.setPrototypeOf(h(a),n.prototype),a}return o(n,[{key:"_codeEquals",value:function(e){return eu(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ae);function eu(e){return"storage/"+e}function tu(){return new $s("unknown","An unknown error occurred, please check the error payload for server response.")}function nu(){return new $s("canceled","User canceled the upload/download.")}function ru(){return new $s("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function iu(e){return new $s("invalid-argument",e)}function au(){return new $s("app-deleted","The Firebase app was deleted.")}function ou(e){return new $s("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(e,t){return new $s("invalid-format","String does not match format '"+e+"': "+t)}function uu(e){throw new $s("internal-error","Internal error: "+e)}var cu,lu=function(){function e(t,n){i(this,e),this.bucket=t,this.path_=n}return o(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new $s("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Zs?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new $s("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),fu=function(){function e(t){i(this,e),this.promise_=Promise.reject(t)}return o(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function hu(e){return"string"===typeof e||e instanceof String}function du(e){return pu()&&e instanceof Blob}function pu(){return"undefined"!==typeof Blob}function vu(e,t,n,r){if(r<t)throw iu("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw iu("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mu(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yu(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cu||(cu={}));var gu=function(){function e(t,n,r,a,o,s,u,c,l,f,h){var d=this;i(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return o(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=tu();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?au():nu());else i(new $s("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new ku(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new ku(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===cu.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new ku(o,r))}else{var s=r.getErrorCode()===cu.ABORT;t(!1,new ku(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),ku=o((function e(t,n,r){i(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function bu(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wu(){for(var e=bu(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(pu())return new Blob(n);throw new $s("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Eu=o((function e(t,n){i(this,e),this.data=t,this.contentType=n||null}));function _u(e,t){switch(e){case xu.RAW:return new Eu(Iu(t));case xu.BASE64:case xu.BASE64URL:return new Eu(Tu(e,t));case xu.DATA_URL:return new Eu(function(e){var t=new Su(e);return t.base64?Tu(xu.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw su(xu.DATA_URL,"Malformed data URL.")}return Iu(t)}(t.rest)}(t),new Su(t).contentType)}throw tu()}function Iu(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Tu(e,t){switch(e){case xu.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw su(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xu.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw su(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw su(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Su=o((function e(t){i(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw su(xu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Cu=function(){function e(t,n){i(this,e);var r=0,a="";du(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}return o(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(du(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(pu()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(wu.apply(null,i))}var a=n.map((function(e){return hu(e)?_u(xu.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Au(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Nu(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ru(e,t){return t}var Pu=o((function e(t,n,r,a){i(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||Ru})),Ou=null;function Du(){if(Ou)return Ou;var e=[];e.push(new Pu("bucket")),e.push(new Pu("generation")),e.push(new Pu("metageneration")),e.push(new Pu("name","fullPath",!0));var t=new Pu("name");t.xform=function(e,t){return function(e){return!hu(e)||e.length<2?e:Nu(e)}(t)},e.push(t);var n=new Pu("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Pu("timeCreated")),e.push(new Pu("updated")),e.push(new Pu("md5Hash",null,!0)),e.push(new Pu("cacheControl",null,!0)),e.push(new Pu("contentDisposition",null,!0)),e.push(new Pu("contentEncoding",null,!0)),e.push(new Pu("contentLanguage",null,!0)),e.push(new Pu("contentType",null,!0)),e.push(new Pu("metadata","customMetadata",!0)),Ou=e}function Lu(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new lu(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mu(e,t,n){var r=Au(t);return null===r?null:Lu(e,r,n)}function Fu(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Uu(e,t,n){var r=Au(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ae(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new lu(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=ae(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new lu(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var ju=o((function e(t,n,r,a){i(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Vu(e){if(!e)throw tu()}function Bu(e,t){return function(n,r){var i=Mu(e,r,t);return Vu(null!==i),i}}function qu(e,t){return function(n,r){var i=Mu(e,r,t);return Vu(null!==i),function(e,t,n,r){var i=Au(t);if(null===i)return null;if(!hu(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return mu("/b/"+o(i)+"/o/"+o(a),n,r)+yu({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function zu(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $s("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new $s("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new $s("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $s("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Hu(e){var t=zu(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new $s("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Wu(e,t,n){var r=mu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ju(r,"GET",Bu(e,n),i);return a.errorHandler=Hu(t),a}function Ku(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=mu(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new ju(o,"GET",function(e,t){return function(n,r){var i=Uu(e,t,r);return Vu(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=zu(t),u}function Gu(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Qu(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Gu(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fu(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Cu.getBlob(c,r,l);if(null===f)throw ru();var h={name:u.fullPath},d=mu(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ju(d,"POST",Bu(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=zu(t),v}var Yu=o((function e(t,n,r,a){i(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=a||null}));function Xu(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Vu(!1)}return Vu(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ju=262144;function Zu(e,t,n,r,i,a,o,s){var u=new Yu(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new $s("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw ru();var v=t.maxUploadRetryTime,m=new ju(n,"POST",(function(e,n){var i,o=Xu(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?Bu(t,a)(e,n):null,new Yu(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=zu(e),m}var $u={STATE_CHANGED:"state_changed"},ec={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tc(e){switch(e){case"running":case"pausing":case"canceling":return ec.RUNNING;case"paused":return ec.PAUSED;case"success":return ec.SUCCESS;case"canceled":return ec.CANCELED;default:return ec.ERROR}}var nc=o((function e(t,n,r){i(this,e);var a=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(a)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}));function rc(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var ic=function(){function e(){var t=this;i(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cu.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=cu.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=cu.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return o(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw uu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ac=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(ic);function oc(){return new ac}var sc=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=Du(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return o(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=k(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Gu(t,r,i),s={name:o.fullPath},u=mu(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Fu(o,n),f=e.maxUploadRetryTime,h=new ju(u,"POST",(function(e){var t;Xu(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Vu(!1)}return Vu(hu(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=zu(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ju(n,"POST",(function(e){var t=Xu(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Vu(!1)}n||Vu(!1);var i=Number(n);return Vu(!isNaN(i)),new Yu(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=zu(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,oc,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Ju*this._chunkMultiplier,n=new Yu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Zu(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,oc,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){Ju*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Wu(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,oc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Qu(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oc,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nu(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=tc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new nc(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(tc(this._state)){case ec.SUCCESS:rc(this._resolve.bind(null,this.snapshot))();break;case ec.CANCELED:case ec.ERROR:rc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(tc(this._state)){case ec.RUNNING:case ec.PAUSED:e.next&&rc(e.next.bind(e,this.snapshot))();break;case ec.SUCCESS:e.complete&&rc(e.complete.bind(e))();break;default:e.error&&rc(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),uc=function(){function e(t,n){i(this,e),this._service=t,this._location=n instanceof lu?n:lu.makeFromUrl(n,t.host)}return o(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new lu(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Nu(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new lu(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw ou(e)}}]),e}();function cc(e,t,n){return lc.apply(this,arguments)}function lc(){return(lc=se(he().mark((function e(t,n,r){var i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,fc(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,ce(s.prefixes)),(a=n.items).push.apply(a,ce(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,cc(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){null!=t&&"number"===typeof t.maxResults&&vu("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Ku(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,oc)}function hc(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=mu(t.fullServerUrl(),e.host,e._protocol),a=Fu(n,r),o=e.maxOperationRetryTime,s=new ju(i,"PATCH",Bu(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=Hu(t),s}(e.storage,e._location,t,Du());return e.storage.makeRequestWithTokens(n,oc)}function dc(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=mu(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ju(r,"GET",qu(e,n),i);return a.errorHandler=Hu(t),a}(e.storage,e._location,Du());return e.storage.makeRequestWithTokens(t,oc).then((function(e){if(null===e)throw new $s("no-download-url","The given file does not have any download URLs.");return e}))}function pc(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=mu(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ju(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Hu(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,oc)}function vc(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new lu(e._location.bucket,n);return new uc(e.storage,r)}function mc(e,t){if(e instanceof bc){var n=e;if(null==n._bucket)throw new $s("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new uc(n,n._bucket);return null!=t?mc(r,t):r}return void 0!==t?vc(e,t):e}function yc(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bc)return new uc(e,t);throw iu("To use ref(service, url), the first argument must be a Storage instance.")}return mc(e,t)}function gc(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:lu.makeFromBucketSpec(n,e)}function kc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:we(i,e.app.options.projectId))}var bc=function(){function e(t,n,r,a,o){i(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=Zs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?lu.makeFromBucketSpec(a,this._host):gc(this._host,this.app.options)}return o(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=lu.makeFromBucketSpec(this._url,e):this._bucket=gc(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){vu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){vu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new uc(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new fu(au());var a=function(e,t,n,r,i,a){var o=yu(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new gu(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=k(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),wc="@firebase/storage",xc="0.9.0",Ec="storage";function _c(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sc(e,new Cu(t),n)}(e=qe(e),t,n)}function Ic(e){return function(e){e._throwIfRoot("getMetadata");var t=Wu(e.storage,e._location,Du());return e.storage.makeRequestWithTokens(t,oc)}(e=qe(e))}function Tc(e){return function(e){var t={prefixes:[],items:[]};return cc(e,t).then((function(){return t}))}(e=qe(e))}function Sc(e,t){return yc(e=qe(e),t)}function Cc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};kc(e,t,n,r)}function Ac(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new bc(r,i,a,n,wt)}dt(new ze(Ec,Ac,"PUBLIC").setMultipleInstances(!0)),St(wc,xc,""),St(wc,xc,"esm2017");var Nc=function(){function e(t,n,r){i(this,e),this._delegate=t,this.task=n,this.ref=r}return o(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Rc=function(){function e(t,n){i(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return o(e,[{key:"snapshot",get:function(){return new Nc(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Nc(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Nc(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Nc(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Pc=function(){function e(t,n){i(this,e),this._delegate=t,this._service=n}return o(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Oc(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Oc(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Oc=function(){function e(t,n){i(this,e),this._delegate=t,this.storage=n}return o(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return vc(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Rc(_c(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xu.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=_u(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Rc(new sc(this._delegate,new Cu(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Tc(this._delegate).then((function(t){return new Pc(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return fc(e=qe(e),t)}(this._delegate,e||void 0).then((function(e){return new Pc(e,t.storage)}))}},{key:"getMetadata",value:function(){return Ic(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return hc(e=qe(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return dc(qe(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),pc(qe(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw ou(e)}}]),e}(),Dc=function(){function e(t,n){i(this,e),this.app=t,this._delegate=n}return o(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Lc(e))throw iu("ref() expected a child path but got a URL, use refFromURL instead.");return new Oc(Sc(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Lc(e))throw iu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lu.makeFromUrl(e,this._delegate.host)}catch(t){throw iu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Oc(Sc(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Cc(this._delegate,e,t,n)}}]),e}();function Lc(e){return/^[A-Za-z]+:\/\//.test(e)}function Mc(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Dc(r,i)}function Fc(){return window}!function(e){var t={TaskState:ec,TaskEvent:$u,StringFormat:xu,Storage:Dc,Reference:Oc};e.INTERNAL.registerComponent(new ze("storage-compat",Mc,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(Js);function Uc(e,t,n){return jc.apply(this,arguments)}function jc(){return jc=se(he().mark((function e(t,n,r){var i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fc(),o=a.BuildInfo,nn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Wc(n.sessionId);case 4:return s=e.sent,u={},sr()?u.ibi=o.packageName:ir()?u.apn=o.packageName:Yt(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",As(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Vc(){return Vc=se(he().mark((function e(t){var n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fc(),r=n.BuildInfo,i={},sr()?i.iosBundleId=r.packageName:ir()?i.androidPackageName=r.packageName:Yt(t,"operation-not-supported-in-this-environment"),e.next=5,as(t,i);case 5:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Bc(e){var t=Fc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function qc(e,t,n){return zc.apply(this,arguments)}function zc(){return zc=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Xt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),ir()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),zc.apply(this,arguments)}function Hc(e){var t,n,r,i,a,o,s,u,c,l,f=Fc();en("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),en("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),en("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),en("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),en("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Wc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=se(he().mark((function e(t){var n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(e){if(nn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Qc=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return o(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ie(c(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ns);function Yc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:el(),postBody:null,tenantId:e.tenantId,error:Xt(e,"no-auth-event")}}function Xc(e,t){return tl()._set(nl(e),t)}function Jc(e){return Zc.apply(this,arguments)}function Zc(){return Zc=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl()._get(nl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,tl()._remove(nl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function $c(e,t){var n,r,i=function(e){var t=rl(e),n=t.link?decodeURIComponent(t.link):void 0,r=rl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return rl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=rl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Xt(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function el(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function tl(){return an(xa)}function nl(e){return Jn("authEvent",e.config.apiKey,e.name)}function rl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=v(t=n)||ue(t)||y(t)||g();r[0];return Fe(r.slice(1).join("?"))}var il=function(){function e(){i(this,e),this._redirectPersistence=_a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zo}return o(e,[{key:"_initialize",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Qc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Yt(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=se(he().mark((function e(t,n,r,i){var a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Mo.clear(),e.next=10,this._originValidation(t);case 10:return o=Yc(t,r,i),e.next=13,Xc(t,o);case 13:return e.next=15,Uc(t,o,n);case 15:return s=e.sent,e.next=18,Bc(s);case 18:return u=e.sent,e.abrupt("return",qc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Fc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Jc(e);case 2:t.onEvent(ol());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=se(he().mark((function n(r){var i,a;return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Jc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=$c(i,r.url)),t.onEvent(a||ol());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Fc().handleOpenURL=function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),al=il;function ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xt("no-auth-event")}}function sl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return!("file:"!==sl()&&"ionic:"!==sl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cl(){return Se()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/Edge\/\d+/.test(e)}function fl(){try{var e=self.localStorage,t=Sa();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return cl()||ll(e)}()||Ce()}catch(n){return hl()&&Ce()}return!1}function hl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function dl(){return("http:"===sl()||"https:"===sl()||Ie()||ul())&&!(Te()||_e())&&fl()&&!hl()}function pl(){return ul()&&"undefined"!==typeof document}function vl(){return ml.apply(this,arguments)}function ml(){return(ml=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yl={LOCAL:"local",NONE:"none",SESSION:"session"},gl=en,kl="persistence";function bl(e,t){gl(Object.values(yl).includes(t),e,"invalid-persistence-type"),Te()?gl(t!==yl.SESSION,e,"unsupported-persistence-type"):_e()?gl(t===yl.NONE,e,"unsupported-persistence-type"):hl()?gl(t===yl.NONE||t===yl.LOCAL&&Ce(),e,"unsupported-persistence-type"):gl(t===yl.NONE||fl(),e,"unsupported-persistence-type")}function wl(e){return xl.apply(this,arguments)}function xl(){return xl=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=El(),r=Jn(kl,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function El(){return"undefined"!==typeof window?window:null}var _l=en,Il=function(){function e(){i(this,e),this.browserResolver=an(Ps),this.cordovaResolver=an(al),this.underlyingResolver=null,this._redirectPersistence=_a,this._completeRedirectFn=Zo}return o(e,[{key:"_initialize",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=se(he().mark((function e(t,n,r,i){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=se(he().mark((function e(t,n,r,i){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return pl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _l(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tl(e){return e.unwrap()}function Sl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Pl(e,function(e,t){var n,r=qe(e),i=t;return en(t.customData.operationType,r,"argument-error"),en(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pa._fromError(r,i)}(e,t));else if(r){var i=Cl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Cl(e){var t=(e instanceof Ae?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ae)&&"temporaryProof"in t&&"phoneNumber"in t)return wo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Lt)return null;switch(r){case Dt:n=ii;break;case Pt:n=ri;break;case Ot:n=ai;break;case Mt:n=ui;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?oi._create(r,s):Hr._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ni(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ae?n.credentialFromError(e):n.credentialFromResult(e)}function Al(e,t){return t.catch((function(t){throw t instanceof Ae&&Sl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Cl(t)),additionalUserInfo:fa(e),user:Ol.getOrCreate(r)}}))}function Nl(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Al(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Pl=function(){function e(t,n){i(this,e),this.resolver=n,this.auth=t.wrapped()}return o(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Al(Tl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ol=function(){function e(t){i(this,e),this._delegate=t,this.multiFactor=function(e){var t=qe(e);return ga.has(t)||ga.set(t,ya._fromUser(t)),ga.get(t)}(t)}return o(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this.auth,Ai(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(this.auth,vo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this.auth,Oo(this._delegate,t,Il)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl(dr(this.auth));case 2:return e.abrupt("return",Qo(this._delegate,t,Il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this.auth,Ri(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Nl(this.auth,function(e,t,n){return yo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Al(this.auth,function(e,t,n){return Po.apply(this,arguments)}(this._delegate,e,Il))}},{key:"reauthenticateWithRedirect",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl(dr(this.auth));case 2:return e.abrupt("return",Ko(this._delegate,t,Il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Zi.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ra(qe(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ra(qe(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return bo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return na.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $i.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ol.USER_MAP=new WeakMap;var Dl=en,Ll=function(){function e(t,n){if(i(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Dl(r,"invalid-api-key",{appName:t.name});var a=[Xn];if("undefined"!==typeof window){a=function(e,t){var n=El();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Jn(kl,e,t);switch(n.sessionStorage.getItem(r)){case yl.NONE:return[Xn];case yl.LOCAL:return[Ga,_a];case yl.SESSION:return[_a];default:return[]}}(r,t.name);for(var o=0,s=[Ga,xa,_a];o<s.length;o++){var u=s[o];a.includes(u)||a.push(u)}}Dl(r,"invalid-api-key",{appName:t.name});var c="undefined"!==typeof window?Il:void 0;this._delegate=n.initialize({options:{persistence:a,popupRedirectResolver:c}}),this._delegate._updateErrorMap(Ht),this.linkUnderlyingAuth()}return o(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ol.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){vr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Bi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Vi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this._delegate,Wi(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ji.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Zr.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(dl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xo(this._delegate,Il);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Al(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){dr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Gi.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ji.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bl(this._delegate,t),e.t0=t,e.next=e.t0===yl.SESSION?4:e.t0===yl.LOCAL?6:e.t0===yl.NONE?11:13;break;case 4:return n=_a,e.abrupt("break",14);case 6:return e.next=8,an(Ga)._isAvailable();case 8:return r=e.sent,n=r?Ga:xa,e.abrupt("break",14);case 11:return n=Xn,e.abrupt("break",14);case 13:return e.abrupt("return",Yt("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Al(this._delegate,function(e){return di.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Al(this._delegate,Si(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Al(this._delegate,function(e,t){return Li.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Al(this._delegate,function(e,t,n){return Si(qe(e),$r.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Al(this._delegate,function(e,t,n){return Qi.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Nl(this._delegate,function(e,t,n){return po.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(dl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Al(this._delegate,No(this._delegate,t,Il)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(dl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wl(this._delegate);case 3:return e.abrupt("return",Ho(this._delegate,t,Il));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Hi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ml(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ol.getOrCreate(e))},error:t,complete:n}}Ll.Persistence=yl;var Fl=function(){function e(){i(this,e),this.providerId="phone",this._delegate=new wo(Tl(Js.auth()))}return o(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wo.credential(e,t)}}]),e}();Fl.PHONE_SIGN_IN_METHOD=wo.PHONE_SIGN_IN_METHOD,Fl.PROVIDER_ID=wo.PROVIDER_ID;var Ul,jl=en,Vl=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Js.app();i(this,e),jl(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new lo(t,n,a.auth()),this.type=this._delegate.type}return o(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ul=Js).INTERNAL.registerComponent(new ze("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ll(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ft,PASSWORD_RESET:Ut,RECOVER_EMAIL:jt,REVERT_SECOND_FACTOR_ADDITION:Vt,VERIFY_AND_CHANGE_EMAIL:Bt,VERIFY_EMAIL:qt}},EmailAuthProvider:$r,FacebookAuthProvider:ri,GithubAuthProvider:ai,GoogleAuthProvider:ii,OAuthProvider:ni,SAMLAuthProvider:si,PhoneAuthProvider:Fl,PhoneMultiFactorGenerator:Ls,RecaptchaVerifier:Vl,TwitterAuthProvider:ui,Auth:Ll,AuthCredential:gr,Error:Ae}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ul.registerVersion("@firebase/auth-compat","0.2.4");var Bl,ql="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},zl={},Hl=Hl||{},Wl=ql||self;function Kl(){}function Gl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ql(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Yl="closure_uid_"+(1e9*Math.random()>>>0),Xl=0;function Jl(e,t,n){return e.call.apply(e.bind,arguments)}function Zl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $l(e,t,n){return($l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jl:Zl).apply(null,arguments)}function ef(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function nf(){this.s=this.s,this.o=this.o}var rf={};nf.prototype.s=!1,nf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Yl)&&e[Yl]||(e[Yl]=++Xl)}(this);delete rf[e]}},nf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var af=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},of=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function sf(e){return Array.prototype.concat.apply([],arguments)}function uf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cf(e){return/^[\s\xa0]*$/.test(e)}var lf,ff=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hf(e,t){return-1!=e.indexOf(t)}function df(e,t){return e<t?-1:e>t?1:0}e:{var pf=Wl.navigator;if(pf){var vf=pf.userAgent;if(vf){lf=vf;break e}}lf=""}function mf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function yf(e){var t={};for(var n in e)t[n]=e[n];return t}var gf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gf.length;a++)n=gf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bf(e){return bf[" "](e),e}bf[" "]=Kl;var wf,xf=hf(lf,"Opera"),Ef=hf(lf,"Trident")||hf(lf,"MSIE"),_f=hf(lf,"Edge"),If=_f||Ef,Tf=hf(lf,"Gecko")&&!(hf(lf.toLowerCase(),"webkit")&&!hf(lf,"Edge"))&&!(hf(lf,"Trident")||hf(lf,"MSIE"))&&!hf(lf,"Edge"),Sf=hf(lf.toLowerCase(),"webkit")&&!hf(lf,"Edge");function Cf(){var e=Wl.document;return e?e.documentMode:void 0}e:{var Af="",Nf=function(){var e=lf;return Tf?/rv:([^\);]+)(\)|;)/.exec(e):_f?/Edge\/([\d\.]+)/.exec(e):Ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sf?/WebKit\/(\S+)/.exec(e):xf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Nf&&(Af=Nf?Nf[1]:""),Ef){var Rf=Cf();if(null!=Rf&&Rf>parseFloat(Af)){wf=String(Rf);break e}}wf=Af}var Pf,Of={};function Df(){return function(e){var t=Of;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ff(String(wf)).split("."),n=ff("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=df(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||df(0==a[2].length,0==o[2].length)||df(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Wl.document&&Ef){var Lf=Cf();Pf=Lf||(parseInt(wf,10)||void 0)}else Pf=void 0;var Mf=Pf,Ff=function(){if(!Wl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wl.addEventListener("test",Kl,t),Wl.removeEventListener("test",Kl,t)}catch(n){}return e}();function Uf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function jf(e,t){if(Uf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tf){e:{try{bf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&jf.Z.h.call(this)}}Uf.prototype.h=function(){this.defaultPrevented=!0},tf(jf,Uf);var Vf={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bf="closure_listenable_"+(1e6*Math.random()|0),qf=0;function zf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qf,this.ca=this.fa=!1}function Hf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Wf(e){this.src=e,this.g={},this.h=0}function Kf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=af(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Hf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Wf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zf(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Qf="closure_lm_"+(1e6*Math.random()|0),Yf={};function Xf(e,t,n,r,i){if(r&&r.once)return Zf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xf(e,t[a],n,r,i);return null}return n=ah(n),e&&e[Bf]?e.N(t,n,Ql(r)?!!r.capture:!!r,i):Jf(e,t,n,!1,r,i)}function Jf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ql(i)?!!i.capture:!!i,s=rh(e);if(s||(e[Qf]=s=new Wf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=nh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ff||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(th(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Zf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Zf(e,t[a],n,r,i);return null}return n=ah(n),e&&e[Bf]?e.O(t,n,Ql(r)?!!r.capture:!!r,i):Jf(e,t,n,!0,r,i)}function $f(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)$f(e,t[a],n,r,i);else r=Ql(r)?!!r.capture:!!r,n=ah(n),e&&e[Bf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gf(a=e.g[t],n,r,i))&&(Hf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=rh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gf(t,n,r,i)),(n=-1<e?t[e]:null)&&eh(n))}function eh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Bf])Kf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(th(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=rh(t))?(Kf(n,e),0==n.h&&(n.src=null,t[Qf]=null)):Hf(e)}}}function th(e){return e in Yf?Yf[e]:Yf[e]="on"+e}function nh(e,t){if(e.ca)e=!0;else{t=new jf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&eh(e),e=n.call(r,t)}return e}function rh(e){return(e=e[Qf])instanceof Wf?e:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function ah(e){return"function"===typeof e?e:(e[ih]||(e[ih]=function(t){return e.handleEvent(t)}),e[ih])}function oh(){nf.call(this),this.i=new Wf(this),this.P=this,this.I=null}function sh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Uf(t,e);else if(t instanceof Uf)t.target=t.target||e;else{var i=t;kf(t=new Uf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=uh(o,r,!0,t)&&i}if(i=uh(o=t.g=e,r,!0,t)&&i,i=uh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=uh(o=t.g=n[a],r,!1,t)&&i}function uh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Kf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}tf(oh,nf),oh.prototype[Bf]=!0,oh.prototype.removeEventListener=function(e,t,n,r){$f(this,e,t,n,r)},oh.prototype.M=function(){if(oh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hf(n[r]);delete t.g[e],t.h--}}this.I=null},oh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},oh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ch=Wl.JSON.stringify;function lh(){var e=gh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fh,hh=function(){function e(){i(this,e),this.h=this.g=null}return o(e,[{key:"add",value:function(e,t){var n=dh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),dh=new(function(){function e(t,n){i(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return o(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ph}),(function(e){return e.reset()})),ph=function(){function e(){i(this,e),this.next=this.g=this.h=null}return o(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function vh(e){Wl.setTimeout((function(){throw e}),0)}function mh(e,t){fh||function(){var e=Wl.Promise.resolve(void 0);fh=function(){e.then(kh)}}(),yh||(fh(),yh=!0),gh.add(e,t)}var yh=!1,gh=new hh;function kh(){for(var e;e=lh();){try{e.h.call(e.g)}catch(n){vh(n)}var t=dh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yh=!1}function bh(e,t){oh.call(this),this.h=e||1,this.g=t||Wl,this.j=$l(this.kb,this),this.l=Date.now()}function wh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xh(e,t,n){if("function"===typeof e)n&&(e=$l(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$l(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wl.setTimeout(e,t||0)}function Eh(e){e.g=xh((function(){e.g=null,e.i&&(e.i=!1,Eh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}tf(bh,oh),(Bl=bh.prototype).da=!1,Bl.S=null,Bl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sh(this,"tick"),this.da&&(wh(this),this.start()))}},Bl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bl.M=function(){bh.Z.M.call(this),wh(this),delete this.g};var _h=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).m=e,a.j=r,a.h=null,a.i=!1,a.g=null,a}return o(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Eh(this)}},{key:"M",value:function(){ie(c(n.prototype),"M",this).call(this),this.g&&(Wl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(nf);function Ih(e){nf.call(this),this.h=e,this.g={}}tf(Ih,nf);var Th=[];function Sh(e,t,n,r){Array.isArray(n)||(n&&(Th[0]=n.toString()),n=Th);for(var i=0;i<n.length;i++){var a=Xf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ch(e){mf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&eh(e)}),e),e.g={}}function Ah(){this.g=!0}function Nh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ch(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ih.prototype.M=function(){Ih.Z.M.call(this),Ch(this)},Ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ah.prototype.Aa=function(){this.g=!1},Ah.prototype.info=function(){};var Rh={},Ph=null;function Oh(){return Ph=Ph||new oh}function Dh(e){Uf.call(this,Rh.Ma,e)}function Lh(e){var t=Oh();sh(t,new Dh(t,e))}function Mh(e,t){Uf.call(this,Rh.STAT_EVENT,e),this.stat=t}function Fh(e){var t=Oh();sh(t,new Mh(t,e))}function Uh(e,t){Uf.call(this,Rh.Na,e),this.size=t}function jh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wl.setTimeout((function(){e()}),t)}Rh.Ma="serverreachability",tf(Dh,Uf),Rh.STAT_EVENT="statevent",tf(Mh,Uf),Rh.Na="timingevent",tf(Uh,Uf);var Vh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qh(){}function zh(e){return e.h||(e.h=e.i())}function Hh(){}qh.prototype.h=null;var Wh,Kh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gh(){Uf.call(this,"d")}function Qh(){Uf.call(this,"c")}function Yh(){}function Xh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ih(this),this.P=Zh,e=If?125:void 0,this.W=new bh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jh}function Jh(){this.i=null,this.g="",this.h=!1}tf(Gh,Uf),tf(Qh,Uf),tf(Yh,qh),Yh.prototype.g=function(){return new XMLHttpRequest},Yh.prototype.i=function(){return{}},Wh=new Yh;var Zh=45e3,$h={},ed={};function td(e,t,n){e.K=1,e.v=_d(gd(t)),e.s=n,e.U=!0,nd(e,null)}function nd(e,t){e.F=Date.now(),od(e),e.A=gd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Fd(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Jh,e.g=jp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new _h($l(e.Ia,e,e.g),e.O)),Sh(e.V,e.g,"readystatechange",e.gb),t=e.H?yf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Lh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function rd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function id(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ad(e,n))==ed){4==t&&(e.o=4,Fh(14),i=!1),Nh(e.j,e.m,null,"[Incomplete Response]");break}if(r==$h){e.o=4,Fh(15),Nh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nh(e.j,e.m,r,null),fd(e,r)}rd(e)&&r!=ed&&r!=$h&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rp(t),t.L=!0,Fh(11))):(Nh(e.j,e.m,n,"[Invalid Chunked Response]"),ld(e),cd(e))}function ad(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ed:(n=Number(t.substring(n,r)),isNaN(n)?$h:(r+=1)+n>t.length?ed:(t=t.substr(r,n),e.C=r+n,t))}function od(e){e.Y=Date.now()+e.P,sd(e,e.P)}function sd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=jh($l(e.eb,e),t)}function ud(e){e.B&&(Wl.clearTimeout(e.B),e.B=null)}function cd(e){0==e.l.G||e.I||Dp(e.l,e)}function ld(e){ud(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wh(e.W),Ch(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wd(n.i,e)))if(n.I=e.N,!e.J&&Wd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Op(n),xp(n)}Np(n),Fh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=jh($l(n.ab,n),6e3));if(1>=Hd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Mp(n,11)}else if((e.J||n.g==e)&&Op(n),!cf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(hf(l,"spdy")||hf(l,"quic")||hf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Kd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ed(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Up(r,r.H?r.la:null,r.W),d.J){Gd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ud(p),od(p)),r.g=d}else Ap(r);0<n.l.length&&Ip(n)}else"stop"!=a[0]&&"close"!=a[0]||Mp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Mp(n,7):wp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Lh(4)}catch(a){}}function hd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gl(e)||"string"===typeof e)of(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gl(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function dd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof dd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Bl=Xh.prototype).setTimeout=function(e){this.P=e},Bl.gb=function(e){e=e.target;var t=this.L;t&&3==mp(e)?t.l():this.Ia(e)},Bl.Ia=function(e){try{if(e==this.g)e:{var t=mp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||If||this.g&&(this.h.h||this.g.ga()||yp(this.g)))){this.I||4!=t||7==n||Lh(8==n||0>=r?3:2),ud(this);var i=this.g.ba();this.N=i;t:if(rd(this)){var a=yp(this.g);e="";var o=a.length,s=4==mp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ld(this),cd(this);var u="";break t}this.h.i=new Wl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Fh(12),ld(this),cd(this);break e}Nh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fd(this,i)}this.U?(id(this,t,u),If&&this.i&&3==t&&(Sh(this.V,this.W,"tick",this.fb),this.W.start())):(Nh(this.j,this.m,u,null),fd(this,u)),4==t&&ld(this),this.i&&!this.I&&(4==t?Dp(this.l,this):(this.i=!1,od(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Fh(12)):(this.o=0,Fh(13)),ld(this),cd(this)}}}catch(t){}},Bl.fb=function(){if(this.g){var e=mp(this.g),t=this.g.ga();this.C<t.length&&(ud(this),id(this,e,t),this.i&&4!=e&&od(this))}},Bl.cancel=function(){this.I=!0,ld(this)},Bl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Lh(3),Fh(17)),ld(this),this.o=2,cd(this)):sd(this,this.Y-e)},(Bl=dd.prototype).R=function(){pd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Bl.T=function(){return pd(this),this.g.concat()},Bl.get=function(e,t){return vd(this.h,e)?this.h[e]:t},Bl.set=function(e,t){vd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Bl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var md=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yd){this.g=void 0!==t?t:e.g,kd(this,e.j),this.s=e.s,bd(this,e.i),wd(this,e.m),this.l=e.l,t=e.h;var n=new Od;n.i=t.i,t.g&&(n.g=new dd(t.g),n.h=t.h),xd(this,n),this.o=e.o}else e&&(n=String(e).match(md))?(this.g=!!t,kd(this,n[1]||"",!0),this.s=Id(n[2]||""),bd(this,n[3]||"",!0),wd(this,n[4]),this.l=Id(n[5]||"",!0),xd(this,n[6]||"",!0),this.o=Id(n[7]||"")):(this.g=!!t,this.h=new Od(null,this.g))}function gd(e){return new yd(e)}function kd(e,t,n){e.j=n?Id(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bd(e,t,n){e.i=n?Id(t,!0):t}function wd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xd(e,t,n){t instanceof Od?(e.h=t,function(e,t){t&&!e.j&&(Dd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ld(this,t),Fd(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Td(t,Rd)),e.h=new Od(t,e.g))}function Ed(e,t,n){e.h.set(t,n)}function _d(e){return Ed(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Id(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Td(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Td(t,Cd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Td(t,Cd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Td(n,"/"==n.charAt(0)?Nd:Ad,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Td(n,Pd)),e.join("")};var Cd=/[#\/\?@]/g,Ad=/[#\?:]/g,Nd=/[#\?]/g,Rd=/[#\?@]/g,Pd=/#/g;function Od(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dd(e){e.g||(e.g=new dd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ld(e,t){Dd(e),t=Ud(e,t),vd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pd(e)))}function Md(e,t){return Dd(e),t=Ud(e,t),vd(e.g.h,t)}function Fd(e,t,n){Ld(e,t),0<n.length&&(e.i=null,e.g.set(Ud(e,t),uf(n)),e.h+=n.length)}function Ud(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Bl=Od.prototype).add=function(e,t){Dd(this),this.i=null,e=Ud(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bl.forEach=function(e,t){Dd(this),this.g.forEach((function(n,r){of(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Bl.T=function(){Dd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Bl.R=function(e){Dd(this);var t=[];if("string"===typeof e)Md(this,e)&&(t=sf(t,this.g.get(Ud(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=sf(t,e[n])}return t},Bl.set=function(e,t){return Dd(this),this.i=null,Md(this,e=Ud(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Bl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var jd=o((function e(t,n){i(this,e),this.h=t,this.g=n}));function Vd(e){this.l=e||qd,Wl.PerformanceNavigationTiming?e=0<(e=Wl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wl.g&&Wl.g.Ea&&Wl.g.Ea()&&Wl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bd,qd=10;function zd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hd(e){return e.h?1:e.g?e.g.size:0}function Wd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Kd(e,t){e.g?e.g.add(t):e.h=t}function Gd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ae(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return uf(e.i)}function Yd(){}function Xd(){this.g=new Yd}function Jd(e,t,n){var r=n||"";try{hd(e,(function(e,n){var i=e;Ql(e)&&(i=ch(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function $d(e){this.l=e.$b||null,this.j=e.ib||!1}function ep(e,t){oh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vd.prototype.cancel=function(){if(this.i=Qd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ae(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yd.prototype.stringify=function(e){return Wl.JSON.stringify(e,void 0)},Yd.prototype.parse=function(e){return Wl.JSON.parse(e,void 0)},tf($d,qh),$d.prototype.g=function(){return new ep(this.l,this.j)},$d.prototype.i=(Bd={},function(){return Bd}),tf(ep,oh);var tp=0;function np(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function rp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ip(e)}function ip(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bl=ep.prototype).open=function(e,t){if(this.readyState!=tp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ip(this)},Bl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Bl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rp(this)),this.readyState=tp},Bl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ip(this)),this.g&&(this.readyState=3,ip(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Wl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;np(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Bl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rp(this):ip(this),3==this.readyState&&np(this)}},Bl.Ua=function(e){this.g&&(this.response=this.responseText=e,rp(this))},Bl.Ta=function(e){this.g&&(this.response=e,rp(this))},Bl.ha=function(){this.g&&rp(this)},Bl.setRequestHeader=function(e,t){this.v.append(e,t)},Bl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ap=Wl.JSON.parse;function op(e){oh.call(this),this.headers=new dd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sp,this.K=this.L=!1}tf(op,oh);var sp="",up=/^https?$/i,cp=["POST","PUT"];function lp(e){return"content-type"==e.toLowerCase()}function fp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hp(e),pp(e)}function hp(e){e.D||(e.D=!0,sh(e,"complete"),sh(e,"error"))}function dp(e){if(e.h&&"undefined"!=typeof Hl&&(!e.C[1]||4!=mp(e)||2!=e.ba()))if(e.v&&4==mp(e))xh(e.Fa,0,e);else if(sh(e,"readystatechange"),4==mp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(md)[1]||null;if(!a&&Wl.self&&Wl.self.location){var o=Wl.self.location.protocol;a=o.substr(0,o.length-1)}i=!up.test(a?a.toLowerCase():"")}t=i}if(t)sh(e,"complete"),sh(e,"success");else{e.m=6;try{var s=2<mp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",hp(e)}}finally{pp(e)}}}function pp(e,t){if(e.g){vp(e);var n=e.g,r=e.C[0]?Kl:null;e.g=null,e.C=null,t||sh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function vp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wl.clearTimeout(e.A),e.A=null)}function mp(e){return e.g?e.g.readyState:0}function yp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return mf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ed(e,t,n))}function kp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bp(e){this.za=0,this.l=[],this.h=new Ah,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kp("baseRetryDelayMs",5e3,e),this.$a=kp("retryDelaySeedMs",1e4,e),this.Ya=kp("forwardChannelMaxRetries",2,e),this.ra=kp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vd(e&&e.concurrentRequestLimit),this.Ca=new Xd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wp(e){if(Ep(e),3==e.G){var t=e.V++,n=gd(e.F);Ed(n,"SID",e.J),Ed(n,"RID",t),Ed(n,"TYPE","terminate"),Sp(e,n),(t=new Xh(e,e.h,t,void 0)).K=2,t.v=_d(gd(n)),n=!1,Wl.navigator&&Wl.navigator.sendBeacon&&(n=Wl.navigator.sendBeacon(t.v.toString(),"")),!n&&Wl.Image&&((new Image).src=t.v,n=!0),n||(t.g=jp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),od(t)}Fp(e)}function xp(e){e.g&&(Rp(e),e.g.cancel(),e.g=null)}function Ep(e){xp(e),e.u&&(Wl.clearTimeout(e.u),e.u=null),Op(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wl.clearTimeout(e.m),e.m=null)}function _p(e,t){e.l.push(new jd(e.Za++,t)),3==e.G&&Ip(e)}function Ip(e){zd(e.i)||e.m||(e.m=!0,mh(e.Ha,e),e.C=0)}function Tp(e,t){var n;n=t?t.m:e.V++;var r=gd(e.F);Ed(r,"SID",e.J),Ed(r,"RID",n),Ed(r,"AID",e.U),Sp(e,r),e.o&&e.s&&gp(r,e.o,e.s),n=new Xh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Cp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Kd(e.i,n),td(n,r,t)}function Sp(e,t){e.j&&hd({},(function(e,n){Ed(t,n,e)}))}function Cp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?$l(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Jd(l,o,"req"+c+"_")}catch(yv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ap(e){e.g||e.u||(e.Y=1,mh(e.Ga,e),e.A=0)}function Np(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=jh($l(e.Ga,e),Lp(e,e.A)),e.A++,!0)}function Rp(e){null!=e.B&&(Wl.clearTimeout(e.B),e.B=null)}function Pp(e){e.g=new Xh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gd(e.oa);Ed(t,"RID","rpc"),Ed(t,"SID",e.J),Ed(t,"CI",e.N?"0":"1"),Ed(t,"AID",e.U),Sp(e,t),Ed(t,"TYPE","xmlhttp"),e.o&&e.s&&gp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_d(gd(t)),n.s=null,n.U=!0,nd(n,e)}function Op(e){null!=e.v&&(Wl.clearTimeout(e.v),e.v=null)}function Dp(e,t){var n=null;if(e.g==t){Op(e),Rp(e),e.g=null;var r=2}else{if(!Wd(e.i,t))return;n=t.D,Gd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;sh(r=Oh(),new Uh(r,n,t,i)),Ip(e)}else Ap(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Hd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=jh($l(e.Ha,e,t),Lp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Np(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Mp(e,5);break;case 4:Mp(e,10);break;case 3:Mp(e,6);break;default:Mp(e,2)}}function Lp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Mp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=$l(e.jb,e);n||(n=new yd("//www.google.com/images/cleardot.gif"),Wl.location&&"http"==Wl.location.protocol||kd(n,"https"),_d(n)),function(e,t){var n=new Ah;if(Wl.Image){var r=new Image;r.onload=ef(Zd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ef(Zd,n,r,"TestLoadImage: error",!1,t),r.onabort=ef(Zd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ef(Zd,n,r,"TestLoadImage: timeout",!1,t),Wl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fh(2);e.G=0,e.j&&e.j.va(t),Fp(e),Ep(e)}function Fp(e){e.G=0,e.I=-1,e.j&&(0==Qd(e.i).length&&0==e.l.length||(e.i.i.length=0,uf(e.l),e.l.length=0),e.j.ua())}function Up(e,t,n){var r=function(e){return e instanceof yd?gd(e):new yd(e,void 0)}(n);if(""!=r.i)t&&bd(r,t+"."+r.i),wd(r,r.m);else{var i=Wl.location;r=function(e,t,n,r){var i=new yd(null,void 0);return e&&kd(i,e),t&&bd(i,t),n&&wd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&mf(e.aa,(function(e,t){Ed(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ed(r,t,n),Ed(r,"VER",e.ma),Sp(e,r),r}function jp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new op(new $d({ib:!0})):new op(e.qa)).L=e.H,t}function Vp(){}function Bp(){if(Ef&&!(10<=Number(Mf)))throw Error("Environmental error: no available transport.")}function qp(e,t){oh.call(this),this.g=new bp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!cf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Wp(this)}function zp(e){Gh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hp(){Qh.call(this),this.status=1}function Wp(e){this.g=e}(Bl=op.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wh.g(),this.C=this.u?zh(this.u):zh(Wh),this.g.onreadystatechange=$l(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void fp(this,a)}e=n||"";var i=new dd(this.headers);r&&hd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=lp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Wl.FormData&&e instanceof Wl.FormData,!(0<=af(cp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vp(this),0<this.B&&((this.K=function(e){return Ef&&Df()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$l(this.pa,this)):this.A=xh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){fp(this,a)}},Bl.pa=function(){"undefined"!=typeof Hl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sh(this,"timeout"),this.abort(8))},Bl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sh(this,"complete"),sh(this,"abort"),pp(this))},Bl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pp(this,!0)),op.Z.M.call(this)},Bl.Fa=function(){this.s||(this.F||this.v||this.l?dp(this):this.cb())},Bl.cb=function(){dp(this)},Bl.ba=function(){try{return 2<mp(this)?this.g.status:-1}catch(Bd){return-1}},Bl.ga=function(){try{return this.g?this.g.responseText:""}catch(Bd){return""}},Bl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ap(t)}},Bl.Da=function(){return this.m},Bl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Bl=bp.prototype).ma=8,Bl.G=1,Bl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Bl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?kf(n=yf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Cp(this,t,r),Ed(i=gd(this.F),"RID",e),Ed(i,"CVER",22),this.D&&Ed(i,"X-HTTP-Session-Id",this.D),Sp(this,i),this.o&&n&&gp(i,this.o,n),Kd(this.i,t),this.Ra&&Ed(i,"TYPE","init"),this.ja?(Ed(i,"$req",r),Ed(i,"SID","null"),t.$=!0,td(t,i,null)):td(t,i,r),this.G=2}}else 3==this.G&&(e?Tp(this,e):0==this.l.length||zd(this.i)||Tp(this))},Bl.Ga=function(){if(this.u=null,Pp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=jh($l(this.bb,this),e)}},Bl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fh(10),xp(this),Pp(this))},Bl.ab=function(){null!=this.v&&(this.v=null,xp(this),Np(this),Fh(19))},Bl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Fh(2)):(this.h.info("Failed to ping google.com"),Fh(1))},(Bl=Vp.prototype).xa=function(){},Bl.wa=function(){},Bl.va=function(){},Bl.ua=function(){},Bl.Oa=function(){},Bp.prototype.g=function(e,t){return new qp(e,t)},tf(qp,oh),qp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),mh($l(e.hb,e,t))),Fh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Up(e,null,e.W),Ip(e)},qp.prototype.close=function(){wp(this.g)},qp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,_p(this.g,t)}else this.v?((t={}).__data__=ch(e),_p(this.g,t)):_p(this.g,e)},qp.prototype.M=function(){this.g.j=null,delete this.j,wp(this.g),delete this.g,qp.Z.M.call(this)},tf(zp,Gh),tf(Hp,Qh),tf(Wp,Vp),Wp.prototype.xa=function(){sh(this.g,"a")},Wp.prototype.wa=function(e){sh(this.g,new zp(e))},Wp.prototype.va=function(e){sh(this.g,new Hp(e))},Wp.prototype.ua=function(){sh(this.g,"b")},Bp.prototype.createWebChannel=Bp.prototype.g,qp.prototype.send=qp.prototype.u,qp.prototype.open=qp.prototype.m,qp.prototype.close=qp.prototype.close,Vh.NO_ERROR=0,Vh.TIMEOUT=8,Vh.HTTP_ERROR=6,Bh.COMPLETE="complete",Hh.EventType=Kh,Kh.OPEN="a",Kh.CLOSE="b",Kh.ERROR="c",Kh.MESSAGE="d",oh.prototype.listen=oh.prototype.N,op.prototype.listenOnce=op.prototype.O,op.prototype.getLastError=op.prototype.La,op.prototype.getLastErrorCode=op.prototype.Da,op.prototype.getStatus=op.prototype.ba,op.prototype.getResponseJson=op.prototype.Qa,op.prototype.getResponseText=op.prototype.ga,op.prototype.send=op.prototype.ea;var Kp=zl.createWebChannelTransport=function(){return new Bp},Gp=zl.getStatEventTarget=function(){return Oh()},Qp=zl.ErrorCode=Vh,Yp=zl.EventType=Bh,Xp=zl.Event=Rh,Jp=zl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Zp=zl.FetchXmlHttpFactory=$d,$p=zl.WebChannel=Hh,ev=zl.XhrIo=op,tv="@firebase/firestore",nv=function(){function e(t){i(this,e),this.uid=t}return o(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();nv.UNAUTHENTICATED=new nv(null),nv.GOOGLE_CREDENTIALS=new nv("google-credentials-uid"),nv.FIRST_PARTY=new nv("first-party-uid"),nv.MOCK_USER=new nv("mock-user");var rv="9.6.1",iv=new nt("@firebase/firestore");function av(){return iv.logLevel}function ov(e){if(iv.logLevel<=Ge.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cv);iv.debug.apply(iv,["Firestore (".concat(rv,"): ").concat(e)].concat(ce(i)))}}function sv(e){if(iv.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cv);iv.error.apply(iv,["Firestore (".concat(rv,"): ").concat(e)].concat(ce(i)))}}function uv(e){if(iv.logLevel<=Ge.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cv);iv.warn.apply(iv,["Firestore (".concat(rv,"): ").concat(e)].concat(ce(i)))}}function cv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rv,") INTERNAL ASSERTION FAILED: ")+e;throw sv(t),new Error(t)}function fv(e,t){e||lv()}function hv(e,t){return e}var dv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pv=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,r)).code=e,a.message=r,a.name="FirebaseError",a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return o(n)}(pe(Error)),vv=o((function e(){var t=this;i(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mv=o((function e(t,n){i(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),yv=function(){function e(){i(this,e)}return o(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gv=function(){function e(t){i(this,e),this.token=t,this.changeListener=null}return o(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),kv=function(){function e(t){i(this,e),this.t=t,this.currentUser=nv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return o(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ov("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ov("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ov("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(fv("string"==typeof n.accessToken),new mv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return fv(null===e||"string"==typeof e),new nv(e)}}]),e}(),bv=o((function e(t,n,r){i(this,e),this.type="FirstParty",this.user=nv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),wv=function(){function e(t,n,r){i(this,e),this.h=t,this.l=n,this.m=r}return o(e,[{key:"getToken",value:function(){return Promise.resolve(new bv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xv=o((function e(t){i(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ev=function(){function e(t){i(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return o(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&ov("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){ov("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):ov("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(fv("string"==typeof e.token),new xv(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_v=function(){function e(t,n){var r=this;i(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return o(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Iv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_v.I=-1;var Tv=function(){function e(){i(this,e)}return o(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Iv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Sv(e,t){return e<t?-1:e>t?1:0}function Cv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Av(e){return e+"\0"}var Nv=function(){function e(t,n){if(i(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pv(dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pv(dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pv(dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pv(dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return o(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Sv(this.nanoseconds,e.nanoseconds):Sv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Rv=function(){function e(t){i(this,e),this.timestamp=t}return o(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Nv(0,0))}}]),e}();function Pv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ov(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lv=function(){function e(t,n,r){i(this,e),void 0===n?n=0:n>t.length&&lv(),void 0===r?r=t.length-n:r>t.length-n&&lv(),this.segments=t,this.offset=n,this.len=r}return o(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mv=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new pv(dv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ce(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lv),Fv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uv=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pv(dv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pv(dv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pv(dv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new pv(dv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lv),jv=function(){function e(t){i(this,e),this.fields=t,t.sort(Uv.comparator)}return o(e,[{key:"covers",value:function(e){var t,n=ae(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Cv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Vv=function(){function e(t){i(this,e),this.binaryString=t}return o(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Sv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Vv.EMPTY_BYTE_STRING=new Vv("");var Bv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qv(e){if(fv(!!e),"string"==typeof e){var t=0,n=Bv.exec(e);if(fv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zv(e.seconds),nanos:zv(e.nanos)}}function zv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hv(e){return"string"==typeof e?Vv.fromBase64String(e):Vv.fromUint8Array(e)}function Wv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kv(e){var t=e.mapValue.fields.__previous_value__;return Wv(t)?Kv(t):t}function Gv(e){var t=qv(e.mapValue.fields.__local_write_time__.timestampValue);return new Nv(t.seconds,t.nanos)}function Qv(e){return null==e}function Yv(e){return 0===e&&1/e==-1/0}function Xv(e){return"number"==typeof e&&Number.isInteger(e)&&!Yv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jv=function(){function e(t){i(this,e),this.path=t}return o(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Mv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mv.fromString(t))}},{key:"fromName",value:function(t){return new e(Mv.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Mv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mv(t.slice()))}}]),e}();function Zv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wv(e)?4:10:lv()}function $v(e,t){var n=Zv(e);if(n!==Zv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gv(e).isEqual(Gv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qv(e.timestampValue),r=qv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hv(e.bytesValue).isEqual(Hv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zv(e.geoPointValue.latitude)===zv(t.geoPointValue.latitude)&&zv(e.geoPointValue.longitude)===zv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zv(e.integerValue)===zv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=zv(e.doubleValue),r=zv(t.doubleValue);return n===r?Yv(n)===Yv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Cv(e.arrayValue.values||[],t.arrayValue.values||[],$v);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pv(n)!==Pv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$v(n[i],r[i])))return!1;return!0}(e,t);default:return lv()}}function em(e,t){return void 0!==(e.values||[]).find((function(e){return $v(e,t)}))}function tm(e,t){var n=Zv(e),r=Zv(t);if(n!==r)return Sv(n,r);switch(n){case 0:return 0;case 1:return Sv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=zv(e.integerValue||e.doubleValue),r=zv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm(Gv(e),Gv(t));case 5:return Sv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Hv(e),r=Hv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Sv(n[i],r[i]);if(0!==a)return a}return Sv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sv(zv(e.latitude),zv(t.latitude));return 0!==n?n:Sv(zv(e.longitude),zv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=tm(n[i],r[i]);if(a)return a}return Sv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Sv(r[o],a[o]);if(0!==s)return s;var u=tm(n[r[o]],i[a[o]]);if(0!==u)return u}return Sv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw lv()}}function nm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sv(e,t);var n=qv(e),r=qv(t),i=Sv(n.seconds,r.seconds);return 0!==i?i:Sv(n.nanos,r.nanos)}function rm(e){return im(e)}function im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=qv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ae(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=im(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ae(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(im(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):lv();var t,n}function am(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function om(e){return!!e&&"integerValue"in e}function sm(e){return!!e&&"arrayValue"in e}function um(e){return!!e&&"nullValue"in e}function cm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lm(e){return!!e&&"mapValue"in e}function fm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ov(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fm(e.arrayValue.values[r]);return n}return Object.assign({},e)}var hm=function(){function e(t){i(this,e),this.value=t}return o(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fm(t)}},{key:"setAll",value:function(e){var t=this,n=Uv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=fm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $v(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ov(t,(function(t,n){return e[t]=n}));var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(fm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dm(e){var t=[];return Ov(e.fields,(function(e,n){var r=new Uv([e]);if(lm(n)){var i=dm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ae(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new jv(t)}var pm=function(){function e(t,n,r,a,o){i(this,e),this.key=t,this.documentType=n,this.version=r,this.data=a,this.documentState=o}return o(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Rv.min(),hm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,hm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,hm.empty(),2)}}]),e}(),vm=o((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;i(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=s,this.endAt=u,this.R=null}));function mm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vm(e,t,n,r,i,a,o)}function ym(e){var t=hv(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+rm(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Nm(t.startAt)),t.endAt&&(n+="|ub:",n+=Nm(t.endAt)),t.R=n}return t.R}function gm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Pm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$v(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dm(e.startAt,t.startAt)&&Dm(e.endAt,t.endAt)}function km(e){return Jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bm=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).field=e,o.op=r,o.value=a,o}return o(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(tm(t,this.value)):null!==t&&Zv(this.value)===Zv(t)&&this.v(tm(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lv()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new wm(e,t,r):"array-contains"===t?new Im(e,r):"in"===t?new Tm(e,r):"not-in"===t?new Sm(e,r):"array-contains-any"===t?new Cm(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new xm(e,n):new Em(e,n)}}]),n}(function(){return o((function e(){i(this,e)}))}());var wm=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,e,r,a)).key=Jv.fromName(a.referenceValue),o}return o(n,[{key:"matches",value:function(e){var t=Jv.comparator(e.key,this.key);return this.v(t)}}]),n}(bm),xm=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,"in",r)).keys=_m("in",r),a}return o(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bm),Em=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,"not-in",r)).keys=_m("not-in",r),a}return o(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bm);function _m(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jv.fromName(e.referenceValue)}))}var Im=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"array-contains",r)}return o(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return sm(t)&&em(t.arrayValue,this.value)}}]),n}(bm),Tm=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"in",r)}return o(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&em(this.value.arrayValue,t)}}]),n}(bm),Sm=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"not-in",r)}return o(n,[{key:"matches",value:function(e){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!em(this.value.arrayValue,t)}}]),n}(bm),Cm=function(e){u(n,e);var t=p(n);function n(e,r){return i(this,n),t.call(this,e,"array-contains-any",r)}return o(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return em(t.value.arrayValue,e)}))}}]),n}(bm),Am=o((function e(t,n){i(this,e),this.position=t,this.before=n}));function Nm(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return rm(e)})).join(","))}var Rm=o((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";i(this,e),this.field=t,this.dir=n}));function Pm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Om(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Jv.comparator(Jv.fromName(o.referenceValue),n.key):tm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Dm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$v(e.position[n],t.position[n]))return!1;return!0}var Lm=o((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;i(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.S=null,this.D=null,this.startAt,this.endAt}));function Mm(e,t,n,r,i,a,o,s){return new Lm(e,t,n,r,i,a,o,s)}function Fm(e){return new Lm(e)}function Um(e){return!Qv(e.limit)&&"F"===e.limitType}function jm(e){return!Qv(e.limit)&&"L"===e.limitType}function Vm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bm(e){var t,n=ae(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function qm(e){return null!==e.collectionGroup}function zm(e){var t=hv(e);if(null===t.S){t.S=[];var n=Bm(t),r=Vm(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Rm(n)),t.S.push(new Rm(Uv.keyField(),"asc"));else{var i,a=!1,o=ae(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Rm(Uv.keyField(),u))}}}return t.S}function Hm(e){var t=hv(e);if(!t.D)if("F"===t.limitType)t.D=mm(t.path,t.collectionGroup,zm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ae(zm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Rm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Am(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Am(t.startAt.position,!t.startAt.before):null;t.D=mm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Wm(e,t,n){return new Lm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Km(e,t){return gm(Hm(e),Hm(t))&&e.limitType===t.limitType}function Gm(e){return"".concat(ym(Hm(e)),"|lt:").concat(e.limitType)}function Qm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(rm(t.value));var t})).join(", "),"]")),Qv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Nm(e.startAt)),e.endAt&&(t+=", endAt: "+Nm(e.endAt)),"Target(".concat(t,")")}(Hm(e)),"; limitType=").concat(e.limitType,")")}function Ym(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ae(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ae(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Om(e.startAt,zm(e),t))&&(!e.endAt||!Om(e.endAt,zm(e),t))}(e,t)}function Xm(e){return function(t,n){var r,i=!1,a=ae(zm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Jm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Jm(e,t,n){var r=e.field.isKeyField()?Jv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tm(r,i):lv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lv()}}function Zm(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yv(t)?"-0":t}}function $m(e){return{integerValue:""+e}}function ey(e,t){return Xv(t)?$m(t):Zm(e,t)}var ty=o((function e(){i(this,e),this._=void 0}));function ny(e,t,n){return e instanceof ay?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oy?sy(e,t):e instanceof uy?cy(e,t):function(e,t){var n=iy(e,t),r=fy(n)+fy(e.N);return om(n)&&om(e.N)?$m(r):Zm(e.k,r)}(e,t)}function ry(e,t,n){return e instanceof oy?sy(e,t):e instanceof uy?cy(e,t):n}function iy(e,t){return e instanceof ly?om(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ay=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n)}(ty),oy=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).elements=e,r}return o(n)}(ty);function sy(e,t){var n,r=hy(t),i=ae(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $v(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uy=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).elements=e,r}return o(n)}(ty);function cy(e,t){var n,r=hy(t),i=ae(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$v(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ly=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).k=e,a.N=r,a}return o(n)}(ty);function fy(e){return zv(e.integerValue||e.doubleValue)}function hy(e){return sm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dy=o((function e(t,n){i(this,e),this.field=t,this.transform=n}));var py=o((function e(t,n){i(this,e),this.version=t,this.transformResults=n})),vy=function(){function e(t,n){i(this,e),this.updateTime=t,this.exists=n}return o(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function my(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var yy=o((function e(){i(this,e)}));function gy(e,t,n){e instanceof Ey?function(e,t,n){var r=e.value.clone(),i=Ty(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _y?function(e,t,n){if(my(e.precondition,t)){var r=Ty(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Iy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ky(e,t,n){e instanceof Ey?function(e,t,n){if(my(e.precondition,t)){var r=e.value.clone(),i=Sy(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(xy(t),r).setHasLocalMutations()}}(e,t,n):e instanceof _y?function(e,t,n){if(my(e.precondition,t)){var r=Sy(e.fieldTransforms,n,t),i=t.data;i.setAll(Iy(e)),i.setAll(r),t.convertToFoundDocument(xy(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){my(e.precondition,t)&&t.convertToNoDocument(Rv.min())}(e,t)}function by(e,t){var n,r=null,i=ae(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=iy(a.transform,o||null);null!=s&&(null==r&&(r=hm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function wy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Cv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oy&&t instanceof oy||e instanceof uy&&t instanceof uy?Cv(e.elements,t.elements,$v):e instanceof ly&&t instanceof ly?$v(e.N,t.N):e instanceof ay&&t instanceof ay}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xy(e){return e.isFoundDocument()?e.version:Rv.min()}var Ey=function(e){u(n,e);var t=p(n);function n(e,r,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return i(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=a,o.fieldTransforms=s,o.type=0,o}return o(n)}(yy),_y=function(e){u(n,e);var t=p(n);function n(e,r,a,o){var s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return i(this,n),(s=t.call(this)).key=e,s.data=r,s.fieldMask=a,s.precondition=o,s.fieldTransforms=u,s.type=1,s}return o(n)}(yy);function Iy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ty(e,t,n){var r=new Map;fv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ry(o,s,n[i]))}return r}function Sy(e,t,n){var r,i=new Map,a=ae(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ny(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Cy,Ay,Ny=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=2,a.fieldTransforms=[],a}return o(n)}(yy),Ry=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=3,a.fieldTransforms=[],a}return o(n)}(yy),Py=o((function e(t){i(this,e),this.count=t}));function Oy(e){switch(e){default:return lv();case dv.CANCELLED:case dv.UNKNOWN:case dv.DEADLINE_EXCEEDED:case dv.RESOURCE_EXHAUSTED:case dv.INTERNAL:case dv.UNAVAILABLE:case dv.UNAUTHENTICATED:return!1;case dv.INVALID_ARGUMENT:case dv.NOT_FOUND:case dv.ALREADY_EXISTS:case dv.PERMISSION_DENIED:case dv.FAILED_PRECONDITION:case dv.ABORTED:case dv.OUT_OF_RANGE:case dv.UNIMPLEMENTED:case dv.DATA_LOSS:return!0}}function Dy(e){if(void 0===e)return sv("GRPC error has no .code"),dv.UNKNOWN;switch(e){case Cy.OK:return dv.OK;case Cy.CANCELLED:return dv.CANCELLED;case Cy.UNKNOWN:return dv.UNKNOWN;case Cy.DEADLINE_EXCEEDED:return dv.DEADLINE_EXCEEDED;case Cy.RESOURCE_EXHAUSTED:return dv.RESOURCE_EXHAUSTED;case Cy.INTERNAL:return dv.INTERNAL;case Cy.UNAVAILABLE:return dv.UNAVAILABLE;case Cy.UNAUTHENTICATED:return dv.UNAUTHENTICATED;case Cy.INVALID_ARGUMENT:return dv.INVALID_ARGUMENT;case Cy.NOT_FOUND:return dv.NOT_FOUND;case Cy.ALREADY_EXISTS:return dv.ALREADY_EXISTS;case Cy.PERMISSION_DENIED:return dv.PERMISSION_DENIED;case Cy.FAILED_PRECONDITION:return dv.FAILED_PRECONDITION;case Cy.ABORTED:return dv.ABORTED;case Cy.OUT_OF_RANGE:return dv.OUT_OF_RANGE;case Cy.UNIMPLEMENTED:return dv.UNIMPLEMENTED;case Cy.DATA_LOSS:return dv.DATA_LOSS;default:return lv()}}(Ay=Cy||(Cy={}))[Ay.OK=0]="OK",Ay[Ay.CANCELLED=1]="CANCELLED",Ay[Ay.UNKNOWN=2]="UNKNOWN",Ay[Ay.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ay[Ay.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ay[Ay.NOT_FOUND=5]="NOT_FOUND",Ay[Ay.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ay[Ay.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ay[Ay.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ay[Ay.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ay[Ay.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ay[Ay.ABORTED=10]="ABORTED",Ay[Ay.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ay[Ay.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ay[Ay.INTERNAL=13]="INTERNAL",Ay[Ay.UNAVAILABLE=14]="UNAVAILABLE",Ay[Ay.DATA_LOSS=15]="DATA_LOSS";var Ly=function(){function e(t,n){i(this,e),this.comparator=t,this.root=n||Fy.EMPTY}return o(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new My(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new My(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new My(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new My(this.root,e,this.comparator,!0)}}]),e}(),My=function(){function e(t,n,r,a){i(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return o(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Fy=function(){function e(t,n,r,a,o){i(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return o(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw lv();if(this.right.isRed())throw lv();var e=this.left.check();if(e!==this.right.check())throw lv();return e+(this.isRed()?0:1)}}]),e}();Fy.EMPTY=null,Fy.RED=!0,Fy.BLACK=!1,Fy.EMPTY=new(function(){function e(){i(this,e),this.size=0}return o(e,[{key:"key",get:function(){throw lv()}},{key:"value",get:function(){throw lv()}},{key:"color",get:function(){throw lv()}},{key:"left",get:function(){throw lv()}},{key:"right",get:function(){throw lv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Fy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Uy=function(){function e(t){i(this,e),this.comparator=t,this.data=new Ly(this.comparator)}return o(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jy=function(){function e(t){i(this,e),this.iter=t}return o(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Vy=new Ly(Jv.comparator);function By(){return Vy}var qy=new Ly(Jv.comparator);function zy(){return qy}var Hy=new Ly(Jv.comparator);function Wy(){return Hy}var Ky=new Uy(Jv.comparator);function Gy(){for(var e=Ky,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Qy=new Uy(Sv);function Yy(){return Qy}var Xy=function(){function e(t,n,r,a,o){i(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}return o(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Jy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Rv.min(),r,Yy(),By(),Gy())}}]),e}(),Jy=function(){function e(t,n,r,a,o){i(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}return o(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Vv.EMPTY_BYTE_STRING,n,Gy(),Gy(),Gy())}}]),e}(),Zy=o((function e(t,n,r,a){i(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=a})),$y=o((function e(t,n){i(this,e),this.targetId=t,this.O=n})),eg=o((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vv.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a})),tg=function(){function e(){i(this,e),this.M=0,this.L=ig(),this.B=Vv.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return o(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Gy(),t=Gy(),n=Gy();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lv()}})),new Jy(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=ig()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),ng=function(){function e(t){i(this,e),this.et=t,this.nt=new Map,this.st=By(),this.it=rg(),this.rt=new Uy(Sv)}return o(e,[{key:"ot",value:function(e){var t,n=ae(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=ae(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:lv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(km(i))if(0===n){var a=new Jv(i.path);this.ct(t,a,pm.newNoDocument(a,Rv.min()))}else fv(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&km(a.target)){var o=new Jv(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,pm.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Gy();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Xy(e,n,this.rt,this.st,r);return this.st=By(),this.it=rg(),this.rt=new Uy(Sv),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new tg,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Uy(Sv),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||ov("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new tg),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function rg(){return new Ly(Jv.comparator)}function ig(){return new Ly(Jv.comparator)}var ag={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sg=o((function e(t,n){i(this,e),this.databaseId=t,this.C=n}));function ug(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cg(e,t){return e.C?t.toBase64():t.toUint8Array()}function lg(e,t){return ug(e,t.toTimestamp())}function fg(e){return fv(!!e),Rv.fromTimestamp(function(e){var t=qv(e);return new Nv(t.seconds,t.nanos)}(e))}function hg(e,t){return function(e){return new Mv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dg(e){var t=Mv.fromString(e);return fv(Ug(t)),t}function pg(e,t){return hg(e.databaseId,t.path)}function vg(e,t){var n=dg(t);if(n.get(1)!==e.databaseId.projectId)throw new pv(dv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pv(dv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jv(kg(n))}function mg(e,t){return hg(e.databaseId,t)}function yg(e){var t=dg(e);return 4===t.length?Mv.emptyPath():kg(t)}function gg(e){return new Mv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kg(e){return fv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bg(e,t,n){return{name:pg(e,t),fields:n.value.mapValue.fields}}function wg(e,t,n){var r=vg(e,t.name),i=fg(t.updateTime),a=new hm({mapValue:{fields:t.fields}}),o=pm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xg(e,t){return"found"in t?function(e,t){fv(!!t.found),t.found.name,t.found.updateTime;var n=vg(e,t.found.name),r=fg(t.found.updateTime),i=new hm({mapValue:{fields:t.found.fields}});return pm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fv(!!t.missing),fv(!!t.readTime);var n=vg(e,t.missing),r=fg(t.readTime);return pm.newNoDocument(n,r)}(e,t):lv()}function Eg(e,t){var n;if(t instanceof Ey)n={update:bg(e,t.key,t.value)};else if(t instanceof Ny)n={delete:pg(e,t.key)};else if(t instanceof _y)n={update:bg(e,t.key,t.data),updateMask:Fg(t.fieldMask)};else{if(!(t instanceof Ry))return lv();n={verify:pg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ay)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ly)return{fieldPath:t.field.canonicalString(),increment:n.N};throw lv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lv()}(e,t.precondition)),n}function _g(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vy.updateTime(fg(e.updateTime)):void 0!==e.exists?vy.exists(e.exists):vy.none()}(t.currentDocument):vy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)fv("REQUEST_TIME"===t.setToServerValue),n=new ay;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new oy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new uy(i)}else"increment"in t?n=new ly(e,t.increment):lv();var a=Uv.fromServerFormat(t.fieldPath);return new dy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=vg(e,t.update.name),a=new hm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new jv(t.map((function(e){return Uv.fromServerFormat(e)})))}(t.updateMask);return new _y(i,a,o,n,r)}return new Ey(i,a,n,r)}if(t.delete){var s=vg(e,t.delete);return new Ny(s,n)}if(t.verify){var u=vg(e,t.verify);return new Ry(u,n)}return lv()}function Ig(e,t){return{documents:[mg(e,t.path)]}}function Tg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=mg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(cm(e.value))return{unaryFilter:{field:Og(e.field),op:"IS_NAN"}};if(um(e.value))return{unaryFilter:{field:Og(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cm(e.value))return{unaryFilter:{field:Og(e.field),op:"IS_NOT_NAN"}};if(um(e.value))return{unaryFilter:{field:Og(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Og(e.field),op:Pg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Og(e.field),direction:Rg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Qv(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Ag(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ag(t.endAt)),n}function Sg(e){var t=yg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Cg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Rm(Dg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ng(n.startAt));var l=null;return n.endAt&&(l=Ng(n.endAt)),Mm(t,i,s,o,u,"F",c,l)}function Cg(e){return e?void 0!==e.unaryFilter?[Mg(e)]:void 0!==e.fieldFilter?[Lg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Cg(e)})).reduce((function(e,t){return e.concat(t)})):lv():[]}function Ag(e){return{before:e.before,values:e.position}}function Ng(e){var t=!!e.before,n=e.values||[];return new Am(n,t)}function Rg(e){return ag[e]}function Pg(e){return og[e]}function Og(e){return{fieldPath:e.canonicalString()}}function Dg(e){return Uv.fromServerFormat(e.fieldPath)}function Lg(e){return bm.create(Dg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Mg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dg(e.unaryFilter.field);return bm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dg(e.unaryFilter.field);return bm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dg(e.unaryFilter.field);return bm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dg(e.unaryFilter.field);return bm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lv()}}function Fg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ug(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bg(t)),t=Vg(e.get(n),t);return Bg(t)}function Vg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Bg(e){return e+"\x01\x01"}function qg(e){var t=e.length;if(fv(t>=2),2===t)return fv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&lv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:lv()}a=o+2}return new Mv(r)}var zg=o((function e(t,n){i(this,e),this.seconds=t,this.nanoseconds=n})),Hg=o((function e(t,n,r){i(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Hg.store="owner",Hg.key="owner";var Wg=o((function e(t,n,r){i(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Wg.store="mutationQueues",Wg.keyPath="userId";var Kg=o((function e(t,n,r,a,o){i(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=o}));Kg.store="mutations",Kg.keyPath="batchId",Kg.userMutationsIndex="userMutationsIndex",Kg.userMutationsKeyPath=["userId","batchId"];var Gg=function(){function e(){i(this,e)}return o(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,jg(t)]}},{key:"key",value:function(e,t,n){return[e,jg(t),n]}}]),e}();Gg.store="documentMutations",Gg.PLACEHOLDER=new Gg;var Qg=o((function e(t,n){i(this,e),this.path=t,this.readTime=n})),Yg=o((function e(t,n){i(this,e),this.path=t,this.version=n})),Xg=o((function e(t,n,r,a,o,s){i(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=a,this.readTime=o,this.parentPath=s}));Xg.store="remoteDocuments",Xg.readTimeIndex="readTimeIndex",Xg.readTimeIndexPath="readTime",Xg.collectionReadTimeIndex="collectionReadTimeIndex",Xg.collectionReadTimeIndexPath=["parentPath","readTime"];var Jg=o((function e(t){i(this,e),this.byteSize=t}));Jg.store="remoteDocumentGlobal",Jg.key="remoteDocumentGlobalKey";var Zg=o((function e(t,n,r,a,o,s,u){i(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u}));Zg.store="targets",Zg.keyPath="targetId",Zg.queryTargetsIndexName="queryTargetsIndex",Zg.queryTargetsKeyPath=["canonicalId","targetId"];var $g=o((function e(t,n,r){i(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));$g.store="targetDocuments",$g.keyPath=["targetId","path"],$g.documentTargetsIndex="documentTargetsIndex",$g.documentTargetsKeyPath=["path","targetId"];var ek=o((function e(t,n,r,a){i(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=a}));ek.key="targetGlobalKey",ek.store="targetGlobal";var tk=o((function e(t,n){i(this,e),this.collectionId=t,this.parent=n}));tk.store="collectionParents",tk.keyPath=["collectionId","parent"];var nk=o((function e(t,n,r,a){i(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=a}));nk.store="clientMetadata",nk.keyPath="clientId";var rk=o((function e(t,n,r){i(this,e),this.bundleId=t,this.createTime=n,this.version=r}));rk.store="bundles",rk.keyPath="bundleId";var ik=o((function e(t,n,r){i(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));ik.store="namedQueries",ik.keyPath="name";var ak=[Wg.store,Kg.store,Gg.store,Xg.store,Zg.store,Hg.store,ek.store,$g.store].concat([nk.store]).concat([Jg.store]).concat([tk.store]).concat([rk.store,ik.store]),ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sk=function(){function e(){i(this,e),this.onCommittedListeners=[]}return o(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),uk=function(){function e(t){var n=this;i(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return o(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&lv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ae(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ck=function(){function e(t,n){var r=this;i(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new vv,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new hk(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=yk(e.target.error);r.It.reject(new hk(t,n))}}return o(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(ov("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new pk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hk(n,t)}}}]),e}(),lk=function(){function e(t,n,r){i(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(xe())&&sv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return o(e,[{key:"Ct",value:function(){var e=se(he().mark((function e(t){var n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ov("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new hk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pv(dv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pv(dv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new hk(t,n))},i.onupgradeneeded=function(e){ov("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){ov("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=se(he().mark((function e(t,n,r,i){var a,o,s,u,c=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(he().mark((function e(){var n,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=ck.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),uk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,ov("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ov("SimpleDb","Removing database:",e),vk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Ce())return!1;if(e.vt())return!0;var t=xe(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/MEDICA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),fk=function(){function e(t){i(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return o(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return vk(this.$t.delete())}}]),e}(),hk=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,dv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",a}return o(n)}(pv);function dk(e){return"IndexedDbTransactionError"===e.name}var pk=function(){function e(t){i(this,e),this.store=t}return o(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ov("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ov("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vk(n)}},{key:"add",value:function(e){return ov("SimpleDb","ADD",this.store.name,e,e),vk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return vk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ov("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ov("SimpleDb","DELETE",this.store.name,e),vk(this.store.delete(e))}},{key:"count",value:function(){return ov("SimpleDb","COUNT",this.store.name),vk(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){ov("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new uk((function(n,r){t.onerror=function(e){var t=yk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new uk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new fk(i),o=t(i.primaryKey,i.value,a);if(o instanceof uk){var s=o.catch((function(e){return a.done(),uk.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return uk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function vk(e){return new uk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=yk(e.target.error);n(t)}}))}var mk=!1;function yk(e){var t=lk.Pt(xe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return mk||(mk=!0,setTimeout((function(){throw r}),0)),r}}return e}var gk=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).Wt=e,a.currentSequenceNumber=r,a}return o(n)}(sk);function kk(e,t){var n=hv(e);return lk.Dt(n.Wt,t)}var bk=function(){function e(t,n,r,a){i(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}return o(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ae(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ky(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ae(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ky(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Gy())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Cv(this.mutations,e.mutations,(function(e,t){return wy(e,t)}))&&Cv(this.baseMutations,e.baseMutations,(function(e,t){return wy(e,t)}))}}]),e}(),wk=function(){function e(t,n,r,a){i(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return o(e,null,[{key:"from",value:function(t,n,r){fv(t.mutations.length===r.length);for(var i=Wy(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xk=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rv.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vv.EMPTY_BYTE_STRING;i(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u}return o(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ek=o((function e(t){i(this,e),this.Gt=t}));function _k(e,t){if(t.document)return wg(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Jv.fromSegments(t.noDocument.path),r=Ak(t.noDocument.readTime),i=pm.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Jv.fromSegments(t.unknownDocument.path),o=Ak(t.unknownDocument.version);return pm.newUnknownDocument(a,o)}return lv()}function Ik(e,t,n){var r=Tk(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:pg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ug(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Xg(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Ck(t.version),c=t.hasCommittedMutations;return new Xg(null,new Qg(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Ck(t.version);return new Xg(new Yg(l,f),null,null,!0,r,i)}return lv()}function Tk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sk(e){var t=new Nv(e[0],e[1]);return Rv.fromTimestamp(t)}function Ck(e){var t=e.toTimestamp();return new zg(t.seconds,t.nanoseconds)}function Ak(e){var t=new Nv(e.seconds,e.nanoseconds);return Rv.fromTimestamp(t)}function Nk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _g(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return _g(e.Gt,t)})),s=Nv.fromMillis(t.localWriteTimeMs);return new bk(t.batchId,s,n,o)}function Rk(e){var t,n,r=Ak(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ak(e.lastLimboFreeSnapshotVersion):Rv.min();return void 0!==e.query.documents?(fv(1===(n=e.query).documents.length),t=Hm(Fm(yg(n.documents[0])))):t=function(e){return Hm(Sg(e))}(e.query),new xk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vv.fromBase64String(e.resumeToken))}function Pk(e,t){var n,r=Ck(t.snapshotVersion),i=Ck(t.lastLimboFreeSnapshotVersion);n=km(t.target)?Ig(e.Gt,t.target):Tg(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Zg(t.targetId,ym(t.target),r,a,t.sequenceNumber,i,n)}function Ok(e){var t=Sg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wm(t,t.limit,"L"):t}var Dk=function(){function e(){i(this,e)}return o(e,[{key:"getBundleMetadata",value:function(e,t){return Lk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ak(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Lk(e).put({bundleId:(n=t).id,createTime:Ck(fg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Mk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ok(t.bundledQuery),readTime:Ak(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Mk(e).put(function(e){return{name:e.name,readTime:Ck(fg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Lk(e){return kk(e,rk.store)}function Mk(e){return kk(e,ik.store)}var Fk=function(){function e(){i(this,e),this.zt=new Uk}return o(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),uk.resolve()}},{key:"getCollectionParents",value:function(e,t){return uk.resolve(this.zt.getEntries(t))}}]),e}(),Uk=function(){function e(){i(this,e),this.index={}}return o(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Uy(Mv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Uy(Mv.comparator)).toArray()}}]),e}(),jk=function(){function e(){i(this,e),this.Ht=new Uk}return o(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:jg(i)};return Vk(e).put(a)}return uk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Av(t),""],!1,!0);return Vk(e).Bt(r).next((function(e){var r,i=ae(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(qg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Vk(e){return kk(e,tk.store)}var Bk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qk=function(){function e(t,n,r){i(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return o(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function zk(e,t,n){var r=e.store(Kg.store),i=e.store(Gg.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){fv(1===s)})));var c,l=[],f=ae(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Gg.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return uk.waitFor(a).next((function(){return l}))}function Hk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lv();t=e.noDocument}return JSON.stringify(t).length}qk.DEFAULT_COLLECTION_PERCENTILE=10,qk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qk.DEFAULT=new qk(41943040,qk.DEFAULT_COLLECTION_PERCENTILE,qk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qk.DISABLED=new qk(-1,0,0);var Wk=function(){function e(t,n,r,a){i(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=a,this.Yt={}}return o(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gk(e).jt({index:Kg.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Qk(e),o=Gk(e);return o.add({}).next((function(s){fv("number"==typeof s);var u,c=new bk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Eg(e.Gt,t)})),i=n.mutations.map((function(t){return Eg(e.Gt,t)}));return new Kg(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Uy((function(e,t){return Sv(e.canonicalString(),t.canonicalString())})),d=ae(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Gg.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Gg.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),uk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Gk(e).get(t).next((function(e){return e?(fv(e.userId===n.userId),Nk(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?uk.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Gk(e).jt({index:Kg.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(fv(t.batchId>=r),a=Nk(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gk(e).jt({index:Kg.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gk(e).Bt(Kg.userMutationsIndex,n).next((function(e){return e.map((function(e){return Nk(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Gg.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Qk(e).jt({range:i},(function(r,i,o){var s=k(r,3),u=s[0],c=s[1],l=s[2],f=qg(c);if(u===n.userId&&t.path.isEqual(f))return Gk(e).get(l).next((function(e){if(!e)throw lv();fv(e.userId===n.userId),a.push(Nk(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Uy(Sv),i=[];return t.forEach((function(t){var a=Gg.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Qk(e).jt({range:o},(function(e,i,a){var o=k(e,3),s=o[0],u=o[1],c=o[2],l=qg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),uk.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Gg.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Uy(Sv);return Qk(e).jt({range:o},(function(e,t,a){var o=k(e,3),u=o[0],c=o[1],l=o[2],f=qg(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Gk(e).get(t).next((function(e){if(null===e)throw lv();fv(e.userId===n.userId),r.push(Nk(n.k,e))})))})),uk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return zk(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),uk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return uk.resolve();var r=IDBKeyRange.lowerBound(Gg.prefixForUser(t.userId)),i=[];return Qk(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=qg(e[1]);i.push(a)}else r.done()})).next((function(){fv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Kk(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Yk(e).get(this.userId).next((function(e){return e||new Wg(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return fv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Kk(e,t,n){var r=Gg.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Qk(e).jt({range:a,Kt:!0},(function(e,n,r){var a=k(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Gk(e){return kk(e,Kg.store)}function Qk(e){return kk(e,Gg.store)}function Yk(e){return kk(e,Wg.store)}var Xk=function(){function e(t){i(this,e),this.se=t}return o(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Jk=function(){function e(t,n){i(this,e),this.referenceDelegate=t,this.k=n}return o(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Xk(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Rv.fromTimestamp(new Nv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Zk(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return fv(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Zk(e).jt((function(o,s){var u=Rk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return uk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Zk(e).jt((function(e,n){var r=Rk(n);t(r)}))}},{key:"oe",value:function(e){return $k(e).get(ek.key).next((function(e){return fv(null!==e),e}))}},{key:"ae",value:function(e,t){return $k(e).put(ek.key,t)}},{key:"ce",value:function(e,t){return Zk(e).put(Pk(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ym(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zk(e).jt({range:r,index:Zg.queryTargetsIndexName},(function(e,n,r){var a=Rk(n);gm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=eb(e);return t.forEach((function(t){var o=jg(t.path);i.push(a.put(new $g(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),uk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=eb(e);return uk.forEach(t,(function(t){var a=jg(t.path);return uk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=eb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eb(e),i=Gy();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=qg(e[1]),a=new Jv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=jg(t.path),r=IDBKeyRange.bound([n],[Av(n)],!1,!0),i=0;return eb(e).jt({index:$g.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=k(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Zk(e).get(t).next((function(e){return e?Rk(e):null}))}}]),e}();function Zk(e){return kk(e,Zg.store)}function $k(e){return kk(e,ek.store)}function eb(e){return kk(e,$g.store)}function tb(e){return nb.apply(this,arguments)}function nb(){return nb=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===dv.FAILED_PRECONDITION&&t.message===ok){e.next=2;break}throw t;case 2:ov("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){var n=k(e,2),r=n[0],i=n[1],a=k(t,2),o=a[0],s=a[1],u=Sv(r,o);return 0===u?Sv(i,s):u}var ib=function(){function e(t){i(this,e),this.he=t,this.buffer=new Uy(rb),this.le=0}return o(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();rb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ab=function(){function e(t,n){i(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return o(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;ov("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!dk(n.t0)){n.next=12;break}ov("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,tb(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ob=function(){function e(t,n){i(this,e),this.ge=t,this.params=n}return o(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return uk.resolve(_v.I);var r=new ib(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ov("LruGarbageCollector","Garbage collection skipped; disabled"),uk.resolve(Bk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ov("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Bk):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ov("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),av()<=Ge.DEBUG&&ov("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),uk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),sb=function(){function e(t,n){i(this,e),this.db=t,this.garbageCollector=function(e,t){return new ob(e,t)}(this,n)}return o(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ub(e,n)}},{key:"removeReference",value:function(e,t,n){return ub(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ub(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Yk(e).Qt((function(r){return Kk(e,r,t).next((function(e){return e&&(n=!0),uk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),eb(e).delete([0,jg(o.path)])}))}));i.push(u)}})).next((function(){return uk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ub(e,t)}},{key:"Ie",value:function(e,t){var n,r=eb(e),i=_v.I;return r.jt({index:$g.documentTargetsIndex},(function(e,r){var a=k(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==_v.I&&t(new Jv(qg(n)),i),i=u,n=s):i=_v.I})).next((function(){i!==_v.I&&t(new Jv(qg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ub(e,t){return eb(e).put(function(e,t){return new $g(0,jg(e.path),t)}(t,e.currentSequenceNumber))}var cb=function(){function e(t,n){i(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return o(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ov(this.inner,(function(t,n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Dv(this.inner)}}]),e}(),lb=function(){function e(){i(this,e),this.changes=new cb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return o(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Rv.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:pm.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?uk.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),fb=function(){function e(t,n){i(this,e),this.k=t,this.Jt=n}return o(e,[{key:"addEntry",value:function(e,t,n){return pb(e).put(vb(t),n)}},{key:"removeEntry",value:function(e,t){var n=pb(e),r=vb(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return pb(e).get(vb(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return pb(e).get(vb(t)).next((function(e){return{document:n.Pe(t,e),size:Hk(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=By();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=By(),i=new Ly(Jv.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,Hk(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return uk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return pb(e).jt({range:r},(function(e,t,r){for(var o=Jv.fromSegments(e);a&&Jv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=By(),a=t.path.length+1,o={};if(n.isEqual(Rv.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Tk(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Xg.collectionReadTimeIndex}return pb(e).jt(o,(function(e,n,o){if(e.length===a){var s=_k(r.k,n);t.path.isPrefixOf(s.key.path)?Ym(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new hb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return db(e).get(Jg.key).next((function(e){return fv(!!e),e}))}},{key:"Re",value:function(e,t){return db(e).put(Jg.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=_k(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Rv.min()))return n}return pm.newInvalidDocument(e)}}]),e}(),hb=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).De=e,a.trackRemovals=r,a.Ce=new cb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),a}return o(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Uy((function(e,t){return Sv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Ik(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Hk(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Ik(t.De.k,pm.newNoDocument(a,Rv.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),uk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(lb);function db(e){return kk(e,Jg.store)}function pb(e){return kk(e,Xg.store)}function vb(e){return e.path.toArray()}var mb=function(){function e(t){i(this,e),this.k=t}return o(e,[{key:"Nt",value:function(e,t,n,r){var i=this;fv(n<r&&n>=0&&r<=11);var a=new ck("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Hg.store)}(e),function(e){e.createObjectStore(Wg.store,{keyPath:Wg.keyPath}),e.createObjectStore(Kg.store,{keyPath:Kg.keyPath,autoIncrement:!0}).createIndex(Kg.userMutationsIndex,Kg.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Gg.store)}(e),yb(e),function(e){e.createObjectStore(Xg.store)}(e));var o=uk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore($g.store),e.deleteObjectStore(Zg.store),e.deleteObjectStore(ek.store)}(e),yb(e)),o=o.next((function(){return function(e){var t=e.store(ek.store),n=new ek(0,0,Rv.min().toTimestamp(),0);return t.put(ek.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Kg.store).Bt().next((function(n){e.deleteObjectStore(Kg.store),e.createObjectStore(Kg.store,{keyPath:Kg.keyPath,autoIncrement:!0}).createIndex(Kg.userMutationsIndex,Kg.userMutationsKeyPath,{unique:!0});var r=t.store(Kg.store),i=n.map((function(e){return r.put(e)}));return uk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(nk.store,{keyPath:nk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Jg.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Xg.store);t.createIndex(Xg.readTimeIndex,Xg.readTimeIndexPath,{unique:!1}),t.createIndex(Xg.collectionReadTimeIndex,Xg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(rk.store,{keyPath:rk.keyPath})}(e),function(e){e.createObjectStore(ik.store,{keyPath:ik.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Xg.store).jt((function(e,n){t+=Hk(n)})).next((function(){var n=new Jg(t);return e.store(Jg.store).put(Jg.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Wg.store),r=e.store(Kg.store);return n.Bt().next((function(n){return uk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Kg.userMutationsIndex,i).next((function(r){return uk.forEach(r,(function(r){fv(r.userId===n.userId);var i=Nk(t.k,r);return zk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store($g.store),n=e.store(Xg.store);return e.store(ek.store).get(ek.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Mv(n),o=function(e){return[0,jg(e)]}(a);r.push(t.get(o).next((function(n){return n?uk.resolve():function(n){return t.put(new $g(0,jg(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return uk.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(tk.store,{keyPath:tk.keyPath});var n=t.store(tk.store),r=new Uk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:jg(i)})}};return t.store(Xg.store).jt({Kt:!0},(function(e,t){var n=new Mv(e);return i(n.popLast())})).next((function(){return t.store(Gg.store).jt({Kt:!0},(function(e,t){var n=k(e,3),r=(n[0],n[1]),a=(n[2],qg(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Zg.store);return n.jt((function(e,r){var i=Rk(r),a=Pk(t.k,i);return n.put(a)}))}}]),e}();function yb(e){e.createObjectStore($g.store,{keyPath:$g.keyPath}).createIndex($g.documentTargetsIndex,$g.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zg.store,{keyPath:Zg.keyPath}).createIndex(Zg.queryTargetsIndexName,Zg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ek.store)}var gb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kb=function(){function e(t,n,r,a,o,s,u,c,l,f){if(i(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=o,this.window=s,this.document=u,this.Me=l,this.Le=f,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new pv(dv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sb(this,a),this.Ge=n+"main",this.k=new Ek(c),this.ze=new lk(this.Ge,11,new mb(this.k)),this.He=new Jk(this.referenceDelegate,this.k),this.Jt=new jk,this.Je=function(e,t){return new fb(e,t)}(this.k,this.Jt),this.Ye=new Dk,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===f&&sv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return o(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pv(dv.FAILED_PRECONDITION,gb);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new _v(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=se(he().mark((function n(r){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=se(he().mark((function t(n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wb(t).put(new nk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(dk(t))return ov("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ov("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return bb(e).get(Hg.key).next((function(e){return uk.resolve(t.un(e))}))}},{key:"hn",value:function(e){return wb(e).delete(this.clientId)}},{key:"ln",value:function(){var e=se(he().mark((function e(){var t,n,r,i,a=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=kk(e,nk.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return uk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=ae(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?uk.resolve(!0):bb(e).get(Hg.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new pv(dv.FAILED_PRECONDITION,gb);return!1}}return!(!t.networkEnabled||!t.inForeground)||wb(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ov("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=se(he().mark((function e(){var t=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Hg.store,nk.store],(function(e){var n=new gk(e,_v.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wb(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Wk.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;ov("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,ak,(function(a){return i=new gk(a,r.Be?r.Be.next():_v.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw sv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new pv(dv.FAILED_PRECONDITION,ok);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return bb(e).get(Hg.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pv(dv.FAILED_PRECONDITION,gb)}))}},{key:"cn",value:function(e){var t=new Hg(this.clientId,this.allowTabSynchronization,Date.now());return bb(e).put(Hg.key,t)}},{key:"an",value:function(e){var t=this,n=bb(e);return n.get(Hg.key).next((function(e){return t.un(e)?(ov("IndexedDbPersistence","Releasing primary lease."),n.delete(Hg.key)):uk.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(sv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ov("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return sv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(tf){sv("Failed to set zombie client id.",tf)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(tf){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return lk.bt()}}]),e}();function bb(e){return kk(e,Hg.store)}function wb(e){return kk(e,nk.store)}function xb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Eb=o((function e(t,n){i(this,e),this.progress=t,this.In=n})),_b=function(){function e(t,n,r){i(this,e),this.Je=t,this.An=n,this.Jt=r}return o(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=ae(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=ae(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Jv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):qm(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Jv(t)).next((function(e){var t=zy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zy();return this.Jt.getCollectionParents(e,i).next((function(o){return uk.forEach(o,(function(o){var s=function(e,t){return new Lm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=ae(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=ae(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=pm.newInvalidDocument(c),r=r.insert(c,l)),ky(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Ym(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Gy(),a=ae(t);try{for(a.s();!(r=a.n()).done;){var o,s=ae(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof _y&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Ib=function(){function e(t,n,r,a){i(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=a}return o(e,null,[{key:"$n",value:function(t,n){var r,i=Gy(),a=Gy(),o=ae(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Tb=function(){function e(){i(this,e)}return o(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Rv.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Um(t)||jm(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(av()<=Ge.DEBUG&&ov("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qm(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Uy(Xm(e));return t.forEach((function(t,r){Ym(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return av()<=Ge.DEBUG&&ov("QueryEngine","Using full collection scan to execute query:",Qm(t)),this.On.getDocumentsMatchingQuery(e,t,Rv.min())}}]),e}(),Sb=function(){function e(t,n,r,a){i(this,e),this.persistence=t,this.Un=n,this.k=a,this.qn=new Ly(Sv),this.Kn=new cb((function(e){return ym(e)}),gm),this.jn=Rv.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new _b(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return o(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Cb(e,t,n,r){return new Sb(e,t,n,r)}function Ab(e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new _b(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Gy(),u=ae(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=ae(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ae(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ae(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}function Rb(e,t){var n=hv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=uk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);fv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Pb(e){var t=hv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Ob(e,t){var n=hv(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return fv(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=By();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Db(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Rv.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return uk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Db(e,t,n,r,i){var a=Gy();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=By();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Rv.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):ov("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Lb(e,t){var n=hv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Mb(e,t){var n=hv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,uk.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new xk(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Fb(e,t,n){return Ub.apply(this,arguments)}function Ub(){return Ub=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hv(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),dk(e.t1)){e.next=12;break}throw e.t1;case 12:ov("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ub.apply(this,arguments)}function jb(e,t,n){var r=hv(e),i=Rv.min(),a=Gy();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=hv(e),i=r.Kn.get(n);return void 0!==i?uk.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Hm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Rv.min(),n?a:Gy())})).next((function(e){return{documents:e,zn:a}}))}))}function Vb(e,t){var n=hv(e),r=hv(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Bb(e){var t=hv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=hv(e),i=By(),a=Tk(n),o=pb(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Xg.readTimeIndex,range:s},(function(e,t){var n=_k(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Sk(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function qb(e){return zb.apply(this,arguments)}function zb(){return zb=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=pb(e),n=Rv.min();return t.jt({index:Xg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Sk(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Hb(e,t,n,r){return Wb.apply(this,arguments)}function Wb(){return Wb=se(he().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=hv(t),o=Gy(),s=By(),u=Wy(),c=ae(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Mb(a,function(e){return Hm(Fm(Mv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Db(e,d,s,Rv.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Kb(e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=se(he().mark((function e(t,n){var r,i,a,o=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Gy(),e.next=3,Mb(t,Hm(Ok(n.bundledQuery)));case 3:return i=e.sent,a=hv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Vv.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}var Qb=function(){function e(t){i(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return o(e,[{key:"getBundleMetadata",value:function(e,t){return uk.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:fg(n.createTime)}),uk.resolve()}},{key:"getNamedQuery",value:function(e,t){return uk.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ok(e.bundledQuery),readTime:fg(e.readTime)}}(t)),uk.resolve()}}]),e}(),Yb=function(){function e(){i(this,e),this.ts=new Uy(Xb.es),this.ns=new Uy(Xb.ss)}return o(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xb(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Xb(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Jv(new Mv([])),r=new Xb(n,e),i=new Xb(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Jv(new Mv([])),n=new Xb(t,e),r=new Xb(t,e+1),i=Gy();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xb(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xb=function(){function e(t,n){i(this,e),this.key=t,this.fs=n}return o(e,null,[{key:"es",value:function(e,t){return Jv.comparator(e.key,t.key)||Sv(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Sv(e.fs,t.fs)||Jv.comparator(e.key,t.key)}}]),e}(),Jb=function(){function e(t,n){i(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Uy(Xb.es)}return o(e,[{key:"checkEmpty",value:function(e){return uk.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new bk(i,t,n,r);this.An.push(a);var o,s=ae(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Xb(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return uk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return uk.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return uk.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return uk.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return uk.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xb(t,0),i=new Xb(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),uk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Uy(Sv);return t.forEach((function(e){var t=new Xb(e,0),i=new Xb(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),uk.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jv.isDocumentKey(i)||(i=i.child(""));var a=new Xb(new Jv(i),0),o=new Uy(Sv);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),uk.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;fv(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return uk.forEach(t.mutations,(function(i){var a=new Xb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xb(t,0),r=this.ws.firstAfterOrEqual(n);return uk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,uk.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Zb=function(){function e(t,n){i(this,e),this.Jt=t,this.Ts=n,this.docs=new Ly(Jv.comparator),this.size=0}return o(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return uk.resolve(n?n.document.clone():pm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=By();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():pm.newInvalidDocument(e))})),uk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=By(),i=new Jv(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ym(t,c)&&(r=r.insert(c.key,c.clone()))}return uk.resolve(r)}},{key:"Es",value:function(e,t){return uk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new $b(this)}},{key:"getSize",value:function(e){return uk.resolve(this.size)}}]),e}(),$b=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).De=e,r}return o(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),uk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(lb),ew=function(){function e(t){i(this,e),this.persistence=t,this.Is=new cb((function(e){return ym(e)}),gm),this.lastRemoteSnapshotVersion=Rv.min(),this.highestTargetId=0,this.As=0,this.Rs=new Yb,this.targetCount=0,this.Ps=Xk.ie()}return o(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),uk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return uk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return uk.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),uk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),uk.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new Xk(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,uk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),uk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,uk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),uk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return uk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return uk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),uk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),uk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),uk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return uk.resolve(n)}},{key:"containsKey",value:function(e,t){return uk.resolve(this.Rs.containsKey(t))}}]),e}(),tw=function(){function e(t,n){var r=this;i(this,e),this.bs={},this.Be=new _v(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new ew(this),this.Jt=new Fk,this.Je=function(e,t){return new Zb(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Ek(n),this.Ye=new Qb(this.k)}return o(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Jb(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;ov("MemoryPersistence","Starting transaction:",e);var i=new nw(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return uk.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nw=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return o(n)}(sk),rw=function(){function e(t){i(this,e),this.persistence=t,this.Cs=new Yb,this.Ns=null}return o(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw lv()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),uk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),uk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),uk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uk.forEach(this.xs,(function(r){var i=Jv.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return uk.or([function(){return uk.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function iw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function aw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ow(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var sw=function(){function e(t,n,r,a){i(this,e),this.user=t,this.batchId=n,this.state=r,this.error=a}return o(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new pv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(sv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),uw=function(){function e(t,n,r){i(this,e),this.targetId=t,this.state=n,this.error=r}return o(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pv(i.error.code,i.error.message))),a?new e(t,i.state,r):(sv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),cw=function(){function e(t,n){i(this,e),this.clientId=t,this.activeTargetIds=n}return o(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Yy(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(sv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),lw=function(){function e(t,n){i(this,e),this.clientId=t,this.onlineState=n}return o(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(sv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),fw=function(){function e(){i(this,e),this.activeTargetIds=Yy()}return o(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),hw=function(){function e(t,n,r,a,o){i(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ly(Sv),this.started=!1,this.js=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=iw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new fw),this.Gs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return o(e,[{key:"start",value:function(){var e=se(he().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=ae(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(iw(this.persistenceKey,i)))&&(o=cw.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=ae(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ow(this.persistenceKey,e));if(n){var r=uw.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ow(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ov("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ov("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ov("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ov("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void sv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(se(he().mark((function e(){var r,i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=_v.I;if(null!=e)try{var n=JSON.parse(e);fv("number"==typeof n),t=n}catch(e){sv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==_v.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new sw(this.currentUser,e,t,n),i=aw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=aw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=ow(this.persistenceKey,e),i=new uw(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return cw.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sw.Fs(new nv(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return uw.Fs(r,t)}},{key:"Zs",value:function(e){return lw.Fs(e)}},{key:"fi",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:ov("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Yy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),dw=function(){function e(){i(this,e),this.pi=new fw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return o(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new fw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),pw=function(){function e(){i(this,e)}return o(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),vw=function(){function e(){var t=this;i(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return o(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){ov("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ae(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){ov("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ae(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},yw=function(){function e(t){i(this,e),this.Vi=t.Vi,this.Si=t.Si}return o(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),gw=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return o(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ev;o.listenOnce(Yp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Qp.NO_ERROR:var t=o.getResponseJson();ov("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Qp.TIMEOUT:ov("Connection",'RPC "'+e+'" timed out'),a(new pv(dv.DEADLINE_EXCEEDED,"Request time out"));break;case Qp.HTTP_ERROR:var n=o.getStatus();if(ov("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(dv).indexOf(t)>=0?t:dv.UNKNOWN}(r.status);a(new pv(s,r.message))}else a(new pv(dv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pv(dv.UNAVAILABLE,"Connection failed."));break;default:lv()}}finally{ov("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Kp(),a=Gp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zp({})),this.qi(o.initMessageHeaders,t,n),Ee()||Te()||xe().indexOf("Electron/")>=0||Se()||xe().indexOf("MSAppHost/")>=0||Ie()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ov("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new yw({Vi:function(e){l?ov("Connection","Not sending because WebChannel is closed:",e):(c||(ov("Connection","Opening WebChannel transport."),u.open(),c=!0),ov("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,$p.EventType.OPEN,(function(){l||ov("Connection","WebChannel transport opened.")})),h(u,$p.EventType.CLOSE,(function(){l||(l=!0,ov("Connection","WebChannel transport closed"),f.Fi())})),h(u,$p.EventType.ERROR,(function(e){l||(l=!0,uv("Connection","WebChannel transport errored:",e),f.Fi(new pv(dv.UNAVAILABLE,"The operation could not be completed")))})),h(u,$p.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];fv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ov("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Cy[e];if(void 0!==t)return Dy(t)}(a),s=i.message;void 0===o&&(o=dv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new pv(o,s)),u.close()}else ov("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,Xp.STAT_EVENT,(function(e){e.stat===Jp.PROXY?ov("Connection","Detected buffering proxy"):e.stat===Jp.NOPROXY&&ov("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){i(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return o(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);ov("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return ov("RestConnection","Received: ",e),e}),(function(t){throw uv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=mw[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function kw(){return"undefined"!=typeof window?window:null}function bw(){return"undefined"!=typeof document?document:null}function ww(e){return new sg(e,!0)}var xw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;i(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=a,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return o(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&ov("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ew=function(){function e(t,n,r,a,o,s,u,c){i(this,e),this.Oe=t,this.nr=r,this.sr=a,this.ir=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new xw(t,n)}return o(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===dv.RESOURCE_EXHAUSTED?(sv(n.toString()),sv("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===dv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=k(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new pv(dv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return ov("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(ov("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),_w=function(e){u(n,e);var t=p(n);function n(e,r,a,o,s,u){var c;return i(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,o,u)).k=s,c}return o(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(fv(void 0===t||"string"==typeof t),Vv.fromBase64String(t||"")):(fv(void 0===t||t instanceof Uint8Array),Vv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?dv.UNKNOWN:Dy(e.code);return new pv(t,e.message||"")}(o);n=new eg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=vg(e,u.document.name),l=fg(u.document.updateTime),f=new hm({mapValue:{fields:u.document.fields}}),h=pm.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Zy(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=vg(e,v.document),y=v.readTime?fg(v.readTime):Rv.min(),g=pm.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Zy([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=vg(e,b.document),x=b.removedTargetIds||[];n=new Zy([],x,w,null)}else{if(!("filter"in t))return lv();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Py(_),T=E.targetId;n=new $y(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Rv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rv.min():t.readTime?fg(t.readTime):Rv.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=gg(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=km(r)?{documents:Ig(e,r)}:{query:Tg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cg(e,t.resumeToken):t.snapshotVersion.compareTo(Rv.min())>0&&(n.readTime=ug(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=gg(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ew),Iw=function(e){u(n,e);var t=p(n);function n(e,r,a,o,s,u){var c;return i(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,o,u)).k=s,c.Vr=!1,c}return o(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ie(c(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(fv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(fv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fg(e.updateTime):fg(t);return n.isEqual(Rv.min())&&(n=fg(t)),new py(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fg(e.commitTime);return this.listener.Cr(n,t)}return fv(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=gg(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Eg(t.k,e)}))};this.gr(n)}}]),n}(Ew),Tw=function(e){u(n,e);var t=p(n);function n(e,r,a,o){var s;return i(this,n),(s=t.call(this)).authCredentials=e,s.appCheckCredentials=r,s.ir=a,s.k=o,s.$r=!1,s}return o(n,[{key:"Fr",value:function(){if(this.$r)throw new pv(dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=k(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pv(dv.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=k(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pv(dv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return o((function e(){i(this,e)}))}()),Sw=function(){function e(t,n){i(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return o(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(sv(t),this.Lr=!1):ov("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Cw=o((function e(t,n,r,a,o){var s=this;i(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei((function(e){r.enqueueAndForget(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jw(s),!e.t0){e.next=5;break}return ov("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hv(t)).Gr.add(4),e.next=4,Rw(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Aw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Sw(r,a)}));function Aw(e){return Nw.apply(this,arguments)}function Nw(){return Nw=se(he().mark((function e(t){var n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jw(t)){e.next=18;break}n=ae(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Nw.apply(this,arguments)}function Rw(e){return Pw.apply(this,arguments)}function Pw(){return Pw=se(he().mark((function e(t){var n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ae(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Pw.apply(this,arguments)}function Ow(e,t){var n=hv(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Uw(n)?Fw(n):hx(n).lr()&&Lw(n,t))}function Dw(e,t){var n=hv(e),r=hx(n);n.Wr.delete(t),r.lr()&&Mw(n,t),0===n.Wr.size&&(r.lr()?r._r():jw(n)&&n.Jr.set("Unknown"))}function Lw(e,t){e.Yr.X(t.targetId),hx(e).br(t)}function Mw(e,t){e.Yr.X(t),hx(e).vr(t)}function Fw(e){e.Yr=new ng({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),hx(e).start(),e.Jr.Br()}function Uw(e){return jw(e)&&!hx(e).hr()&&e.Wr.size>0}function jw(e){return 0===hv(e).Gr.size}function Vw(e){e.Yr=void 0}function Bw(e){return qw.apply(this,arguments)}function qw(){return qw=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Lw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function zw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vw(t),Uw(t)?(t.Jr.Kr(n),Fw(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Ww(e,t,n){return Kw.apply(this,arguments)}function Kw(){return Kw=se(he().mark((function e(t,n,r){var i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof eg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ae(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ov("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Gw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zy?t.Yr.ot(n):n instanceof $y?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Rv.min())){e.next=29;break}return e.prev=14,e.next=17,Pb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Vv.EMPTY_BYTE_STRING,n.snapshotVersion)),Mw(e,t);var r=new xk(n.target,t,1,n.sequenceNumber);Lw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ov("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Gw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Kw.apply(this,arguments)}function Gw(e,t,n){return Qw.apply(this,arguments)}function Qw(){return Qw=se(he().mark((function e(t,n,r){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dk(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Rw(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Pb(t.localStore)}),t.asyncQueue.enqueueRetryable(se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ov("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Aw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Yw(e,t){return t().catch((function(n){return Gw(e,n,t)}))}function Xw(e){return Jw.apply(this,arguments)}function Jw(){return Jw=se(he().mark((function e(t){var n,r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hv(t),r=dx(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Zw(n)){e.next=19;break}return e.prev=3,e.next=6,Lb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,$w(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Gw(n,e.t0);case 17:e.next=2;break;case 19:ex(n)&&tx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Jw.apply(this,arguments)}function Zw(e){return jw(e)&&e.Qr.length<10}function $w(e,t){e.Qr.push(t);var n=dx(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function ex(e){return jw(e)&&!dx(e).hr()&&e.Qr.length>0}function tx(e){dx(e).start()}function nx(e){return rx.apply(this,arguments)}function rx(){return rx=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dx(t).kr();case 1:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e){return ax.apply(this,arguments)}function ax(){return ax=se(he().mark((function e(t){var n,r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dx(t),r=ae(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=wk.from(i,n,r),e.next=3,Yw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Xw(t);case 5:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function ux(e,t){return cx.apply(this,arguments)}function cx(){return cx=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dx(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oy(i=n.code)||i===dv.ABORTED){e.next=7;break}return r=t.Qr.shift(),dx(t).wr(),e.next=5,Yw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Xw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ex(t)&&tx(t);case 5:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t){return fx.apply(this,arguments)}function fx(){return fx=se(he().mark((function e(t,n){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hv(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Aw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Rw(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e){return e.Xr||(e.Xr=function(e,t,n){var r=hv(e);return r.Fr(),new _w(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Bw.bind(null,e),Ni:zw.bind(null,e),Pr:Ww.bind(null,e)}),e.zr.push(function(){var t=se(he().mark((function t(n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Uw(e)?Fw(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Vw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function dx(e){return e.Zr||(e.Zr=function(e,t,n){var r=hv(e);return r.Fr(),new Iw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:nx.bind(null,e),Ni:ux.bind(null,e),Nr:ix.bind(null,e),Cr:ox.bind(null,e)}),e.zr.push(function(){var t=se(he().mark((function t(n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Xw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(ov("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var px=function(){function e(t,n,r,a,o){i(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new vv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return o(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pv(dv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vx(e,t){if(sv("AsyncQueue","".concat(t,": ").concat(e)),dk(e))return new pv(dv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mx=function(){function e(t){i(this,e),this.comparator=t?function(e,n){return t(e,n)||Jv.comparator(e.key,n.key)}:function(e,t){return Jv.comparator(e.key,t.key)},this.keyedMap=zy(),this.sortedSet=new Ly(this.comparator)}return o(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yx=function(){function e(){i(this,e),this.eo=new Ly(Jv.comparator)}return o(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):lv():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gx=function(){function e(t,n,r,a,o,s,u,c){i(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c}return o(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mx.emptySet(n),a,r,i,!0,!1)}}]),e}(),kx=o((function e(){i(this,e),this.so=void 0,this.listeners=[]})),bx=o((function e(){i(this,e),this.queries=new cb((function(e){return Gm(e)}),Km),this.onlineState="Unknown",this.io=new Set}));function wx(e,t){return xx.apply(this,arguments)}function xx(){return xx=se(he().mark((function e(t,n){var r,i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=vx(e.t0,"Initialization of query '".concat(Qm(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Sx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xx.apply(this,arguments)}function Ex(e,t){return _x.apply(this,arguments)}function _x(){return _x=se(he().mark((function e(t,n){var r,i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ix(e,t){var n,r=hv(e),i=!1,a=ae(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ae(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Sx(r)}function Tx(e,t,n){var r=hv(e),i=r.queries.get(t);if(i){var a,o=ae(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Sx(e){e.io.forEach((function(e){e.next()}))}var Cx=function(){function e(t,n,r){i(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return o(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ae(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=gx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Ax=function(){function e(t,n){i(this,e),this.payload=t,this.byteLength=n}return o(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Nx=function(){function e(t){i(this,e),this.k=t}return o(e,[{key:"Hn",value:function(e){return vg(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?wg(this.k,e.document,!1):pm.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return fg(e)}}]),e}(),Rx=function(){function e(t,n,r){i(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Px(t)}return o(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Nx(this.k),i=ae(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=ae(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Gy()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=se(he().mark((function e(){var t,n,r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hb(this.localStore,new Nx(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=ae(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Kb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Eb(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Px(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Ox=o((function e(t){i(this,e),this.key=t})),Dx=o((function e(t){i(this,e),this.key=t})),Lx=function(){function e(t,n){i(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Gy(),this.mutatedKeys=Gy(),this.Ao=Xm(t),this.Ro=new mx(this.Ao)}return o(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new yx,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Um(this.query)&&i.size===this.query.limit?i.last():null,c=jm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ym(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Um(this.query)||jm(this.query))for(;o.size>this.query.limit;){var l=Um(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lv()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new gx(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new yx,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Gy(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Dx(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Ox(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Gy();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return gx.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Mx=o((function e(t,n,r){i(this,e),this.query=t,this.targetId=n,this.view=r})),Fx=o((function e(t){i(this,e),this.key=t,this.$o=!1})),Ux=function(){function e(t,n,r,a,o,s){i(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new cb((function(e){return Gm(e)}),Km),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ly(Jv.comparator),this.Uo=new Map,this.qo=new Yb,this.Ko={},this.jo=new Map,this.Qo=Xk.re(),this.onlineState="Unknown",this.Wo=void 0}return o(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function jx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=se(he().mark((function e(t,n){var r,i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PE(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Mb(r.localStore,Hm(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Bx(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Ow(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t,n,r){return qx.apply(this,arguments)}function qx(){return qx=se(he().mark((function e(t,n,r,i){var a,o,s,u,c,l;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=se(he().mark((function e(t,n,r,i){var a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,jb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uE(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,jb(t.localStore,n,!0);case 3:return a=e.sent,o=new Lx(n,a.zn),s=o.bo(a.documents),u=Jy.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),uE(t,r,c.Co),l=new Mx(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function zx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hv(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Km(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Fb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Dw(r.remoteStore,i.targetId),oE(r,i.targetId)})).catch(tb);case 9:e.next=14;break;case 11:return oE(r,i.targetId),e.next=14,Fb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=se(he().mark((function e(t,n,r){var i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OE(t),e.prev=1,e.next=4,function(e,t){var n,r=hv(e),i=Nv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Gy());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=ae(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=by(c,n.get(c.key));null!=l&&s.push(new _y(c.key,l,dm(l.value.mapValue),vy.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Ly(Sv)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fE(i,a.changes);case 9:return e.next=11,Xw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Kx.apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),e.prev=1,e.next=4,Ob(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(fv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?fv(n.$o):e.removedDocuments.size>0&&(fv(n.$o),n.$o=!1))})),e.next=8,fE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,tb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Qx.apply(this,arguments)}function Yx(e,t,n){var r=hv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ae(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Sx(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Xx(e,t,n){return Jx.apply(this,arguments)}function Jx(){return Jx=se(he().mark((function e(t,n,r){var i,a,o,s,u,c;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=hv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ly(Jv.comparator)).insert(o,pm.newNoDocument(o,Rv.min())),u=Gy().add(o),c=new Xy(Rv.min(),new Map,new Uy(Sv),s,u),e.next=9,Gx(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),lE(i),e.next=16;break;case 14:return e.next=16,Fb(i.localStore,n,!1).then((function(){return oE(i,n,r)})).catch(tb);case 16:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e,t){return $x.apply(this,arguments)}function $x(){return $x=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),i=n.batch.batchId,e.prev=1,e.next=4,Rb(r.localStore,n);case 4:return a=e.sent,aE(r,i,null),iE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,tb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$x.apply(this,arguments)}function eE(e,t,n){return tE.apply(this,arguments)}function tE(){return tE=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hv(t),e.prev=1,e.next=4,function(e,t){var n=hv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return fv(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,aE(i,n,r),iE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,tb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=se(he().mark((function e(t,n){var r,i,a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jw((r=hv(t)).remoteStore)||ov("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=hv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vx(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rE.apply(this,arguments)}function iE(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function aE(e,t,n){var r=hv(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function oE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ae(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||sE(e,t)}))}function sE(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Dw(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),lE(e))}function uE(e,t,n){var r,i=ae(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ox?(e.qo.addReference(a.key,t),cE(e,a)):a instanceof Dx?(ov("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||sE(e,a.key)):lv()}}catch(o){i.e(o)}finally{i.f()}}function cE(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(ov("SyncEngine","New document in limbo: "+n),e.Lo.add(r),lE(e))}function lE(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Jv(Mv.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Fx(n)),e.Bo=e.Bo.insert(n,r),Ow(e.remoteStore,new xk(Hm(Fm(n.path)),r,2,_v.I))}}function fE(e,t,n){return hE.apply(this,arguments)}function hE(){return hE=se(he().mark((function e(t,n,r){var i,a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hv(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ib.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=se(he().mark((function e(t,n){var r,i,a,o,s,u,c,l;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return uk.forEach(n,(function(t){return uk.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return uk.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),dk(e.t0)){e.next=10;break}throw e.t0;case 10:ov("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ae(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=hv(t)).currentUser.isEqual(n)){e.next=11;break}return ov("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ab(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new pv(dv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fE(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){var n=hv(e),r=n.Uo.get(t);if(r&&r.$o)return Gy().add(r.key);var i=Gy(),a=n.Mo.get(t);if(!a)return i;var o,s=ae(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),e.next=3,jb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&uE(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e){return kE.apply(this,arguments)}function kE(){return kE=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hv(t),e.abrupt("return",Bb(n.localStore).then((function(e){return fE(n,e)})));case 2:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(e,t,n,r){return wE.apply(this,arguments)}function wE(){return wE=se(he().mark((function e(t,n,r,i){var a,o;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hv(t),e.next=3,function(e,t){var n=hv(e),r=hv(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):uk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Xw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(aE(a,n,i||null),iE(a,n),function(e,t){hv(hv(e).An).ee(t)}(a.localStore,n)):lv();case 11:return e.next=13,fE(a,o);case 13:e.next=16;break;case 15:ov("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t){return EE.apply(this,arguments)}function EE(){return EE=se(he().mark((function e(t,n){var r,i,a,o,s,u,c,l;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PE(r=hv(t)),OE(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_E(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,lx(r.remoteStore,!0);case 9:o=ae(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Ow(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return oE(r,t),Fb(r.localStore,t,!0)})),Dw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,_E(r,c);case 21:return function(e){var t=hv(e);t.Uo.forEach((function(e,n){Dw(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Ly(Jv.comparator)}(r),r.Wo=!1,e.next=25,lx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function _E(e,t,n){return IE.apply(this,arguments)}function IE(){return IE=se(he().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=hv(t),a=[],o=[],s=ae(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Mb(i.localStore,Hm(f[0]));case 11:l=e.sent,h=ae(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,mE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Vb(i.localStore,c);case 36:return y=e.sent,e.next=39,Mb(i.localStore,y);case 39:return l=e.sent,e.next=42,Bx(i,TE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),IE.apply(this,arguments)}function TE(e){return Mm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SE(e){var t=hv(e);return hv(hv(t.localStore).persistence).Tn()}function CE(e,t,n,r){return AE.apply(this,arguments)}function AE(){return AE=se(he().mark((function e(t,n,r,i){var a,o,s;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=hv(t)).Wo){e.next=5;break}ov("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Bb(a.localStore);case 11:return o=e.sent,s=Xy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,fE(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Fb(a.localStore,n,!0);case 18:return oE(a,n,i),e.abrupt("break",21);case 20:lv();case 21:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=se(he().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=PE(t)).Wo){e.next=45;break}a=ae(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return ov("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Vb(i.localStore,s);case 12:return u=e.sent,e.next=15,Mb(i.localStore,u);case 15:return c=e.sent,e.next=18,Bx(i,TE(u),c.targetId,!1);case 18:Ow(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ae(r),e.prev=30,h=he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Fb(i.localStore,t,!1).then((function(){Dw(i.remoteStore,t),oE(i,t)})).catch(tb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),RE.apply(this,arguments)}function PE(e){var t=hv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xx.bind(null,t),t.Fo.Pr=Ix.bind(null,t.eventManager),t.Fo.zo=Tx.bind(null,t.eventManager),t}function OE(e){var t=hv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eE.bind(null,t),t}function DE(e,t,n){var r=hv(e);(function(){var e=se(he().mark((function e(t,n,r){var i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=hv(e),r=fg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Px(i)),a=new Rx(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,fE(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=hv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),uv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var LE=function(){function e(){i(this,e),this.synchronizeTabs=!1}return o(e,[{key:"initialize",value:function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=ww(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Cb(this.persistence,new Tb,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new tw(rw.ks,this.k)}},{key:"Jo",value:function(e){return new dw}},{key:"terminate",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ME=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).ta=e,o.cacheSizeBytes=r,o.forceOwnership=a,o.synchronizeTabs=!1,o}return o(n,[{key:"initialize",value:function(){var e=se(he().mark((function e(t){var r=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(c(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,qb(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,OE(this.ta.syncEngine);case 8:return e.next=10,Xw(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Cb(this.persistence,new Tb,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ab(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qk.withCacheSize(this.cacheSizeBytes):qk.DEFAULT;return new kb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kw(),bw(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new dw}}]),n}(LE),FE=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,r,!1)).ta=e,a.cacheSizeBytes=r,a.synchronizeTabs=!0,a}return o(n,[{key:"initialize",value:function(){var e=se(he().mark((function e(t){var r,i=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(c(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof hw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:bE.bind(null,r),gi:CE.bind(null,r),yi:NE.bind(null,r),Tn:SE.bind(null,r),_i:gE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xE(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=kw();if(!hw.bt(t))throw new pv(dv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ME),UE=function(){function e(){i(this,e)}return o(e,[{key:"initialize",value:function(){var e=se(he().mark((function e(t,n){var r=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dE.bind(null,this.syncEngine),e.next=12,lx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bx}},{key:"createDatastore",value:function(e){var t,n=ww(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gw(t));return function(e,t,n,r){return new Tw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yx(o.syncEngine,e,0)},a=vw.bt()?new vw:new pw,new Cw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ux(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hv(t),ov("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Rw(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return se(he().mark((function r(){var i;return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var VE=function(){function e(t){i(this,e),this.observer=t,this.muted=!1}return o(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),BE=function(){function e(t,n){var r=this;i(this,e),this.sa=t,this.k=n,this.metadata=new vv,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return o(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=se(he().mark((function e(){var t,n,r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Ax(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qE=function(){function e(t){i(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return o(e,[{key:"lookup",value:function(){var e=se(he().mark((function e(t){var n,r=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pv(dv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=se(he().mark((function e(t,n){var r,i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),i=gg(r.k)+"/documents",a={documents:n.map((function(e){return pg(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=xg(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());fv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ny(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=se(he().mark((function e(){var t,n=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Jv.fromPath(t);n.mutations.push(new Ry(r,n.precondition(r)))})),e.next=7,function(){var e=se(he().mark((function e(t,n){var r,i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hv(t),i=gg(r.k)+"/documents",a={writes:n.map((function(e){return Eg(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lv();t=Rv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pv(dv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vy.updateTime(t):vy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rv.min()))throw new pv(dv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vy.updateTime(t)}return vy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zE=function(){function e(t,n,r,a){i(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=a,this.la=5,this.ur=new xw(this.asyncQueue,"transaction_retry")}return o(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(se(he().mark((function t(){var n,r;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new qE(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Qv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Oy(t)}return!1}}]),e}(),HE=function(){function e(t,n,r,a){var o=this;i(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=nv.UNAUTHENTICATED,this.clientId=Tv.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ov("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return o(e,[{key:"getConfiguration",value:function(){var e=se(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pv(dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(se(he().mark((function n(){var r;return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WE(e,t){return KE.apply(this,arguments)}function KE(){return KE=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ov("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ab(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,YE(t);case 3:return r=e.sent,ov("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=se(he().mark((function e(t,n){var r,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=hv(t)).asyncQueue.verifyOperationInProgress(),ov("RemoteStore","RemoteStore received new credentials"),i=jw(r),r.Gr.add(3),e.next=6,Rw(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Aw(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e){return XE.apply(this,arguments)}function XE(){return XE=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ov("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WE(t,new LE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e){return ZE.apply(this,arguments)}function ZE(){return ZE=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ov("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,GE(t,new UE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function $E(e){return YE(e).then((function(e){return e.persistence}))}function e_(e){return YE(e).then((function(e){return e.localStore}))}function t_(e){return JE(e).then((function(e){return e.remoteStore}))}function n_(e){return JE(e).then((function(e){return e.syncEngine}))}function r_(e){return i_.apply(this,arguments)}function i_(){return i_=se(he().mark((function e(t){var n,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jx.bind(null,n.syncEngine),r.onUnlisten=zx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function i(){return he().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VE({next:function(a){t.enqueueAndForget((function(){return Ex(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new pv(dv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new pv(dv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Cx(Fm(n.path),a,{includeMetadataChanges:!0,wo:!0});return wx(e,o)},i.next=3,r_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function o_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function i(){return he().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VE({next:function(n){t.enqueueAndForget((function(){return Ex(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pv(dv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cx(n,a,{includeMetadataChanges:!0,wo:!0});return wx(e,o)},i.next=3,r_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var s_=o((function e(t,n,r,a,o,s,u,c){i(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=c})),u_=function(){function e(t,n){i(this,e),this.projectId=t,this.database=n||"(default)"}return o(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),c_=new Map;function l_(e,t,n){if(!n)throw new pv(dv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function f_(e,t,n,r){if(!0===t&&!0===r)throw new pv(dv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function h_(e){if(!Jv.isDocumentKey(e))throw new pv(dv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function d_(e){if(Jv.isDocumentKey(e))throw new pv(dv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function p_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":lv()}function v_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pv(dv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=p_(e);throw new pv(dv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function m_(e,t){if(t<=0)throw new pv(dv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var y_=function(){function e(t){var n;if(i(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pv(dv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pv(dv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,f_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return o(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),g_=function(){function e(t,n,r){i(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1,t instanceof u_?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pv(dv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new u_(e.options.projectId)}(t))}return o(e,[{key:"app",get:function(){if(!this._app)throw new pv(dv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pv(dv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yv;switch(e.type){case"gapi":var t=e.client;return fv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pv(dv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=c_.get(e);t&&(ov("ComponentProvider","Removing Datastore"),c_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function k_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=v_(e,g_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&uv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=nv.MOCK_USER;else{o=we(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new pv(dv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new nv(u)}e._authCredentials=new gv(new mv(o,s))}}var b_=function(){function e(t,n,r){i(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return o(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new x_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),w_=function(){function e(t,n,r){i(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return o(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),x_=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,e,r,Fm(a)))._path=a,o.type="collection",o}return o(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new b_(this.firestore,null,new Jv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(w_);function E_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qe(e),l_("collection","path",t),e instanceof g_){var a=Mv.fromString.apply(Mv,[t].concat(r));return d_(a),new x_(e,null,a)}if(!(e instanceof b_||e instanceof x_))throw new pv(dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return d_(o),new x_(e.firestore,null,o)}function __(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qe(e),1===arguments.length&&(t=Tv.A()),l_("doc","path",t),e instanceof g_){var a=Mv.fromString.apply(Mv,[t].concat(r));return h_(a),new b_(e,null,new Jv(a))}if(!(e instanceof b_||e instanceof x_))throw new pv(dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return h_(o),new b_(e.firestore,e instanceof x_?e.converter:null,new Jv(o))}function I_(e,t){return e=qe(e),t=qe(t),(e instanceof b_||e instanceof x_)&&(t instanceof b_||t instanceof x_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function T_(e,t){return e=qe(e),t=qe(t),e instanceof w_&&t instanceof w_&&e.firestore===t.firestore&&Km(e._query,t._query)&&e.converter===t.converter}var S_=function(){function e(){var t=this;i(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new xw(this,"async_queue_retry"),this.Ra=function(){var e=bw();e&&ov("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=bw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return o(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=bw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new vv;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=se(he().mark((function e(){var t=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),dk(e.t0)){e.next=12;break}throw e.t0;case 12:ov("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw sv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=px.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&lv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=se(he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=ae(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ae(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function C_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ae(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var A_=function(){function e(){i(this,e),this._progressObserver={},this._taskCompletionResolver=new vv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return o(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),N_=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,e,r,a)).type="firestore",o._queue=new S_,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return o(n,[{key:"_terminate",value:function(){return this._firestoreClient||P_(this),this._firestoreClient.terminate()}}]),n}(g_);function R_(e){return e._firestoreClient||P_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function P_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new s_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function O_(e,t,n){var r=new vv;return e.asyncQueue.enqueue(se(he().mark((function i(){return he().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WE(e,n);case 3:return i.next=5,GE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===dv.FAILED_PRECONDITION||e.code===dv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function D_(e){return function(e){return e.asyncQueue.enqueue(se(he().mark((function t(){var n,r;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$E(e);case 2:return n=t.sent,t.next=5,t_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=hv(e);return t.Gr.delete(0),Aw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(R_(e=v_(e,N_)))}function L_(e){return function(e){return e.asyncQueue.enqueue(se(he().mark((function t(){var n,r;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$E(e);case 2:return n=t.sent,t.next=5,t_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hv(t)).Gr.add(0),e.next=4,Rw(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(R_(e=v_(e,N_)))}function M_(e,t){var n=R_(e=v_(e,N_)),r=new A_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new BE(e,t)}(function(e,t){if(e instanceof Uint8Array)return jE(e,t);if(e instanceof ArrayBuffer)return jE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ww(t));e.asyncQueue.enqueueAndForget(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DE,t.next=3,n_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function F_(e,t){return function(e,t){return e.asyncQueue.enqueue(se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=hv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,e_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(R_(e=v_(e,N_)),t).then((function(t){return t?new w_(e,null,t.query):null}))}function U_(e){if(e._initialized||e._terminated)throw new pv(dv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var j_=function(){function e(){i(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new pv(dv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uv(n)}return o(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var V_=function(){function e(t){i(this,e),this._byteString=t}return o(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Vv.fromBase64String(t))}catch(t){throw new pv(dv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Vv.fromUint8Array(t))}}]),e}(),B_=o((function e(t){i(this,e),this._methodName=t})),q_=function(){function e(t,n){if(i(this,e),!isFinite(t)||t<-90||t>90)throw new pv(dv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pv(dv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return o(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Sv(this._lat,e._lat)||Sv(this._long,e._long)}}]),e}(),z_=/^__.*__$/,H_=function(){function e(t,n,r){i(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return o(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _y(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ey(e,this.data,t,this.fieldTransforms)}}]),e}(),W_=function(){function e(t,n,r){i(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return o(e,[{key:"toMutation",value:function(e,t){return new _y(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function K_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lv()}}var G_=function(){function e(t,n,r,a,o,s){i(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=a,void 0===o&&this.ka(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return o(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return dI(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(K_(this.xa)&&z_.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),Q_=function(){function e(t,n,r){i(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||ww(t)}return o(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new G_({xa:e,methodName:t,Ka:n,path:Uv.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Y_(e){var t=e._freezeSettings(),n=ww(e._databaseId);return new Q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function X_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);cI("Data must be an object, but it was:",o,r);var s,u,c=sI(r,o);if(a.merge)s=new jv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ae(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=lI(t,d,n);if(!o.contains(p))throw new pv(dv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));pI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new jv(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new H_(new hm(c),s,u)}var J_=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(B_);function Z_(e,t,n){return new G_({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var $_=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"_toFieldTransform",value:function(e){return new dy(e.path,new ay)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(B_),eI=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).Qa=r,a}return o(n,[{key:"_toFieldTransform",value:function(e){var t=Z_(this,e,!0),n=this.Qa.map((function(e){return oI(e,t)})),r=new oy(n);return new dy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_),tI=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).Qa=r,a}return o(n,[{key:"_toFieldTransform",value:function(e){var t=Z_(this,e,!0),n=this.Qa.map((function(e){return oI(e,t)})),r=new uy(n);return new dy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_),nI=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).Wa=r,a}return o(n,[{key:"_toFieldTransform",value:function(e){var t=new ly(e.k,ey(e.k,this.Wa));return new dy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(B_);function rI(e,t,n,r){var i=e.ja(1,t,n);cI("Data must be an object, but it was:",i,r);var a=[],o=hm.empty();Ov(r,(function(e,r){var s=hI(t,e,n);r=qe(r);var u=i.La(s);if(r instanceof J_)a.push(s);else{var c=oI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new jv(a);return new W_(o,s,i.fieldTransforms)}function iI(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[lI(t,r,n)],u=[i];if(a.length%2!=0)throw new pv(dv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(lI(t,a[c])),u.push(a[c+1]);for(var l=[],f=hm.empty(),h=s.length-1;h>=0;--h)if(!pI(l,s[h])){var d=s[h],p=u[h];p=qe(p);var v=o.La(d);if(p instanceof J_)l.push(d);else{var m=oI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new jv(l);return new W_(f,y,o.fieldTransforms)}function aI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oI(n,e.ja(r?4:3,t))}function oI(e,t){if(uI(e=qe(e)))return cI("Unsupported field value:",t,e),sI(e,t);if(e instanceof B_)return function(e,t){if(!K_(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ae(e);try{for(a.s();!(n=a.n()).done;){var o=oI(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=qe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ey(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Nv.fromDate(e);return{timestampValue:ug(t.k,n)}}if(e instanceof Nv){var r=new Nv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ug(t.k,r)}}if(e instanceof q_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof V_)return{bytesValue:cg(t.k,e._byteString)};if(e instanceof b_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(p_(e)))}(e,t)}function sI(e,t){var n={};return Dv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ov(e,(function(e,r){var i=oI(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function uI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nv||e instanceof q_||e instanceof V_||e instanceof b_||e instanceof B_)}function cI(e,t,n){if(!uI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=p_(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function lI(e,t,n){if((t=qe(t))instanceof j_)return t._internalPath;if("string"==typeof t)return hI(e,t);throw dI("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fI=new RegExp("[~\\*/\\[\\]]");function hI(e,t,n){if(t.search(fI)>=0)throw dI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return de(j_,ce(t.split(".")))._internalPath}catch(r){throw dI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new pv(dv.INVALID_ARGUMENT,s+e+u)}function pI(e,t){return e.some((function(e){return e.isEqual(t)}))}var vI=function(){function e(t,n,r,a,o){i(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}return o(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new b_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(yI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),mI=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"data",value:function(){return ie(c(n.prototype),"data",this).call(this)}}]),n}(vI);function yI(e,t){return"string"==typeof t?hI(e,t):t instanceof j_?t._internalPath:t._delegate._internalPath}var gI=function(){function e(t,n){i(this,e),this.hasPendingWrites=t,this.fromCache=n}return o(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kI=function(e){u(n,e);var t=p(n);function n(e,r,a,o,s,u){var c;return i(this,n),(c=t.call(this,e,r,a,o,u))._firestore=e,c._firestoreImpl=e,c.metadata=s,c}return o(n,[{key:"exists",value:function(){return ie(c(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(yI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(vI),bI=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ie(c(n.prototype),"data",this).call(this,e)}}]),n}(kI),wI=function(){function e(t,n,r,a){i(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new gI(a.hasPendingWrites,a.fromCache),this.query=r}return o(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bI(n._firestore,n._userDataWriter,r.key,r,new gI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pv(dv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new bI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function xI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lv()}}function EI(e,t){return e instanceof kI&&t instanceof kI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wI&&t instanceof wI&&e._firestore===t._firestore&&T_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function _I(e){if(jm(e)&&0===e.explicitOrderBy.length)throw new pv(dv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var II=o((function e(){i(this,e)}));function TI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var SI=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).Ga=e,o.za=r,o.Ha=a,o.type="where",o}return o(n,[{key:"_apply",value:function(e){var t=Y_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pv(dv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){UI(o,a);var u,c=[],l=ae(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(FI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=FI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||UI(o,a),s=aI(n,"where",o,"in"===a||"not-in"===a);var h=bm.create(i,a,s);return function(e,t){if(t.V()){var n=Bm(e);if(null!==n&&!n.isEqual(t.field))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Vm(e);null!==r&&jI(e,t.field,r)}var i=function(e,t){var n,r=ae(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pv(dv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pv(dv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new w_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Lm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(II);var CI=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this)).Ga=e,a.Ja=r,a.type="orderBy",a}return o(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pv(dv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pv(dv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Rm(t,n);return function(e,t){if(null===Vm(e)){var n=Bm(e);null!==n&&jI(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new w_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Lm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(II);var AI=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).type=e,o.Ya=r,o.Xa=a,o}return o(n,[{key:"_apply",value:function(e){return new w_(e.firestore,e.converter,Wm(e._query,this.Ya,this.Xa))}}]),n}(II);var NI=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).type=e,o.Za=r,o.tc=a,o}return o(n,[{key:"_apply",value:function(e){var t=MI(e,this.type,this.Za,this.tc);return new w_(e.firestore,e.converter,function(e,t){return new Lm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(II);function RI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NI("startAt",t,!0)}function PI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NI("startAfter",t,!1)}var OI=function(e){u(n,e);var t=p(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this)).type=e,o.Za=r,o.tc=a,o}return o(n,[{key:"_apply",value:function(e){var t=MI(e,this.type,this.Za,this.tc);return new w_(e.firestore,e.converter,function(e,t){return new Lm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(II);function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OI("endBefore",t,!0)}function LI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OI("endAt",t,!1)}function MI(e,t,n,r){if(n[0]=qe(n[0]),n[0]instanceof vI)return function(e,t,n,r,i){if(!r)throw new pv(dv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ae(zm(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(am(t,r.key));else{var c=r.data.field(u.field);if(Wv(c))throw new pv(dv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new pv(dv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Am(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Y_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pv(dv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new pv(dv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!qm(e)&&-1!==c.indexOf("/"))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mv.fromString(c));if(!Jv.isDocumentKey(l))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Jv(l);s.push(am(t,f))}else{var h=aI(n,r,c);s.push(h)}}return new Am(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function FI(e,t,n){if("string"==typeof(n=qe(n))){if(""===n)throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qm(t)&&-1!==n.indexOf("/"))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mv.fromString(n));if(!Jv.isDocumentKey(r))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return am(e,new Jv(r))}if(n instanceof b_)return am(e,n._key);throw new pv(dv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(p_(n),"."))}function UI(e,t){if(!Array.isArray(e)||0===e.length)throw new pv(dv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pv(dv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function jI(e,t,n){if(!n.isEqual(t))throw new pv(dv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var VI=function(){function e(){i(this,e)}return o(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ov(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new q_(zv(e.latitude),zv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Kv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qv(e);return new Nv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mv.fromString(e);fv(Ug(n));var r=new u_(n.get(1),n.get(3)),i=new Jv(n.popFirst(5));return r.isEqual(t)||sv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function BI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qI=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).firestore=e,r}return o(n,[{key:"convertBytes",value:function(e){return new V_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new b_(this.firestore,null,t)}}]),n}(VI),zI=function(){function e(t,n){i(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Y_(t)}return o(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=HI(e,this._firestore),i=BI(r.converter,t,n),a=X_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,vy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=HI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=qe(t))||t instanceof j_?iI(this._dataReader,"WriteBatch.update",i._key,t,n,o):rI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=HI(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(t._key,vy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pv(dv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function HI(e,t){if((e=qe(e)).firestore!==t)throw new pv(dv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var WI=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).firestore=e,r}return o(n,[{key:"convertBytes",value:function(e){return new V_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new b_(this.firestore,null,t)}}]),n}(VI);function KI(e){e=v_(e,b_);var t=v_(e.firestore,N_),n=R_(t),r=new WI(t);return function(e,t){var n=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function r(){return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=hv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pv(dv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vx(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,e_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kI(t,r,e._key,n,new gI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GI(e){e=v_(e,w_);var t=v_(e.firestore,N_),n=R_(t),r=new WI(t);return function(e,t){var n=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function r(){return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=se(he().mark((function e(t,n,r){var i,a,o,s,u;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jb(t,n,!0);case 3:i=e.sent,a=new Lx(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=vx(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,e_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new wI(t,r,e,n)}))}function QI(e,t,n){e=v_(e,b_);var r=v_(e.firestore,N_),i=BI(e.converter,t,n);return ZI(r,[X_(Y_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vy.none())])}function YI(e,t,n){e=v_(e,b_);for(var r=v_(e.firestore,N_),i=Y_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ZI(r,[("string"==typeof(t=qe(t))||t instanceof j_?iI(i,"updateDoc",e._key,t,n,o):rI(i,"updateDoc",e._key,t)).toMutation(e._key,vy.exists(!0))])}function XI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=qe(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||C_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(C_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof b_)l=v_(e.firestore,N_),f=Fm(e._key.path),c={next:function(t){n[u]&&n[u]($I(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=v_(e,w_);l=v_(p.firestore,N_),f=p._query;var v=new WI(l);c={next:function(e){n[u]&&n[u](new wI(l,v,p,e))},error:n[u+1],complete:n[u+2]},_I(e._query)}return function(e,t,n,r){var i=new VE(r),a=new Cx(t,i,n);return e.asyncQueue.enqueueAndForget(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wx,t.next=3,r_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ex,t.next=3,r_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(R_(l),f,h,c)}function JI(e,t){return function(e,t){var n=new VE(t);return e.asyncQueue.enqueueAndForget(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hv(e).io.add(t),t.next()},t.next=3,r_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(se(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hv(e).io.delete(t)},t.next=3,r_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(R_(e=v_(e,N_)),C_(t)?t:{next:t})}function ZI(e,t){return function(e,t){var n=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function r(){return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Wx,r.next=3,n_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(R_(e),t)}function $I(e,t,n){var r=n.docs.get(t._key),i=new WI(e);return new kI(e,i,t._key,r,new gI(n.hasPendingWrites,n.fromCache),t.converter)}var eT=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,r))._firestore=e,a}return o(n,[{key:"get",value:function(e){var t=this,r=HI(e,this._firestore),i=new WI(this._firestore);return ie(c(n.prototype),"get",this).call(this,e).then((function(e){return new kI(t._firestore,i,r._key,e._document,new gI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){i(this,e),this._firestore=t,this._transaction=n,this._dataReader=Y_(t)}return o(e,[{key:"get",value:function(e){var t=this,n=HI(e,this._firestore),r=new qI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return lv();var i=e[0];if(i.isFoundDocument())return new vI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vI(t._firestore,r,n._key,null,n.converter);throw lv()}))}},{key:"set",value:function(e,t,n){var r=HI(e,this._firestore),i=BI(r.converter,t,n),a=X_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=HI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=qe(t))||t instanceof j_?iI(this._dataReader,"Transaction.update",i._key,t,n,o):rI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=HI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function tT(e,t){return function(e,t){var n=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function r(){var i;return he().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return JE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new zE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(R_(e=v_(e,N_)),(function(n){return t(new eT(e,n))}))}function nT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eI("arrayUnion",t)}function rT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rv=e}(wt),dt(new ze("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new N_(i,new kv(e.getProvider("auth-internal")),new Ev(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),St(tv,"3.4.1",e),St(tv,"3.4.1","esm2017")}();function iT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function aT(){if("undefined"===typeof Uint8Array)throw new pv("unimplemented","Uint8Arrays are not available in this environment.")}function oT(){if("undefined"==typeof atob)throw new pv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var sT=function(){function e(t){i(this,e),this._delegate=t}return o(e,[{key:"toBase64",value:function(){return oT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return aT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return oT(),new e(V_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return aT(),new e(V_.fromUint8Array(t))}}]),e}();function uT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ae(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var cT=function(){function e(){i(this,e)}return o(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){U_(e=v_(e,N_));var n=R_(e),r=e._freezeSettings(),i=new UE;return O_(n,i,new ME(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){U_(e=v_(e,N_));var t=R_(e),n=e._freezeSettings(),r=new UE;return O_(t,r,new FE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new pv(dv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vv;return e._queue.enqueueAndForgetEvenWhileRestricted(se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=se(he().mark((function e(t){var n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,lk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),lT=function(){function e(t,n,r){var a=this;i(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof u_||(this._appCompat=t)}return o(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||uv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return D_(this._delegate)}},{key:"disableNetwork",value:function(){return L_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&f_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new vv;return e.asyncQueue.enqueueAndForget(se(he().mark((function n(){return he().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nE,n.next=3,n_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(R_(e=v_(e,N_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return JI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _T(this,E_(this._delegate,e))}catch(t){throw mT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new vT(this,__(this._delegate,e))}catch(t){throw mT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new wT(this,function(e,t){if(e=v_(e,g_),l_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pv(dv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new w_(e,null,function(e){return new Lm(Mv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return tT(this._delegate,(function(n){return e(new hT(t,n))}))}},{key:"batch",value:function(){var e=this;return R_(this._delegate),new dT(new zI(this._delegate,(function(t){return ZI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return M_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return F_(this._delegate,e).then((function(e){return e?new wT(t,e):null}))}}]),e}(),fT=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this)).firestore=e,r}return o(n,[{key:"convertBytes",value:function(e){return new sT(new V_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vT.forKey(t,this.firestore,null)}}]),n}(VI);var hT=function(){function e(t,n){i(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new fT(t)}return o(e,[{key:"get",value:function(e){var t=this,n=IT(e);return this._delegate.get(n).then((function(e){return new kT(t._firestore,new kI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=IT(e);return n?(iT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=IT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=IT(e);return this._delegate.delete(t),this}}]),e}(),dT=function(){function e(t){i(this,e),this._delegate=t}return o(e,[{key:"set",value:function(e,t,n){var r=IT(e);return n?(iT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=IT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=IT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),pT=function(){function e(t,n,r){i(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return o(e,[{key:"fromFirestore",value:function(e,t){var n=new bI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new fT(t),n),i.set(n,a)),a}}]),e}();pT.INSTANCES=new WeakMap;var vT=function(){function e(t,n){i(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fT(t)}return o(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _T(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _T(this.firestore,E_(this._delegate,e))}catch(t){throw mT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=qe(e))instanceof b_&&I_(this._delegate,e)}},{key:"set",value:function(e,t){t=iT("DocumentReference.set",t);try{return t?QI(this._delegate,e,t):QI(this._delegate,e)}catch(n){throw mT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?YI(this._delegate,e):YI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw mT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ZI(v_(e.firestore,N_),[new Ny(e._key,vy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yT(n),a=gT(n,(function(t){return new kT(e.firestore,new kI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return XI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=v_(e,b_);var t=v_(e.firestore,N_);return a_(R_(t),e._key,{source:"server"}).then((function(n){return $I(t,e,n)}))}(this._delegate):function(e){e=v_(e,b_);var t=v_(e.firestore,N_);return a_(R_(t),e._key).then((function(n){return $I(t,e,n)}))}(this._delegate),t.then((function(e){return new kT(n.firestore,new kI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new b_(n._delegate,r,new Jv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new b_(n._delegate,r,t))}}]),e}();function mT(e,t,n){return e.message=e.message.replace(t,n),e}function yT(e){var t,n=ae(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!uT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function gT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=uT(e[0])?e[0]:uT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kT=function(){function e(t,n){i(this,e),this._firestore=t,this._delegate=n}return o(e,[{key:"ref",get:function(){return new vT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return EI(this._delegate,e._delegate)}}]),e}(),bT=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||lv()}(void 0!==t),t}}]),n}(kT),wT=function(){function e(t,n){i(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fT(t)}return o(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,TI(this._delegate,function(e,t,n){var r=t,i=yI("where",e);return new SI(i,r,n)}(t,n,r)))}catch(i){throw mT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,TI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yI("orderBy",e);return new CI(n,t)}(t,n)))}catch(r){throw mT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,TI(this._delegate,function(e){return m_("limit",e),new AI("limit",e,"F")}(t)))}catch(n){throw mT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,TI(this._delegate,function(e){return m_("limitToLast",e),new AI("limitToLast",e,"L")}(t)))}catch(n){throw mT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,TI(this._delegate,RI.apply(void 0,arguments)))}catch(t){throw mT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,TI(this._delegate,PI.apply(void 0,arguments)))}catch(t){throw mT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,TI(this._delegate,DI.apply(void 0,arguments)))}catch(t){throw mT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,TI(this._delegate,LI.apply(void 0,arguments)))}catch(t){throw mT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return T_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?GI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=v_(e,w_);var t=v_(e.firestore,N_),n=R_(t),r=new WI(t);return o_(n,e._query,{source:"server"}).then((function(n){return new wI(t,r,e,n)}))}(this._delegate):function(e){e=v_(e,w_);var t=v_(e.firestore,N_),n=R_(t),r=new WI(t);return _I(e._query),o_(n,e._query).then((function(n){return new wI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new ET(n.firestore,new wI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yT(n),a=gT(n,(function(t){return new ET(e.firestore,new wI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return XI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),xT=function(){function e(t,n){i(this,e),this._firestore=t,this._delegate=n}return o(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ET=function(){function e(t,n){i(this,e),this._firestore=t,this._delegate=n}return o(e,[{key:"query",get:function(){return new wT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new xT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return EI(this._delegate,e._delegate)}}]),e}(),_T=function(e){u(n,e);var t=p(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e,r)).firestore=e,a._delegate=r,a}return o(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new vT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new vT(this.firestore,void 0===e?__(this._delegate):__(this._delegate,e))}catch(t){throw mT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=v_(e.firestore,N_),r=__(e),i=BI(e.converter,t);return ZI(n,[X_(Y_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return I_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(pT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(wT);function IT(e){return v_(e,b_)}var TT=function(){function e(){i(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=de(j_,n)}return o(e,[{key:"isEqual",value:function(e){return(e=qe(e))instanceof j_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Uv.keyField().canonicalString())}}]),e}(),ST=function(){function e(t){i(this,e),this._delegate=t}return o(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new $_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new J_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=nT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=rT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new nI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CT={Firestore:lT,GeoPoint:q_,Timestamp:Nv,Blob:sT,Transaction:hT,WriteBatch:dT,DocumentReference:vT,DocumentSnapshot:kT,Query:wT,QueryDocumentSnapshot:bT,QuerySnapshot:ET,CollectionReference:_T,FieldPath:TT,FieldValue:ST,setLogLevel:function(e){!function(e){iv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ze("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CT)))}(e,(function(e,t){return new lT(e,t,new cT)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Js);var AT=Js.initializeApp({apiKey:"AIzaSyBLv182OoQ61G4SJSgpqKNgkhXbuU0Io04",authDomain:"licenta-auth.firebaseapp.com",projectId:"licenta-auth",storageBucket:"licenta-auth.appspot.com",messagingSenderId:"657323896323",appId:"1:657323896323:web:ffcd3fbddf9b9438c7a836",measurementId:"G-WEYSELDYB3"}),NT=AT.auth(),RT=AT.firestore(),PT=AT.storage(),OT=new Js.auth.FacebookAuthProvider,DT=new Js.auth.GoogleAuthProvider,LT=function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NT.signInWithPopup(DT);case 3:return t=e.sent,n=t.user,e.next=7,RT.collection("users").where("uid","==",n.uid).get();case 7:if(0!==e.sent.docs.length){e.next=11;break}return e.next=11,RT.collection("users").doc(n.uid).set({uid:n.uid,name:n.displayName,authProvider:"google",email:n.email});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),MT=function(){var e=se(he().mark((function e(t,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NT.signInWithEmailAndPassword(t,n);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),FT=function(){var e=se(he().mark((function e(t,n,r){var i,a;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NT.createUserWithEmailAndPassword(n,r);case 3:return i=e.sent,a=i.user,e.next=7,RT.collection("users").doc(a.uid).set({uid:a.uid,name:t,authProvider:"local",email:n});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),UT=function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NT.signInWithPopup(OT);case 3:return t=e.sent,n=t.user,e.next=7,RT.collection("users").where("uid","==",n.uid).get();case 7:if(0!==e.sent.docs.length){e.next=11;break}return e.next=11,RT.collection("users").doc(n.uid).set({uid:n.uid,name:n.displayName,authProvider:"facebook",email:n.email});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),jT=function(){var e=se(he().mark((function e(t){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{RT.collection("users").doc(t.user.uid).update({name:t.name,email:t.email,CNP:t.CNP,age:t.age,sex:t.sex,degree:t.degree,country:t.country,phone:t.phone})}catch(n){alert(n.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),VT=function(){NT.signOut()},BT=(ha(NT,(function(e){if(e)return"user"})),n(854)),qT=(BT.domToReact,BT.htmlToDOM,BT.attributesToProps,BT.Element,BT),zT=n(184),HT=function(e){u(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.call(this)).state={recentBlogPost:[]},e}return o(n,[{key:"FetchDataFromRssFeed",value:function(){var e=se(he().mark((function e(){var t,n,r,i,a,o,s=this;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new XMLHttpRequest).onreadystatechange=function(){if(200===t.status)for(var e=t.responseText,n=0;n<1;n++)s.setState({recentBlogPost:{name:JSON.parse(e).items[n].title,url:JSON.parse(e).items[n].link}})},e.prev=2,e.next=5,fetch("https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.modernhealthcare.com%2Fsection%2Frss%2Fnews%3Fdays%3D7%26topics%3D81631");case 5:return n=e.sent,e.next=8,n.text();case 8:if(r=e.sent)for(i=JSON.parse(r),a=i.items.length,o=0;o<a;o++)this.setState({recentBlogPost:[].concat(ce(this.state.recentBlogPost),[{name:i.items[o].title,url:i.items[o].link,content:i.items[o].content}])});e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.FetchDataFromRssFeed()}},{key:"render",value:function(){return(0,zT.jsx)("div",{style:{marginTop:"150px",marginBottom:"150px"},children:this.state.recentBlogPost.map((function(e){return(0,zT.jsxs)("div",{className:"row",style:{border:"1px solid black"},children:[(0,zT.jsx)("h1",{children:e.name}),qT(e.content)]},e.name)}))})}}]),n}(t.Component);var WT=function(){var e=V(),n=k(Hs(NT),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){if(!i)return r?void 0:e("/home",{replace:!0})}),[r,i,e]),(0,zT.jsx)("div",{className:"dashUnderNav",style:{boxShadow:"none"},children:(0,zT.jsx)(HT,{})})},KT=n(281),GT=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){return(0,zT.jsxs)("div",{className:"mijloc",children:[(0,zT.jsxs)("h1",{children:['"S\u0103n\u0103tatea e ca banii, niciodat\u0103 nu vom avea o adev\u0103rat\u0103 idee de valoarea sa p\xe2n\u0103 c\xe2nd o vom pierde." ',(0,zT.jsx)("br",{}),(0,zT.jsx)("br",{}),(0,zT.jsx)("h2",{children:"Constantin Dragos-Gabriel"}),(0,zT.jsx)("h4",{children:"PhD in Epidemiology and Biomedical Data Science"})]}),(0,zT.jsx)("br",{}),(0,zT.jsx)("img",{src:KT,alt:"tot eu"})]})}}]),n}(t.Component),QT=GT,YT=n(837),XT=n(323);var JT=function(e){return(0,zT.jsxs)("div",{id:"alternativeLogin",children:[(0,zT.jsx)("label",{children:"Or sign in with:"}),(0,zT.jsxs)("div",{id:"iconGroup",children:[(0,zT.jsx)(ZT,{}),(0,zT.jsx)($T,{})]})]})},ZT=function(e){return(0,zT.jsx)("button",{id:"facebookIcon",children:(0,zT.jsx)("img",{className:"icon",alt:"facebookLogin",src:YT,onClick:UT})})},$T=function(e){return(0,zT.jsx)("button",{id:"googleIcon",children:(0,zT.jsx)("img",{className:"icon",alt:"googleLogin",src:XT,onClick:LT})})},eS=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k(Hs(NT),2),u=s[0],c=s[1],l=V();return(0,t.useEffect)((function(){c||u&&l("/dashboard",{replace:!0})}),[u,c,l]),(0,zT.jsxs)("div",{id:"loginform",children:[(0,zT.jsx)("h2",{id:"headerTitle",children:"Log In"}),(0,zT.jsx)("div",{className:"row row2",children:(0,zT.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"E-mail Address"})}),(0,zT.jsx)("div",{className:"row row2",children:(0,zT.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Password"})}),(0,zT.jsx)("div",{id:"button",className:"row",children:(0,zT.jsx)("button",{className:"btn",id:"button",onClick:function(){return MT(n,a)},children:"Login"})}),(0,zT.jsx)("div",{id:"button",className:"row",children:(0,zT.jsx)("a",{href:"#/register",children:"Sign Up"})}),(0,zT.jsx)(JT,{})]})},tS=n(360);function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function aS(e,t){if(null==e)return{};var n,r,i=iS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oS=n(694),sS=n.n(oS),uS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},cS=t.createContext(null);n(176);function lS(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function fS(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function hS(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[lS(i)],u=o[i],c=iS(o,[lS(i),i].map(fS)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[l]),h=f[0],d=f[1];return b({},c,((a={})[i]=h,a[l]=d,a))}),e)}function dS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function pS(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function vS(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}dS.__suppressDeprecationWarning=!0,pS.__suppressDeprecationWarning=!0,vS.__suppressDeprecationWarning=!0;var mS=/-(.)/g;var yS=t.createContext({prefixes:{}});yS.Consumer,yS.Provider;function gS(e,n){var r=(0,t.useContext)(yS).prefixes;return e||r[n]||n}var kS=["className","bsPrefix","as"],bS=function(e){return e[0].toUpperCase()+(t=e,t.replace(mS,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function wS(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?bS(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=aS(t,kS),c=gS(i,e);return(0,zT.jsx)(s,rS({ref:n,className:sS()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var xS=["bsPrefix","className","as"],ES=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=aS(e,xS);n=gS(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,zT.jsx)(o,rS(rS({},a),{},{ref:t,className:sS()(r,n)}))}));ES.displayName="NavbarBrand";var _S=ES;function IS(e){return e&&e.ownerDocument||document}function TS(e,t){return function(e){var t=IS(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var SS=/([A-Z])/g;var CS=/^ms-/;function AS(e){return function(e){return e.replace(SS,"-$1").toLowerCase()}(e).replace(CS,"-ms-")}var NS=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var RS=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(AS(t))||TS(e).getPropertyValue(AS(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!NS.test(e))}(i)?n+=AS(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(AS(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var PS=!1,OS=t.createContext(null),DS="unmounted",LS="exited",MS="entering",FS="entered",US="exiting",jS=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=LS,r.appearStatus=MS):i=FS:i=t.unmountOnExit||t.mountOnEnter?DS:LS,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,s(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===DS?{status:LS}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==MS&&n!==FS&&(t=MS):n!==MS&&n!==FS||(t=US)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===MS?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===LS&&this.setState({status:DS})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!n||PS?this.safeSetState({status:FS},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:MS},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:FS},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!PS?(this.props.onExit(i),this.safeSetState({status:US},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:LS},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:LS},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===DS)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,iS(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(OS.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function VS(){}jS.contextType=OS,jS.propTypes={},jS.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:VS,onEntering:VS,onEntered:VS,onExit:VS,onExiting:VS,onExited:VS},jS.UNMOUNTED=DS,jS.EXITED=LS,jS.ENTERING=MS,jS.ENTERED=FS,jS.EXITING=US;var BS=jS,qS=!("undefined"===typeof window||!window.document||!window.document.createElement),zS=!1,HS=!1;try{var WS={get passive(){return zS=!0},get once(){return HS=zS=!0}};qS&&(window.addEventListener("test",WS,WS),window.removeEventListener("test",WS,!0))}catch(xN){}var KS=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!HS){var i=r.once,a=r.capture,o=n;!HS&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,zS?r:a)}e.addEventListener(t,n,r)};var GS=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var QS=function(e,t,n,r){return KS(e,t,n,r),function(){GS(e,t,n,r)}};function YS(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=QS(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function XS(e,t,n,r){null==n&&(n=function(e){var t=RS(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=YS(e,n,r),a=QS(e,"transitionend",t);return function(){i(),a()}}function JS(e,t){var n=RS(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ZS(e,t){var n=JS(e,"transitionDuration"),r=JS(e,"transitionDelay"),i=XS(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var $S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function eC(e){e.offsetHeight}var tC=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var nC=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=tC(e),r=tC(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var rC,iC=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],aC=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=aS(e,iC),p=(0,t.useRef)(null),v=nC(p,h),m=function(e){var t;v((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),x=(0,t.useCallback)(y(u),[u]),E=(0,t.useCallback)(y(c),[c]),_=(0,t.useCallback)(y(l),[l]);return(0,zT.jsx)(BS,rS(rS({ref:n},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,rS(rS({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),oC=aC,sC=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],uC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function cC(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=uC[e];return n+parseInt(RS(t,r[0]),10)+parseInt(RS(t,r[1]),10)}var lC=(le(rC={},LS,"collapse"),le(rC,US,"collapsing"),le(rC,MS,"collapsing"),le(rC,FS,"collapse show"),rC),fC={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:cC},hC=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?cC:h,p=aS(e,sC),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return $S((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return $S((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return $S((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,t.useMemo)((function(){return $S((function(e){e.style[v]="".concat(d(v,e),"px"),eC(e)}),o)}),[o,d,v]),b=(0,t.useMemo)((function(){return $S((function(e){e.style[v]=null}),s)}),[v,s]);return(0,zT.jsx)(oC,rS(rS({ref:n,addEndListener:ZS},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,rS(rS({},n),{},{className:sS()(u,c.props.className,lC[e],"width"===v&&"collapse-horizontal")}))}}))}));hC.defaultProps=fC;var dC=hC,pC=t.createContext(null);pC.displayName="NavbarContext";var vC=pC,mC=["children","bsPrefix"],yC=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=aS(e,mC);i=gS(i,"navbar-collapse");var o=(0,t.useContext)(vC);return(0,zT.jsx)(dC,rS(rS({in:!(!o||!o.expanded)},a),{},{children:(0,zT.jsx)("div",{ref:n,className:i,children:r})}))}));yC.displayName="NavbarCollapse";var gC=yC;var kC=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function bC(e){var n=kC(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var wC=["bsPrefix","className","children","label","as","onClick"],xC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=aS(e,wC);r=gS(r,"navbar-toggler");var f=(0,t.useContext)(vC)||{},h=f.onToggle,d=f.expanded,p=bC((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,zT.jsx)(u,rS(rS({},l),{},{ref:n,onClick:p,"aria-label":o,className:sS()(i,r,!d&&"collapsed"),children:a||(0,zT.jsx)("span",{className:"".concat(r,"-icon")})}))}));xC.displayName="NavbarToggle",xC.defaultProps={label:"Toggle navigation"};var EC=xC;function _C(e){void 0===e&&(e=IS());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(xN){return e.body}}function IC(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function TC(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function SC(e){return"".concat("data-rr-ui-").concat(e)}var CC=SC("modal-open"),AC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,a=void 0===r||r,o=t.isRTL,s=void 0!==o&&o;i(this,e),this.handleContainerOverflow=a,this.isRTL=s,this.modals=[],this.ownerDocument=n}return o(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=le({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(RS(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(CC,""),RS(r,t)}},{key:"reset",value:function(){var e=this;ce(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(CC),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),NC=AC,RC=(0,t.createContext)(qS?window:void 0);RC.Provider;function PC(){return(0,t.useContext)(RC)}var OC=function(e,t){var n;return qS?null==e?(t||IS()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var DC,LC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function MC(e){var n=PC(),r=e||function(e){return DC||(DC=new NC({ownerDocument:null==e?void 0:e.document})),DC}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var FC=(0,t.forwardRef)((function(e,n){var i=e.show,a=void 0!==i&&i,o=e.role,s=void 0===o?"dialog":o,u=e.className,c=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,b=e.autoFocus,w=void 0===b||b,x=e.enforceFocus,E=void 0===x||x,_=e.restoreFocus,I=void 0===_||_,T=e.restoreFocusOptions,S=e.renderDialog,C=e.renderBackdrop,A=void 0===C?function(e){return(0,zT.jsx)("div",Object.assign({},e))}:C,N=e.manager,R=e.container,P=e.onShow,O=e.onHide,D=void 0===O?function(){}:O,L=e.onExit,M=e.onExited,F=e.onExiting,U=e.onEnter,j=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,LC),q=function(e,n){var r=PC(),i=k((0,t.useState)((function(){return OC(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=OC(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=OC(e);t!==a&&o(t)}),[e,a]),a}(R),z=MC(N),H=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}(),W=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(a),K=k((0,t.useState)(!a),2),G=K[0],Q=K[1],Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return z}),[z]),qS&&!W&&a&&(Y.current=_C()),y||a||G?a&&G&&Q(!1):Q(!0);var X=bC((function(){if(z.add(),ne.current=QS(document,"keydown",ee),te.current=QS(document,"focus",(function(){return setTimeout(Z)}),!0),P&&P(),w){var e=_C(document);z.dialog&&e&&!IC(z.dialog,e)&&(Y.current=e,z.dialog.focus())}})),J=bC((function(){var e;(z.remove(),null==ne.current||ne.current(),null==te.current||te.current(),I)&&(null==(e=Y.current)||null==e.focus||e.focus(T),Y.current=null)}));(0,t.useEffect)((function(){a&&q&&X()}),[a,q,X]),(0,t.useEffect)((function(){G&&J()}),[G,J]),TC((function(){J()}));var Z=bC((function(){if(E&&H()&&z.isTopModal()){var e=_C();z.dialog&&e&&!IC(z.dialog,e)&&z.dialog.focus()}})),$=bC((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&D())})),ee=bC((function(e){p&&27===e.keyCode&&z.isTopModal()&&(null==m||m(e),e.defaultPrevented||D())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=y;if(!q||!(a||re&&!G))return null;var ie=Object.assign({role:s,ref:z.setDialogRef,"aria-modal":"dialog"===s||void 0},B,{style:c,className:u,tabIndex:-1}),ae=S?S(ie):(0,zT.jsx)("div",Object.assign({},ie,{children:t.cloneElement(l,{role:"document"})}));re&&(ae=(0,zT.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:F,onExited:function(){Q(!0),null==M||M.apply(void 0,arguments)},onEnter:U,onEntering:j,onEntered:V,children:ae}));var oe=null;if(h){var se=g;oe=A({ref:z.setBackdropRef,onClick:$}),se&&(oe=(0,zT.jsx)(se,{appear:!0,in:!!a,children:oe}))}return(0,zT.jsx)(zT.Fragment,{children:r.createPortal((0,zT.jsxs)(zT.Fragment,{children:[oe,ae]}),q)})}));FC.displayName="Modal";var UC,jC=Object.assign(FC,{Manager:NC}),VC=["className","children","transitionClasses"],BC=(le(UC={},MS,"show"),le(UC,FS,"show"),UC),qC=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=aS(e,VC),u=(0,t.useCallback)((function(e,t){eC(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,zT.jsx)(oC,rS(rS({ref:n,addEndListener:ZS},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,rS(rS({},n),{},{className:sS()("fade",r,i.props.className,BC[e],o[e])}))}}))}));qC.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},qC.displayName="Fade";var zC,HC=qC,WC=wS("offcanvas-body"),KC=["bsPrefix","className","children"],GC=(le(zC={},MS,"show"),le(zC,FS,"show"),zC),QC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=aS(e,KC);return r=gS(r,"offcanvas"),(0,zT.jsx)(oC,rS(rS({ref:n,addEndListener:ZS},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,rS(rS({},n),{},{className:sS()(i,a.props.className,(e===MS||e===US)&&"".concat(r,"-toggling"),GC[e])}))}}))}));QC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},QC.displayName="OffcanvasToggling";var YC=QC,XC=t.createContext({onHide:function(){}}),JC=n(7),ZC=n.n(JC),$C=["className","variant"],eA={"aria-label":ZC().string,onClick:ZC().func,variant:ZC().oneOf(["white"])},tA=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=aS(e,$C);return(0,zT.jsx)("button",rS({ref:t,type:"button",className:sS()("btn-close",r&&"btn-close-".concat(r),n)},i))}));tA.displayName="CloseButton",tA.propTypes=eA,tA.defaultProps={"aria-label":"Close"};var nA=tA,rA=["closeLabel","closeVariant","closeButton","onHide","children"],iA=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=aS(e,rA),c=(0,t.useContext)(XC),l=bC((function(){null==c||c.onHide(),null==o||o()}));return(0,zT.jsxs)("div",rS(rS({ref:n},u),{},{children:[s,a&&(0,zT.jsx)(nA,{"aria-label":r,variant:i,onClick:l})]}))}));iA.defaultProps={closeLabel:"Close",closeButton:!1};var aA=iA,oA=["bsPrefix","className"],sA=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=aS(e,oA);return n=gS(n,"offcanvas-header"),(0,zT.jsx)(aA,rS(rS({ref:t},i),{},{className:sS()(r,n)}))}));sA.displayName="OffcanvasHeader",sA.defaultProps={closeLabel:"Close",closeButton:!1};var uA,cA=sA,lA=(uA="h5",t.forwardRef((function(e,t){return(0,zT.jsx)("div",rS(rS({},e),{},{ref:t,className:sS()(e.className,uA)}))}))),fA=wS("offcanvas-title",{Component:lA});var hA=Function.prototype.bind.call(Function.prototype.call,[].slice);function dA(e,t){return hA(e.querySelectorAll(t))}function pA(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var vA,mA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yA=".sticky-top",gA=".navbar-toggler",kA=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,RS(t,le({},e,"".concat(parseFloat(RS(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],RS(t,le({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;ie(c(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";dA(r,mA).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),dA(r,yA).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),dA(r,gA).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;ie(c(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=pA(e.className,t):e.setAttribute("class",pA(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";dA(r,mA).forEach((function(e){return t.restore(i,e)})),dA(r,yA).forEach((function(e){return t.restore(a,e)})),dA(r,gA).forEach((function(e){return t.restore(a,e)}))}}]),n}(NC);var bA=kA,wA=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function xA(e){return(0,zT.jsx)(YC,rS({},e))}function EA(e){return(0,zT.jsx)(HC,rS({},e))}var _A=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,_=e.onEntering,I=e.onExited,T=e.backdropClassName,S=e.manager,C=aS(e,wA),A=(0,t.useRef)();r=gS(r,"offcanvas");var N=((0,t.useContext)(vC)||{}).onToggle,R=bC((function(){null==N||N(),null==p||p()})),P=(0,t.useMemo)((function(){return{onHide:R}}),[R]);var O=(0,t.useCallback)((function(e){return(0,zT.jsx)("div",rS(rS({},e),{},{className:sS()("".concat(r,"-backdrop"),T)}))}),[T,r]);return(0,zT.jsx)(XC.Provider,{value:P,children:(0,zT.jsx)(jC,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:R,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:_,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:S||(f?(A.current||(A.current=new bA({handleContainerOverflow:!1})),A.current):function(e){return vA||(vA=new kA(e)),vA}()),transition:xA,backdropTransition:EA,renderBackdrop:O,renderDialog:function(e){return(0,zT.jsx)("div",rS(rS(rS({role:"dialog"},e),C),{},{className:sS()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));_A.displayName="Offcanvas",_A.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var IA=Object.assign(_A,{Body:WC,Header:cA,Title:fA}),TA=t.forwardRef((function(e,n){var r=(0,t.useContext)(vC);return(0,zT.jsx)(IA,rS({ref:n,show:!(null==r||!r.expanded)},e))}));TA.displayName="NavbarOffcanvas";var SA=TA,CA=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],AA=wS("navbar-text",{Component:"span"}),NA=t.forwardRef((function(e,n){var r=hS(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=aS(r,CA),g=gS(i,"navbar"),k=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,zT.jsx)(vC.Provider,{value:w,children:(0,zT.jsx)(cS.Provider,{value:k,children:(0,zT.jsx)(h,rS(rS({ref:n},y),{},{className:sS()(l,g,a&&b,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));NA.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},NA.displayName="Navbar";var RA=Object.assign(NA,{Brand:_S,Collapse:gC,Offcanvas:SA,Text:AA,Toggle:EC}),PA=["bsPrefix","fluid","as","className"],OA=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=aS(e,PA),u=gS(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,zT.jsx)(a,rS(rS({ref:t},s),{},{className:sS()(o,r?"".concat(u).concat(c):u)}))}));OA.displayName="Container",OA.defaultProps={fluid:!1};var DA=OA;n(573);var LA=t.createContext(null);LA.displayName="NavContext";var MA=LA,FA=t.createContext(null),UA=["as","disabled"];function jA(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var VA=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,UA),a=k(jA(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,zT.jsx)(s,Object.assign({},i,o,{ref:t}))}));VA.displayName="Button";var BA=VA,qA=["as","active","eventKey"];function zA(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(cS),c=(0,t.useContext)(MA),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[SC("event-key")]=n,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=bC((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:l}]}var HA=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?BA:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qA),s=k(zA(Object.assign({key:uS(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[SC("active")]=c.isActive,(0,zT.jsx)(r,Object.assign({},o,u,{ref:t}))}));HA.displayName="NavItem";var WA=HA,KA=["as","onSelect","activeKey","role","onKeyDown"];var GA=function(){},QA=SC("event-key"),YA=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,KA),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),p=(0,t.useContext)(cS),v=(0,t.useContext)(FA);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=dA(t,"[".concat(QA,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(QA,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=nC(n,m);return(0,zT.jsx)(cS.Provider,{value:g,children:(0,zT.jsx)(MA.Provider,{value:{role:c,activeKey:uS(u),getControlledId:r||GA,getControllerId:i||GA},children:(0,zT.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));YA.displayName="Nav";var XA=Object.assign(YA,{Item:WA}),JA=t.createContext(null);JA.displayName="CardHeaderContext";var ZA=JA,$A=wS("nav-item");var eN="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||eN?t.useLayoutEffect:t.useEffect,new WeakMap;var tN=["onKeyDown"];var nN=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tN),a=k(jA(Object.assign({tagName:"a"},i)),1)[0],o=bC((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,zT.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,zT.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));nN.displayName="Anchor";var rN=nN,iN=["bsPrefix","className","as","active","eventKey"],aN=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?rN:i,o=e.active,s=e.eventKey,u=aS(e,iN);n=gS(n,"nav-link");var c=k(zA(rS({key:uS(s,u.href),active:o},u)),2),l=c[0],f=c[1];return(0,zT.jsx)(a,rS(rS(rS({},u),l),{},{ref:t,className:sS()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));aN.displayName="NavLink",aN.defaultProps={disabled:!1};var oN=aN,sN=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],uN=t.forwardRef((function(e,n){var r,i,a,o=hS(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=aS(o,sN),g=gS(c,"nav"),k=!1,b=(0,t.useContext)(vC),w=(0,t.useContext)(ZA);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,zT.jsx)(XA,rS({as:u,ref:n,activeKey:m,className:sS()(v,(r={},le(r,g,!k),le(r,"".concat(i,"-nav"),k),le(r,"".concat(i,"-nav-scroll"),k&&p),le(r,"".concat(a,"-").concat(l),!!a),le(r,"".concat(g,"-").concat(l),!!l),le(r,"".concat(g,"-fill"),f),le(r,"".concat(g,"-justified"),h),r))},y))}));uN.displayName="Nav",uN.defaultProps={justify:!1,fill:!1};var cN=Object.assign(uN,{Item:$A,Link:oN});function lN(){var e=k(Hs(NT),2),t=e[0];e[1];return t?(0,zT.jsx)(RA,{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",children:(0,zT.jsxs)(DA,{id:"containerNavbar",children:[(0,zT.jsx)(RA.Brand,{href:"#/dashboard",children:(0,zT.jsx)("img",{src:tS,alt:"logo",className:"logo",style:{width:"125px",height:"125px"}})}),(0,zT.jsxs)(cN,{children:[(0,zT.jsx)(cN.Link,{href:"#/home",children:"Home"}),(0,zT.jsx)(cN.Link,{href:"#/news",children:"News"}),(0,zT.jsx)(cN.Link,{href:"#/dashboard",children:"Dashboard"}),(0,zT.jsx)(cN.Link,{href:"#/profile",children:"Profile"}),(0,zT.jsx)(cN.Link,{href:"#",onClick:VT,children:"Logout"})]})]})}):(0,zT.jsx)(RA,{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",children:(0,zT.jsxs)(DA,{id:"containerNavbar",children:[(0,zT.jsx)(RA.Brand,{href:"#/dashboard",children:(0,zT.jsx)("img",{src:tS,alt:"logo",className:"logo",style:{width:"125px",height:"125px"}})}),(0,zT.jsxs)(cN,{children:[(0,zT.jsx)(cN.Link,{href:"#/login",children:"Log In"}),(0,zT.jsx)(cN.Link,{href:"#/register",children:"Register"}),(0,zT.jsx)(cN.Link,{href:"#/news",children:"News"})]})]})})}var fN=n(954);function hN(){var e=k(Hs(NT),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),u=s[0],c=s[1],l=k((0,t.useState)(""),2),f=l[0],h=l[1],d=k((0,t.useState)(""),2),p=d[0],v=d[1],m=k((0,t.useState)(""),2),y=m[0],g=m[1],b=k((0,t.useState)(""),2),w=b[0],x=b[1],E=k((0,t.useState)(""),2),_=E[0],I=E[1],T=k((0,t.useState)(""),2),S=T[0],C=T[1],A=V(),N=se(he().mark((function e(){var t,r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RT.collection("users").where("uid","==",n.uid).get();case 3:t=e.sent,r=t.docs[0].data(),o(r.name),C(r.email),g(r.CNP),x(r.age),v(r.sex),I(r.degree),h(r.country),c(r.phone),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while fetching user data");case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),R=k((0,t.useState)(null),2),P=R[0],O=R[1],D=k((0,t.useState)(""),2),L=D[0],M=D[1];return(0,t.useEffect)((function(){if(!r)return n?void N():A("/home",{replace:!0})}),[n,r]),(0,zT.jsx)("div",{className:"dashUnderNav",children:(0,zT.jsxs)("div",{className:"row2",children:[(0,zT.jsx)("div",{className:"column25",children:(0,zT.jsxs)("div",{children:[(0,zT.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=PT.ref("/images/".concat(n.uid,"/ProfilePic/").concat(P.name));t.put(P).on("state_changed",console.log,console.error,(function(){t.getDownloadURL().then((function(e){O(null),M(e)}))}))},children:[(0,zT.jsx)("input",{type:"file",onChange:function(e){O(e.target.files[0])},accept:"image/*"}),(0,zT.jsx)("button",{hidden:!P,onClick:function(){return P&&Tc(Sc(PT,"images/".concat(n.uid,"/ProfilePic"))).then((function(e){console.log(e),console.log(L)})),L||fN},children:"upload to firebase"})]}),(0,zT.jsx)("img",{src:L||fN,style:{height:"150px",width:"150px"},alt:"profilePicture"})]})}),(0,zT.jsx)("div",{className:"column75",children:(0,zT.jsxs)("form",{className:"frm",children:[(0,zT.jsxs)("div",{className:"row2",children:[(0,zT.jsxs)("div",{className:"column50 left",children:[(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Name"}),(0,zT.jsx)("input",{type:"text",value:a||"",onChange:function(e){return o(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Email"}),(0,zT.jsx)("input",{type:"text",value:S||"",onChange:function(e){return C(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg ",children:[(0,zT.jsx)("label",{children:"CNP"}),(0,zT.jsx)("input",{type:"text",value:y||"",onChange:function(e){return g(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Age"}),(0,zT.jsx)("input",{type:"text",value:w||"",onChange:function(e){return x(e.target.value)}})]})]}),(0,zT.jsxs)("div",{className:"column50 right",children:[(0,zT.jsxs)("div",{className:"row mrg ",children:[(0,zT.jsx)("label",{children:"Sex"}),(0,zT.jsx)("input",{type:"text",value:p||"",onChange:function(e){return v(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg ",children:[(0,zT.jsx)("label",{children:"Degree"}),(0,zT.jsx)("input",{type:"text",value:_||"",onChange:function(e){return I(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg ",children:[(0,zT.jsx)("label",{children:"Country"}),(0,zT.jsx)("input",{type:"text",value:f||"",onChange:function(e){return h(e.target.value)}})]}),(0,zT.jsxs)("div",{className:"row mrg ",children:[(0,zT.jsx)("label",{children:"Phone"}),(0,zT.jsx)("input",{type:"text",value:u||"",onChange:function(e){return c(e.target.value)}})]})]})]}),(0,zT.jsx)("div",{className:"btnflex",children:(0,zT.jsx)("button",{className:"dreapta",type:"submit",onClick:function(){jT({user:n||"",name:a||"",age:w||"",sex:p||"",degree:_||"",CNP:y||"",email:S||"",country:f||"",phone:u||""})},children:"submit"})})]})})]})})}var dN=n(219),pN=n(904),vN=function(e){return(0,zT.jsxs)("div",{id:"alternativeLogin",children:[(0,zT.jsx)("label",{children:"Or sign in with:"}),(0,zT.jsxs)("div",{id:"iconGroup",children:[(0,zT.jsx)(mN,{}),(0,zT.jsx)(yN,{})]})]})},mN=function(e){return(0,zT.jsx)("button",{id:"facebookIcon",children:(0,zT.jsx)("img",{className:"icon",alt:"facebookLogin",src:dN,onClick:UT})})},yN=function(e){return(0,zT.jsx)("button",{id:"googleIcon",children:(0,zT.jsx)("img",{className:"icon",alt:"googleLogin",src:pN,onClick:LT})})},gN=function(){var e=k((0,t.useState)(""),2),n=e[0],r=e[1],i=k((0,t.useState)(""),2),a=i[0],o=i[1],s=k((0,t.useState)(""),2),u=s[0],c=s[1],l=k(Hs(NT),2),f=l[0],h=l[1],d=V();return(0,t.useEffect)((function(){h||f&&d("/dashboard",{replace:!0})}),[f,h,d]),(0,zT.jsxs)("div",{id:"loginform",children:[(0,zT.jsx)("h2",{id:"headerTitle",children:"Register"}),(0,zT.jsx)("div",{className:"row ",children:(0,zT.jsx)("input",{type:"text",value:u,onChange:function(e){return c(e.target.value)},placeholder:"Full Name"})}),(0,zT.jsx)("div",{className:"row ",children:(0,zT.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"E-mail Address"})}),(0,zT.jsx)("div",{className:"row ",children:(0,zT.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Password"})}),(0,zT.jsx)("div",{className:"row ",id:"button",children:(0,zT.jsx)("button",{onClick:function(){u||alert("Please enter name"),FT(u,n,a)},children:"Register"})}),(0,zT.jsx)("div",{className:"row",id:"button",children:(0,zT.jsx)("a",{href:"#/login",children:"Log In"})}),(0,zT.jsx)(vN,{})]})},kN=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={user:null,name:"",phone:"",country:"",sex:"",CNP:"",age:"",degree:"",email:"",file:{},url:""},r.handleUpload=r.handleUpload.bind(h(r)),r.handleChange=r.handleChange.bind(h(r)),r.getProfilePic=r.getProfilePic.bind(h(r)),r}return o(n,[{key:"handleChange",value:function(e){this.setState({file:e.target.files[0]}),console.log(e.target.files[0]),console.log(this.state.file)}},{key:"handleUpload",value:function(e){var t=this;e.preventDefault();var n=PT.ref("/images/".concat(this.state.user.uid,"/ProfilePic/").concat(this.state.file.name));n.put(this.state.file).on("state_changed",console.log,console.error,(function(){n.getDownloadURL().then((function(e){t.setState({file:null}),t.setState({url:e})}))}))}},{key:"getProfilePic",value:function(){var e=this;this.state.file&&Tc(Sc(PT,"images/".concat(this.state.user.uid,"/ProfilePic"))).then((function(t){console.log(t),console.log(e.state.url)}));return this.state.url?this.state.url:fN}},{key:"fetchUserDetails",value:function(){var e=se(he().mark((function e(){var t,n;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.user){e.next=20;break}return e.prev=1,e.next=4,RT.collection("users").where("uid","==",this.state.user.uid).get();case 4:t=e.sent,n=t.docs[0].data(),this.setState({name:n.name||""}),this.setState({age:n.age||""}),this.setState({sex:n.sex||""}),this.setState({degree:n.degree||""}),this.setState({CNP:n.CNP||""}),this.setState({email:n.email||""}),this.setState({country:n.country||""}),this.setState({phone:n.phone||""}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0),alert("Error fetching user data");case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"awaitUser",value:function(){var e=this;NT.onAuthStateChanged(function(){var t=se(he().mark((function t(n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.setState({user:n}),t.next=4,e.fetchUserDetails();case 4:t.next=7;break;case 6:return t.abrupt("return",(0,zT.jsx)(O,{to:"/home"}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){this.awaitUser()}},{key:"render",value:function(){var e=this;return(0,zT.jsx)("div",{className:"dashUnderNav",children:(0,zT.jsxs)("div",{className:"row2",children:[(0,zT.jsx)("div",{className:"column25",children:(0,zT.jsxs)("div",{children:[(0,zT.jsxs)("form",{onSubmit:this.handleUpload,children:[(0,zT.jsx)("input",{type:"file",onChange:this.handleChange,accept:"image/*"}),(0,zT.jsx)("button",{onClick:this.getProfilePic,children:"upload to firebase"})]}),(0,zT.jsx)("img",{src:this.state.url||fN,style:{height:"150px",width:"150px"},alt:"profilePicture"})]})}),(0,zT.jsx)("div",{className:"column75",children:(0,zT.jsxs)("form",{className:"frm",children:[(0,zT.jsxs)("div",{className:"row2",children:[(0,zT.jsxs)("div",{className:"column50 left",children:[(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Name"}),(0,zT.jsx)("input",{type:"text",value:this.state.name||"",onChange:function(t){return e.setState({name:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Email"}),(0,zT.jsx)("input",{type:"text",value:this.state.email||"",onChange:function(t){return e.setState({email:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"CNP"}),(0,zT.jsx)("input",{type:"text",value:this.state.CNP||"",onChange:function(t){return e.setState({CNP:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Age"}),(0,zT.jsx)("input",{type:"text",value:this.state.age||"",onChange:function(t){return e.setState({age:t.target.value})}})]})]}),(0,zT.jsxs)("div",{className:"column50 right",children:[(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Sex"}),(0,zT.jsx)("input",{type:"text",value:this.state.sex||"",onChange:function(t){return e.setState({sex:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Degree"}),(0,zT.jsx)("input",{type:"text",value:this.state.degree||"",onChange:function(t){return e.setState({degree:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Country"}),(0,zT.jsx)("input",{type:"text",value:this.state.country||"",onChange:function(t){return e.setState({country:t.target.value})}})]}),(0,zT.jsxs)("div",{className:"row mrg",children:[(0,zT.jsx)("label",{children:"Phone"}),(0,zT.jsx)("input",{type:"text",value:this.state.phone||"",onChange:function(t){return e.setState({phone:t.target.value})}})]})]})]}),(0,zT.jsx)("div",{className:"btnflex",children:(0,zT.jsx)("button",{className:"dreapta",type:"submit",children:"submit"})})]})})]})})}}]),n}(t.Component),bN=function(e){u(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){return(0,zT.jsx)("div",{className:"App container",children:(0,zT.jsxs)(ne,{children:[(0,zT.jsx)(lN,{}),(0,zT.jsxs)(F,{children:[(0,zT.jsx)(L,{exact:!0,path:"/register",element:(0,zT.jsx)(gN,{})}),(0,zT.jsx)(L,{exact:!0,path:"/login",element:(0,zT.jsx)(eS,{})}),(0,zT.jsx)(L,{exact:!0,path:"/dashboard",element:(0,zT.jsx)(WT,{})}),(0,zT.jsx)(L,{exact:!0,path:"/home",element:(0,zT.jsx)(QT,{})}),(0,zT.jsx)(L,{exact:!0,path:"/profile",element:(0,zT.jsx)(hN,{})}),(0,zT.jsx)(L,{exact:!0,path:"/news",element:(0,zT.jsx)(HT,{})}),(0,zT.jsx)(L,{exact:!0,path:"/profile2",element:(0,zT.jsx)(kN,{})}),(0,zT.jsx)(L,{path:"/",element:(0,zT.jsx)(QT,{})})]})]})})}}]),n}(t.Component),wN=bN;r.render((0,zT.jsx)(wN,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.70aaf804.js.map